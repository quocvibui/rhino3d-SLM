{
  "source_url": "https://github.com/compas-dev/compas_xr/blob/2ef8117009c9d775d61b4e8b5f412615aac480db/src/compas_xr/ghpython/components/Cx_Firebase_Config/code.py",
  "repo": "compas-dev/compas_xr",
  "repo_stars": 15,
  "repo_description": "COMPAS XR streamlines extended reality workflows to ease the implementation of human-machine collaborative applications in architectural research and educational environments.",
  "license": "MIT",
  "filepath": "src/compas_xr/ghpython/components/Cx_Firebase_Config/code.py",
  "instruction": "Settings for Firebase.",
  "code": "\"\"\"\nSettings for Firebase.\n\nCOMPAS XR v1.0.0\n\"\"\"\n\nimport json\nimport os\n\nfrom ghpythonlib.componentbase import executingcomponent as component\n\nfrom compas_xr.ghpython.firebase_config import FirebaseConfig\n\n\nclass FirebaseConfigComponent(component):\n    def RunScript(self, filepath, filename, api_key, auth_domain, database_url, storage_bucket):\n        if not (api_key and auth_domain and database_url and storage_bucket):\n            self.Message = \"You are missing some config information\"\n            raise Exception(\"Missing Config Info\")\n\n        config_path = None\n        firebase_config = FirebaseConfig(api_key, auth_domain, database_url, storage_bucket)\n        config = firebase_config.__data__()\n\n        if config and filepath:\n            if os.path.exists(filepath):\n                if not filename:\n                    filename = os.path.join(filepath, \"firebase_config.json\")\n                if filename:\n                    filename = os.path.join(filepath, filename)\n\n                config = dict(config)\n                with open(filename, \"w\") as f:\n                    json.dump(config, f)\n                config_path = filename\n                self.Message = \"Config Written\"\n            else:\n                self.Message = \"You filepath does not exist\"\n                raise Exception(\"Path does not exist {}\".format(filepath))\n        else:\n            self.Message = \"You are missing your filepath\"\n            raise Exception(\"Missing Filepath\")\n\n        return config_path\n",
  "language": "python",
  "imports": [
    "ghpythonlib"
  ],
  "has_docstring": true
}