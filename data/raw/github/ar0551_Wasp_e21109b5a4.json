{
  "source_url": "https://github.com/ar0551/Wasp/blob/66f63c018f2420d37aa451ade0178de260946b0c/bin/standaloneWasp-RhinoGeometry/wasp_geometry.py",
  "repo": "ar0551/Wasp",
  "repo_stars": 67,
  "repo_description": "Combinatorial Design with Grasshopper plug-in (LGPL) initiated by Andrea Rossi",
  "license": "LGPL-3.0",
  "filepath": "bin/standaloneWasp-RhinoGeometry/wasp_geometry.py",
  "instruction": "Wasp: Discrete Design with Grasshopper plug-in (GPL) initiated by Andrea Rossi This file is part of Wasp. Copyright (c) 2017, Andrea Rossi <a.rossi.andrea@gmail.com> Wasp is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 3 of the License, or (at your option) any later version. Wasp is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details. You should have received a copy of the GNU General Public License along with Wasp; If not, see <http://www.gnu.org/licenses/>. @license GPL-3.0 <https://www.gnu.org/licenses/gpl.html> Significant parts of Wasp have been developed by Andrea Rossi as part of research on digital materials and discrete design at: DDU Digital Design Unit - Prof. Oliver Tessmann Technische Universitat Darmstadt",
  "code": "# Wasp: Discrete Design with Grasshopper plug-in (GPL) initiated by Andrea Rossi\n# \n# This file is part of Wasp.\n# \n# Copyright (c) 2017, Andrea Rossi <a.rossi.andrea@gmail.com>\n# Wasp is free software; you can redistribute it and/or modify \n# it under the terms of the GNU General Public License as published \n# by the Free Software Foundation; either version 3 of the License, \n# or (at your option) any later version. \n# \n# Wasp is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of \n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \n# GNU General Public License for more details.\n# \n# You should have received a copy of the GNU General Public License\n# along with Wasp; If not, see <http://www.gnu.org/licenses/>.\n# \n# @license GPL-3.0 <https://www.gnu.org/licenses/gpl.html>\n#\n# Significant parts of Wasp have been developed by Andrea Rossi\n# as part of research on digital materials and discrete design at:\n# DDU Digital Design Unit - Prof. Oliver Tessmann\n# Technische Universitat Darmstadt\n\n\n#########################################################################\n# \n# Wasp 0.2.1\n# Wasp Geometry classses - Rhino / Grasshopper\n#\n# This file implements the basic geometry classes needed to run Wasp.\n# The implementation relies on RhinoCommon.\n# The aim of these classes is to allow easy implementation of Wasp for other platforms.\n# By implementing all the classes and methods of this file in a different engine,\n# it is possible to run Wasp outside of Grasshopper.\n#\n#########################################################################\n\n#########################################################################\n##\t\t\t\t\t\t\t\t IMPORTS\t\t\t\t\t\t\t   ##\n#########################################################################\nimport Rhino\n\n\n#########################################################################\n##\t\t\t\t\t\t\tGLOBAL VARIABLES\t\t\t\t\t\t   ##\n#########################################################################\nmodel_tolerance = Rhino.RhinoDoc.ActiveDoc.ModelAbsoluteTolerance*5\n\n\n#########################################################################\n##\t\t\t\t\t\t\tGEOMETRY CLASSES\t\t\t\t\t\t   ##\n#########################################################################\n\n## Point / Vector3d class\nclass WVector3:\n\tdef __init__(self, _x, _y, _z):\n\t\tself.pt = Rhino.Geometry.Point3d(_x, _y, _z)\n\t\n\tdef toVector3d(self):\n\t\treturn Rhino.Geometry.Vector3d(self.pt.x, self.pt.y, self.pt.z)\n\t\n\tdef reverse(self):\n\t\treturn self.toVector3d().Reverse()\n\t\n\tdef transform(self, wTr):\n\t\tself.pt.Transform(wTr.trans)\n\t\n\tdef transform_copy(self, wTr):\n\t\tpt_trans = Rhino.Geometry.Point3d(self.pt.x, self.pt.y, self.pt.z)\n\t\tpt_trans.Transform(wTr.trans)\n\t\treturn WVector3(pt_trans.x, pt_trans.y, pt_trans.z)\n\t\n\tdef distanceTo(self, wVec2):\n\t\treturn self.pt.DistanceTo(wVec2.pt)\n\t\t\n\n## Plane class\nclass WPlane:\n\tdef __init__(self, _origin, _xAxis, _yAxis):\n\t\tself.origin = _origin\n\t\tself.xAxis = _xAxis\n\t\tself.yAxis = _yAxis\n\t\tself.pln = Rhino.Geometry.Plane(self.origin.pt, self.xAxis.toVector3d(), self.yAxis.toVector3d())\n\t\n\tdef flipY_copy(self):\n\t\tflip_yVec = self.yAxis.reverse\n\t\tflip_yAxis = WVector3(flip_yVec.x, flip_yVec.y, flip_yVec.z)\n\t\treturn WPlane(self.origin, self.xAxis, flip_yAxis)\n\t\n\tdef transform(self, wTr):\n\t\tself.pln.Transform(wTr.trans)\n\t\n\tdef transform_copy(self, wTr):\n\t\torigin_trans = self.origin.transform_copy(wTr.trans)\n\t\txAxis_trans = self.xAxis.transform_copy(wTr.trans)\n\t\tyAxis_trans = self.yAxis.transform_copy(wTr.trans)\n\t\treturn WPlane(origin_trans, xAxis_trans, yAxis_trans)\n\t\t\n\n## line class (for supports and connection orientation)\nclass WLine:\n\tdef __init__(self):\n\t\tpass\n\t\n\tdef transform(self):\n\t\tpass\n\n\n## Transformation class\nclass WTransform():\n\tdef __init__(self, _trans):\n\t\tself.trans = _trans\n\t\n\t@classmethod\n\tdef createOrientTransform(cls, wPln_01, wPln_02):\n\t\torient_trans = Rhino.Geometry.Transform.PlaneToPlane(wPln_01.pln, wPln_02.pln)\n\t\treturn cls(orient_trans)\n\t\n\t@classmethod\n\tdef createTranslationTransform(cls, wVec):\n\t\ttranslation_trans = Rhino.Geometry.Transform.Translation(wVec.pt.x, wVec.pt.y, wVec.pt.z)\n\t\treturn cls(translation_trans)\n\t\t\n\t\n## Box class\nclass WBox:\n\tdef __init__(self):\n\t\tpass\n\n\n## Mesh class\nclass WMesh:\n\tdef __init__(self, _geo):\n\t\tself.geo = _geo\n\t\n\t@classmethod\n\tdef createFromMesh(cls, _mesh):\n\t\treturn cls(_mesh)\n\t\n\tdef transform(self, wTr):\n\t\tself.geo.Transform(wTr.trans)\n\t\n\tdef transform_copy(self, wTr):\n\t\tgeo_trans = self.geo.Duplicate()\n\t\treturn geo_trans.Transform(wTr.trans)\n\t\n\tdef intersectLine(self, wLine):\n\t\tpass\n\t\n\tdef intersectMesh(self, wMesh):\n\t\tif len(Rhino.Geometry.Intersect.Intersection.MeshMeshFast(self.geo, wMesh)) > 0:\n\t\t\treturn True\n\t\treturn False\n\t\n\tdef pointInside(self, wVec):\n\t\tpass\n\t\n\n## Generic Geometry class (for attributes)\nclass WGeometry:\n\tdef __init__(self):\n\t\tpass\n\t\n\tdef transform(self):\n\t\tpass\n\n\n\t\t\n\n\n\t\n\t\t\n\t\n\n\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "RhinoCommon"
  ],
  "has_docstring": true
}