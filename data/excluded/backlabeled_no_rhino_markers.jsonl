{"instruction": "Implement a Rhino Python script for: lines", "code": "import compute_rhino3d.Util\nimport compute_rhino3d.Grasshopper as gh\nimport rhino3dm\nimport json\n\ncompute_rhino3d.Util.url = \"http://localhost:8081/\"\n#compute_rhino3d.Util.apiKey = \"\"\n\npt1 = rhino3dm.Point3d(0, 0, 0)\ncircle = rhino3dm.Circle(pt1, 5)\nangle = 20\n\n# convert circle to curve and stringify\ncurve = json.dumps(circle.ToNurbsCurve().Encode())\n\n# create list of input trees\ncurve_tree = gh.DataTree(\"RH_IN:curve\")\ncurve_tree.Append([0], [curve])\nrotate_tree = gh.DataTree(\"RH_IN:rotate\")\nrotate_tree.Append([0], [angle])\ntrees = [curve_tree, rotate_tree]\n\noutput = gh.EvaluateDefinition('twisty.gh', trees)\n# print(output)\n\n# decode results\nbranch = output['values'][0]['InnerTree']['{ 0; }']\nlines = [rhino3dm.CommonObject.Decode(json.loads(item['data'])) for item in branch]\n\nfilename = 'twisty.3dm'\n\nprint('Writing {} lines to {}'.format(len(lines), filename))\n\n# create a 3dm file with results\nmodel = rhino3dm.File3dm()\nfor l in lines:\n    model.Objects.AddCurve(l) # they're actually LineCurves...\n\nmodel.Write(filename)", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhino3dm", "tags": ["curve", "line", "point"], "original_file": "Doerge_rhino-developer-samples_6c0ea32936.json", "repo": "Doerge/rhino-developer-samples"}
{"instruction": "Write a RhinoCommon script working with Point3d", "code": "import Rhino.Geometry as rg\n\n\"\"\"\n    Inputs:\n\n\"\"\"\n\ngrid = []\nfor i in range(10):\n    for j in range(10):\n        grid.append( rg.Point3d(i,j,0) )\n\na = grid\n\nline = rg.Line(grid[0],grid[18])\n\nb = line.Length\n\nc = line\n\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "RhinoCommon", "tags": ["line", "point", "RhinoCommon"], "original_file": "babivillanova_AIA-GeoOpt_7d67494ed8.json", "repo": "babivillanova/AIA-GeoOpt"}
{"instruction": "Write a function to delete all", "code": "import rhinoscriptsyntax as rs\nimport math as ma\nimport random as rd\n\ndef delete_all():\n    all_objects = rs.ObjectsByType(0)\n    rs.DeleteObjects(all_objects)\n\ndef look_for_firefly(nod):\n    \n    firefly = []\n    \n    for k in range(1, nod):\n        r1 = rd.random()\n        r2 = rd.random()\n        r3 = rd.random()\n        (x, y) = ((5 * r1),(5 * r2)) #zahyou\n        light = 5 * r3 #hotaru_no_hikari\n        firefly.append((light, (x,y)))\n    \n    for l in range(1,10):\n        for k in range(1,nod):\n            for n in range(1, nod):\n                if firefly[k][0] > firefly[n][0]:\n                    h = (firefly[k][0]/25)**2\n                    firefly[n][1] = firefly[n][1]+ h*(firefly[k][1])\n    for a in range(1, nod):\n        rs.AddCircle(firefly[a][1],0.1)\n\nlook_for_firefly(50)", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhinoscriptsyntax", "tags": ["rhinoscriptsyntax", "functions"], "original_file": "bayasshii_RhinoPython_7fe4fc0bc8.json", "repo": "bayasshii/RhinoPython"}
{"instruction": "Retrieves user credentials from environment variables, GPG file, or interactive prompt.", "code": "import os\nfrom typing import Optional, Tuple\nfrom core.base import ScriptContext\nfrom utils.gpg import get_gpg_credentials\nfrom utils.user_input import read_user_input\nfrom utils.display import console, get_global_color_scheme\nfrom utils.app_lifecycle import exit_now\n\n\ndef get_auth_creds(ctx: ScriptContext) -> Tuple[Optional[str], Optional[str]]:\n    \"\"\"\n    Retrieves user credentials from environment variables, GPG file, or interactive prompt.\n    The credentials are also stored in the context object.\n    \"\"\"\n    logger = ctx.logger\n    colors = get_global_color_scheme(ctx.cfg)\n\n    username = os.getenv(\"USER\")\n    password = os.getenv(\"TACACS_PW\")\n\n    if not password:\n        logger.info(\"Auth - TACACS_PW not set, checking GPG credentials\")\n        creds = get_gpg_credentials(ctx)\n        if creds:\n            username, password = creds\n            logger.info(\"Auth - GPG credentials obtained\")\n        else:\n            logger.info(\"Auth - GPG credentials not available, requesting credential from user\")\n            while not password:\n                console.clear()\n                console.print(f\"\\n[{colors['description']}]Set up the '[{colors['error']}]TACACS_PW[/]' environment variable to avoid typing credentials.[/]\\n\")\n                password = read_user_input(ctx, f\"[{colors['header']} {colors['bold']}]Provide security credential:[/]\", True)\n\n    if not username:\n        logger.info(\"Auth - USER not set, requesting username\")\n        username = read_user_input(ctx, f\"[{colors['header']} {colors['bold']}]Provide username:[/]\")\n        if not username:\n            logger.error(\"Auth - username is required but not provided\")\n            exit_now(ctx, 1, \"Username is required for authentication.\")\n            return (None, None)\n\n    if username:\n        ctx.username = str(username)\n    if password:\n        ctx.password = str(password)\n\n    return (username, password)\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhinoscriptsyntax", "tags": ["functions"], "original_file": "evdanil_cn-tool_8947782735.json", "repo": "evdanil/cn-tool"}
{"instruction": "Attempt to decrypt the GPG file and handle possible subprocess exceptions.", "code": "import logging\nimport subprocess\nfrom typing import Optional, Tuple\nfrom pathlib import Path\nfrom core.base import ScriptContext\nfrom utils.file_io import check_file_accessibility, check_file_timeliness\n\n\ndef decrypt_gpg_file(logger: logging.Logger, file_path: Path) -> Optional[str]:\n    \"\"\"Attempt to decrypt the GPG file and handle possible subprocess exceptions.\"\"\"\n    try:\n        result = subprocess.run(\n            [\"gpg\", \"--batch\", \"-d\", file_path],\n            capture_output=True, text=True, check=True, timeout=90\n        )\n        return result.stdout\n    except (subprocess.CalledProcessError, subprocess.TimeoutExpired, FileNotFoundError) as e:\n        logger.error(f\"Unable to decrypt {file_path} - {e}\")\n        return None\n\n\ndef parse_gpg_credentials(gpg_output: str) -> Optional[Tuple[str, str]]:\n    \"\"\"Parse decrypted GPG output to extract user and password.\"\"\"\n    user = password = None\n    for line in gpg_output.splitlines():\n        if line.startswith(\"User =\"):\n            user = line.split(\"=\", 1)[1].strip()\n        elif line.startswith(\"Password =\"):\n            password = line.split(\"=\", 1)[1].strip()\n    return (user, password) if user and password else None\n\n\ndef get_gpg_credentials(ctx: ScriptContext) -> Optional[Tuple[str, str]]:\n    \"\"\"Main function to get decrypted GPG credentials.\"\"\"\n    file_path: Path = ctx.cfg[\"gpg_credentials\"]\n    if not check_file_accessibility(ctx.logger, file_path) or not check_file_timeliness(ctx.logger, file_path):\n        return None\n\n    decrypted_output = decrypt_gpg_file(ctx.logger, file_path)\n    return parse_gpg_credentials(decrypted_output) if decrypted_output else None\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhinoscriptsyntax", "tags": ["line", "functions"], "original_file": "evdanil_cn-tool_936f4bfb58.json", "repo": "evdanil/cn-tool"}
{"instruction": "Implement a Rhino Python script for: lines", "code": "import compute_rhino3d.Util\nimport compute_rhino3d.Grasshopper as gh\nimport rhino3dm\nimport json\n\ncompute_rhino3d.Util.url = \"http://localhost:5000/\"\n#compute_rhino3d.Util.apiKey = \"\"\n\npt1 = rhino3dm.Point3d(0, 0, 0)\ncircle = rhino3dm.Circle(pt1, 5)\nangle = 20\n\n# convert circle to curve and stringify\ncurve = json.dumps(circle.ToNurbsCurve().Encode())\n\n# create list of input trees\ncurve_tree = gh.DataTree(\"curve\")\ncurve_tree.Append([0], [curve])\nrotate_tree = gh.DataTree(\"rotate\")\nrotate_tree.Append([0], [angle])\ntrees = [curve_tree, rotate_tree]\n\noutput = gh.EvaluateDefinition('twisty.gh', trees)\nprint(output)\n\n# decode results\nbranch = output['values'][0]['InnerTree']['{0;0}']\nlines = [rhino3dm.CommonObject.Decode(json.loads(item['data'])) for item in branch]\n\nfilename = 'twisty.3dm'\n\nprint('Writing {} lines to {}'.format(len(lines), filename))\n\n# create a 3dm file with results\nmodel = rhino3dm.File3dm()\nfor l in lines:\n    model.Objects.AddCurve(l) # they're actually LineCurves...\n\nmodel.Write(filename)\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhino3dm", "tags": ["curve", "line", "point"], "original_file": "felipeharker_alexandria-lab-scripting_0e61f39b95.json", "repo": "felipeharker/alexandria-lab-scripting"}
{"instruction": "Implement a Rhino Python script for: rhino", "code": "import rhino3dm\n\n# Initialize Rhino3dm\nrhino3dm.license = \"RH70-RB03-HGG4-UH0J-A1VP-846R\"  # Replace with your Rhino license key\nmodel = rhino3dm.File3dm()  # Create a new 3DM model\n\n# Import the OBJ file into Rhino3dm\nobj_file_path = \"unit_surf_5.obj\"\nsuccess = model.Import(obj_file_path)\n\nif not success:\n    print(\"Failed to import the OBJ file.\")\nelse:\n    print(\"OBJ file imported successfully.\")\n\n# Convert the mesh to NURBS surfaces\n# This may require additional steps and manual adjustments\n# depending on the complexity of the mesh\n\n# Save the model with NURBS surfaces to a 3DM file\noutput_3dm_file = \"output.nurbs.3dm\"\nmodel.Write(output_3dm_file)\n\nprint(f\"Conversion complete. NURBS model saved to {output_3dm_file}\")\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhino3dm", "tags": ["surface", "mesh"], "original_file": "kevin866_conversion_cbfe4ffafc.json", "repo": "kevin866/conversion"}
{"instruction": "Write a rhinoscriptsyntax script using ObjectColor", "code": "import rhinoscriptsyntax as rs\nimport math as mt\nfrom random import (randint as ri, uniform as uf)\nimport random\nfrom itertools import product, starmap\n\n\nmap(lambda x: rs.ObjectColor(\n    x[0](listPoints2), x[1]), [\n        (rs.AddPolyline, (222,220,10)),\n        (rs.AddCurve, (22,220,55)),\n        (rs.AddInterpCurve, (0,100,50))\n    ])\n\nmap(rs.AddPoint, listPoints2)\n\nmap(lambda x: rs.AddPoint(x*mt.cos(x), x*mt.sin(x), 0), \n        [x for x in rs.frange(0.0, 70.0, 0.2)])\n\n\n\nrs.AddCurve(\n        [ ((i*mt.cos(i)), (i*mt.sin(i)), i) \n            for i in rs.frange(0.0, 70.0, 0.2)]\n        )\n\nrs.AddCurve(\n        [ tuple( map(lambda x: ri(-100,100), range(3)) ) \n            for i in range(30) ])\n\n\nfor x, y, z in product( *[range(0,256,10) for i in range(3)] ):\n    rs.ObjectColor(\n            rs.AddPoint([x,y,z]), [x,y,z])\n\n#\n# for x, y in product(*[rs.frange(0.0, 10.0, 0.1) for i in range(2)]):\n#     rs.AddPoint(x, y, (mt.sin(x) * mt.cos(y)) )\n#\n#\n# starmap(lambda x,y,z,r,g,b: rs.ObjectColor(\n#     rs.AddPoint(x,y,z), [r,g,b]),\n#     [(ri(0,100),)*3 + (uf(0,255),)*3) for i in range(30)]))\n#\n#\nmap(lambda x: rs.AddPoint(x[0],x[1],x[2]),\n        [tuple(map(lambda x: ri(0,100), range(3))) + tuple(map(lambda x: uf(0,255), \\\n                range(3))) for i in range(10000)])\n\n\ntuple(starmap(lambda x,y,z,r,g,b: rs.ObjectColor(\n    rs.AddPoint(x,y,z), [r,g,b]),\n\n    [tuple( map(lambda x: ri(0,100), range(3)) ) + \\\n            tuple( map(lambda x: uf(0,255), range(3)) ) \n            for i in range(10000)]\n    ))\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhinoscriptsyntax", "tags": ["curve", "rhinoscriptsyntax", "line", "point"], "original_file": "labryga_rhino_b131fe2646.json", "repo": "labryga/rhino"}
{"instruction": "Implement a Rhino Python script for: lines", "code": "import compute_rhino3d.Util\nimport compute_rhino3d.Grasshopper as gh\nimport rhino3dm\nimport json\n\ncompute_rhino3d.Util.url = \"http://localhost:5000/\"\n#compute_rhino3d.Util.apiKey = \"\"\n\npt1 = rhino3dm.Point3d(0, 0, 0)\ncircle = rhino3dm.Circle(pt1, 5)\nangle = 20\n\n# convert circle to curve and stringify\ncurve = json.dumps(circle.ToNurbsCurve().Encode())\n\n# create list of input trees\ncurve_tree = gh.DataTree(\"curve\")\ncurve_tree.Append([0], [curve])\nrotate_tree = gh.DataTree(\"rotate\")\nrotate_tree.Append([0], [angle])\ntrees = [curve_tree, rotate_tree]\n\noutput = gh.EvaluateDefinition('twisty.gh', trees)\nprint(output)\n\n# decode results\nbranch = output['values'][0]['InnerTree']['{0;0}']\nlines = [rhino3dm.CommonObject.Decode(json.loads(item['data'])) for item in branch]\n\nfilename = 'twisty.3dm'\n\nprint('Writing {} lines to {}'.format(len(lines), filename))\n\n# create a 3dm file with results\nmodel = rhino3dm.File3dm()\nfor l in lines:\n    model.Objects.AddCurve(l) # they're actually LineCurves...\n\nmodel.Write(filename)\n", "source": "backlabeled", "category": "backlabeled", "difficulty": "medium", "api": "rhino3dm", "tags": ["curve", "line", "point"], "original_file": "mcneel_rhino-developer-samples_6c0ea32936.json", "repo": "mcneel/rhino-developer-samples"}
