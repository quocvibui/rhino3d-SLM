{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_rhino/scene/frameobject.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_rhino/scene/frameobject.py",
  "instruction": "Frameobject",
  "code": "from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport scriptcontext as sc  # type: ignore\n\nfrom compas.colors import Color\nfrom compas.scene import GeometryObject\nfrom compas_rhino.conversions import point_to_rhino\nfrom compas_rhino.conversions import transformation_to_rhino\n\nfrom .sceneobject import RhinoSceneObject\n\n\nclass RhinoFrameObject(RhinoSceneObject, GeometryObject):\n    \"\"\"Scene object for drawing frames.\n\n    Parameters\n    ----------\n    scale: float, optional\n        Scale factor that controls the length of the axes.\n    **kwargs : dict, optional\n        Additional keyword arguments.\n\n    Attributes\n    ----------\n    scale : float\n        Scale factor that controls the length of the axes.\n        Default is ``1.0``.\n    color_origin : :class:`compas.colors.Color`\n        Default is ``Color.black()``.\n    color_xaxis : :class:`compas.colors.Color`\n        Default is ``Color.red()``.\n    color_yaxis : :class:`compas.colors.Color`\n        Default is ``Color.green()``.\n    color_zaxis : :class:`compas.colors.Color`\n        Default is ``Color.blue()``.\n\n    \"\"\"\n\n    def __init__(self, scale=1.0, **kwargs):\n        super(RhinoFrameObject, self).__init__(**kwargs)\n        self.scale = scale or 1.0\n        self.color_origin = Color.black()\n        self.color_xaxis = Color.red()\n        self.color_yaxis = Color.green()\n        self.color_zaxis = Color.blue()\n\n    def draw(self):\n        \"\"\"Draw the frame.\n\n        Returns\n        -------\n        list[System.Guid]\n            The GUIDs of the created Rhino objects.\n\n        \"\"\"\n        guids = []\n\n        attr = self.compile_attributes(color=self.color_origin)\n        guid = sc.doc.Objects.AddPoint(point_to_rhino(self.geometry.point), attr)\n        guids.append(guid)\n\n        attr = self.compile_attributes(color=self.color_xaxis, arrow=\"end\")\n        guid = sc.doc.Objects.AddLine(\n            point_to_rhino(self.geometry.point),\n            point_to_rhino(self.geometry.point + self.geometry.xaxis.scaled(self.scale)),\n            attr,\n        )\n        guids.append(guid)\n\n        attr = self.compile_attributes(color=self.color_yaxis, arrow=\"end\")\n        guid = sc.doc.Objects.AddLine(\n            point_to_rhino(self.geometry.point),\n            point_to_rhino(self.geometry.point + self.geometry.yaxis.scaled(self.scale)),\n            attr,\n        )\n        guids.append(guid)\n\n        attr = self.compile_attributes(color=self.color_zaxis, arrow=\"end\")\n        guid = sc.doc.Objects.AddLine(\n            point_to_rhino(self.geometry.point),\n            point_to_rhino(self.geometry.point + self.geometry.zaxis.scaled(self.scale)),\n            attr,\n        )\n        guids.append(guid)\n\n        self.add_to_group(\"Frame.{}\".format(self.geometry.name), guids)\n        transformation = transformation_to_rhino(self.worldtransformation)\n        for guid in guids:\n            obj = sc.doc.Objects.Find(guid)\n            if obj:\n                obj.Geometry.Transform(transformation)\n                obj.CommitChanges()\n\n        self._guids = guids\n        return self.guids\n",
  "language": "python",
  "imports": [
    "scriptcontext"
  ],
  "has_docstring": false
}