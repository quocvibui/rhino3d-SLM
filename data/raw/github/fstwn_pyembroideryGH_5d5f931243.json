{
  "source_url": "https://github.com/fstwn/pyembroideryGH/blob/ee7fd47316b364962a69976b4168ce9fef2702cf/usrobj_src/pyembroideryGH_PatternRawStitches.py",
  "repo": "fstwn/pyembroideryGH",
  "repo_stars": 11,
  "repo_description": "Set of UserObjects enabling Grasshopper to directly read, write and manipulate various kinds of embroidery formats. It is based on an IronPython-compatible fork of the original pyembroidery library.",
  "license": "MIT",
  "filepath": "usrobj_src/pyembroideryGH_PatternRawStitches.py",
  "instruction": "Get all the raw stitches of a pattern. The pattern has to be supplied\nas an instance of pyembroidery.EmbPattern.\n    Inputs:\n        Pattern: Pattern as pyembroidery EmbPattern instance\n    Output:\n ...",
  "code": "\"\"\"\nGet all the raw stitches of a pattern. The pattern has to be supplied\nas an instance of pyembroidery.EmbPattern.\n    Inputs:\n        Pattern: Pattern as pyembroidery EmbPattern instance\n    Output:\n        X: The X-Coordinate of the stitch\n        Y: The Y-Coordinate of the stitch\n        Cmd = The command for the stitch\n        Thread: The thread of the stitch\n        Needle: The needle of the stitch\n        Order: The order of the stitch\n    Remarks:\n        Author: Max Eschenbach\n        License: MIT License\n        Version: 201030\n\"\"\"\n\n# PYTHON STANDARD LIBRARY IMPORTS\nfrom __future__ import division\n\n# GHPYTHON SDK IMPORTS\nfrom ghpythonlib.componentbase import executingcomponent as component\nimport Grasshopper, GhPython\nimport System\nimport Rhino\nimport rhinoscriptsyntax as rs\n\n# GHENV COMPONENT SETTINGS\nghenv.Component.Name = \"PatternRawStitches\"\nghenv.Component.NickName = \"PRS\"\nghenv.Component.Category = \"pyembroideryGH\"\nghenv.Component.SubCategory = \"2 Pattern Analysis\"\n\n# LOCAL MODULE IMPORTS\ntry:\n    import pyembroidery\nexcept ImportError:\n    errMsg = (\"The pyembroidery python module seems to be not correctly \" +\n              \"installed! Please make sure the module is in you search \" +\n              \"path, see README for instructions!.\")\n    raise ImportError(errMsg)\n\nclass PatternRawStitches(component):\n\n    def RunScript(self, Pattern):\n        # initialize outputs\n        X = Grasshopper.DataTree[object]()\n        Y = Grasshopper.DataTree[object]()\n        Cmd = Grasshopper.DataTree[object]()\n        Thread = Grasshopper.DataTree[object]()\n        Needle = Grasshopper.DataTree[object]()\n        Order = Grasshopper.DataTree[object]()\n\n        # only do something if there is an input to begin with\n        if Pattern != None:\n            # make sure supplied pattern is really a valid pattern\n            if not isinstance(Pattern, pyembroidery.EmbPattern):\n                rml = self.RuntimeMessageLevel.Error\n                errMsg = (\"The supplied pattern is not a valid\" +\n                          \"pyembroidery.EmbPattern instance!\")\n                self.AddRuntimeMessage(rml, errMsg)\n                return (X, Y, Cmd, Thread, Needle, Order)\n            \n            # Get the stitches of the pattern\n            stitches = zip(*list(Pattern.get_as_stitches()))\n            \n            # collect the relevant data and assign it to the outputs\n            X = tuple([s * 0.1 for s in stitches[1]])\n            Y = tuple([s * -0.1 for s in stitches[2]])\n            Cmd = stitches[3]\n            Thread = stitches[4]\n            Needle = stitches[5]\n            Order = stitches[6]\n        else:\n            rml = self.RuntimeMessageLevel.Warning\n            errMsg = (\"Input Pattern failed to collect data!\")\n            self.AddRuntimeMessage(rml, errMsg)\n\n        # return outputs if you have them; here I try it for you:\n        return (X, Y, Cmd, Thread, Needle, Order)\n",
  "language": "python",
  "imports": [
    "Rhino",
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}