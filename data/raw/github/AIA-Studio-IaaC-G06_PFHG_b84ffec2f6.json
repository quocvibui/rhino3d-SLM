{
  "source_url": "https://github.com/AIA-Studio-IaaC-G06/PFHG/blob/94ec4ab4be8d720efead20cc409d66aaa8947388/02_FILES/02_CODE/01_HOPS/hops.py",
  "repo": "AIA-Studio-IaaC-G06/PFHG",
  "repo_stars": 7,
  "repo_description": "Prefabricated Home Generator with Artificial Inteligence",
  "license": "unknown",
  "filepath": "02_FILES/02_CODE/01_HOPS/hops.py",
  "instruction": null,
  "code": "from typing import ItemsView, Literal\nfrom flask import Flask\nimport ghhops_server as hs\nfrom ghhops_server.params import HopsNumber\nimport rhino3dm\nimport numpy as np\nimport os\nimport sys\n#import tensorflow as tf\nimport pickle\nimport joblib\nimport machinelearning as ml\n\nos.environ['TF_CPP_MIN_LOG_LEVEL'] = '3'\n\napp = Flask(__name__)\nhops = hs.Hops(app)\n\n@hops.component(\n    \"/runML11\",\n    name=\"runML11\",\n    description=\"Run Machine Learning prediction\",\n    icon=\"examples/pointat.png\",\n    inputs=[\n        hs.HopsNumber(\"Construction Time\", \"Time\", \"Construction Time\"),\n        hs.HopsNumber(\"Construction Cost\", \"Cost\", \"Construction Cost\"),\n        hs.HopsNumber(\"Rotation angle from North\", \"Rotation\", \"Rotation Angle\"),\n    ],\n    outputs=[\n        hs.HopsNumber(\"Length X\", \"X\", \"Length X\"),\n        hs.HopsNumber(\"Length Y\", \"Y\", \"Length Y\"),\n        hs.HopsNumber(\"Wall Panels number\", \"Wall N°\", \"Wall Panels number\"),\n        hs.HopsNumber(\"Window Panels number\", \"Window N°\", \"Window Panels number\"),\n        hs.HopsNumber(\"Spatial Daylight Autonomy\", \"sDA\", \"Spatial Daylight Autonomy\"),\n        hs.HopsNumber(\"Total Electricity consumption\", \"Electricity\", \"Total Electricity Consumption\"),\n        hs.HopsNumber(\"Light Electricity consumption\", \"Light\", \"Light Electricity Consumption\"),\n        hs.HopsNumber(\"Cooling Electricity consumption\", \"Cooling\", \"Cooling Electricity Consumption\"),\n        hs.HopsNumber(\"Heating Electricity consumption\", \"Heating\", \"Heating Electricity Consumption\"),\n        hs.HopsNumber(\"TerraceCost\", \"TerraceCost\", \"TerraceCost\"),\n        hs.HopsNumber(\"WindowCost\", \"WindowCost\", \"WindowCost\"),\n        hs.HopsNumber(\"FacadeCost\", \"FacadeCost\", \"FacadeCost\"),\n        hs.HopsNumber(\"InteriorCost\", \"InteriorCost\", \"InteriorCost\"),\n        hs.HopsNumber(\"Colormesh\", \"Colormesh\", \"Colormesh\",hs.HopsParamAccess.LIST)\n\n      ]\n)\n\ndef runml(a,b,c):\n    \n\n    return ml.runml(a,b,c)\n\n  \n\nif __name__ == \"__main__\":\n   app.run(debug=True)\n\n\n\n   \n#######################################\n#BONUS HINT\n\n#if you had a scaler in your training you should have had this\n##Normalize data using standard scaling\n#scalerY = StandardScaler().fit(outputArr)\n#y_scaled = scalerY.transform(outputArr)\n#print(\"y_scaled\", np.amin(y_scaled), np.amax(y_scaled))\n\n##Save scaler model for later use\n#joblib.dump(scalerY, 'scalerY.pkl')\n\n#SO YOU NEED TO\n#Load scaler for inverse transformation\n#scalerY = joblib.load(\"scalerY.pkl\")\n#And apply it to either input or output\n\n#########################################",
  "language": "python",
  "imports": [
    "rhino3dm"
  ],
  "has_docstring": false
}