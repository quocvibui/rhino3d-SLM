{
  "source_url": "https://github.com/BlockResearchGroup/compas-Masonry/blob/41cf6ce10135782dcef8de413281702f3702775e/src/compas_masonry/scene/contactobject.py",
  "repo": "BlockResearchGroup/compas-Masonry",
  "repo_stars": 4,
  "repo_description": "Rhino plugin for the design and equilibrium analysis of block models and for the stability assessment of (historic) masonry structures.",
  "license": "NOASSERTION",
  "filepath": "src/compas_masonry/scene/contactobject.py",
  "instruction": "Contactobject",
  "code": "import scriptcontext as sc  # type: ignore\n\nimport compas_rhino.conversions\nfrom compas.colors import Color\nfrom compas.datastructures import Mesh\nfrom compas.scene.descriptors.color import ColorAttribute\nfrom compas_dem.interactions import FrictionContact\nfrom compas_masonry.session import MasonrySession as Session\nfrom compas_rhino.scene import RhinoSceneObject\n\n\nclass RhinoContactObject(RhinoSceneObject):\n    \"\"\"Class for representing a block-block contact in a Rhino scene.\"\"\"\n\n    session: Session = Session()\n\n    defaultcolor = ColorAttribute(default=Color.cyan())\n    supportcolor = ColorAttribute(default=Color.red())\n\n    def __init__(self, **kwargs):\n        super().__init__(**kwargs)\n\n    @property\n    def contact(self) -> FrictionContact:\n        \"\"\"The COMPAS DEM Contact element.\n\n        Returns\n        -------\n        :class:`compas_dem.interactions.FrictionContact`\n\n        \"\"\"\n        return self.item  # type: ignore\n\n    @contact.setter\n    def contact(self, contact: FrictionContact) -> None:\n        self.item = contact  # type: ignore\n\n    def draw(self) -> list[str]:\n        \"\"\"Draw the contact in Rhino.\n\n        Returns\n        -------\n        list[str]\n            A list of GUIDs of the drawn objects.\n\n        \"\"\"\n        guids = []\n\n        mesh: Mesh = self.contact.mesh  # type: ignore\n\n        color = self.defaultcolor\n        geometry = compas_rhino.conversions.mesh_to_rhino(mesh)\n        attr = self.compile_attributes(name=self.name, color=color)\n        guid = sc.doc.Objects.AddMesh(geometry, attr)\n        guids.append(guid)\n\n        if self.group:\n            self.add_to_group(self.group, guids)\n\n        self._guids = guids\n        return guids\n",
  "language": "python",
  "imports": [
    "scriptcontext"
  ],
  "has_docstring": false
}