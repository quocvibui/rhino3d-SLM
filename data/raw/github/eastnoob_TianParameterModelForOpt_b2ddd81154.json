{
  "source_url": "https://github.com/eastnoob/TianParameterModelForOpt/blob/b463c06915742c215bc8077d7de086e369f03299/python_scripts/divideBaseIntoTwoZones.py",
  "repo": "eastnoob/TianParameterModelForOpt",
  "repo_stars": 0,
  "repo_description": "对于硕士论文参数化模型的C#重置，目标为提升可控性",
  "license": "unknown",
  "filepath": "python_scripts/divideBaseIntoTwoZones.py",
  "instruction": "Divide base into two zones",
  "code": "﻿import Rhino.Geometry as rg\n\ndef generate_rectangles(base, direction='vertical', offset=10.0):\n    # Find the split line of the polygon\n    bbox = base.GetBoundingBox(True)\n    center = bbox.Center\n    start = rg.Point3d(bbox.Min.X, center.Y, 0)\n    end = rg.Point3d(bbox.Max.X, center.Y, 0)\n\n    # Extend the line to the length of the polygon's vertical side\n    diagonal = bbox.Diagonal\n    length = diagonal.Length\n    extension_factor = length / 2.0\n    start_extended = rg.Point3d.Add(start, rg.Vector3d(start - center) * extension_factor)\n    end_extended = rg.Point3d.Add(end, rg.Vector3d(end - center) * extension_factor)\n    \n    # Copy the split line to both left and right sides\n    if direction == 'vertical':\n        up_start = rg.Point3d(start_extended.X, start_extended.Y - diagonal.Y/2.0 - offset, 0)\n        up_end = rg.Point3d(end_extended.X, end_extended.Y - diagonal.Y/2.0 - offset, 0)\n        down_start = rg.Point3d(start_extended.X, start_extended.Y + diagonal.Y/2.0 + offset, 0)\n        down_end = rg.Point3d(end_extended.X, end_extended.Y + diagonal.Y/2.0 + offset, 0)\n    else:\n        left_start = rg.Point3d(start_extended.X - diagonal.X/2.0 - offset, start_extended.Y, 0)\n        left_end = rg.Point3d(end_extended.X - diagonal.X/2.0 - offset, end_extended.Y, 0)\n        right_start = rg.Point3d(start_extended.X + diagonal.X/2.0 + offset, start_extended.Y, 0)\n        right_end = rg.Point3d(end_extended.X + diagonal.X/2.0 + offset, end_extended.Y, 0)\n\n    # Join points to form two rectangles\n    if direction == 'vertical':\n        up_up_cup = rg.LineCurve(start_extended, up_start)\n        up_down_cup = rg.LineCurve(end_extended, up_end)\n        up_start_cup = rg.LineCurve(start_extended, end_extended)\n        up_end_cup = rg.LineCurve(up_start, up_end)\n        down_up_cup = rg.LineCurve(start_extended, down_start)\n        down_down_cup = rg.LineCurve(end_extended, down_end)\n        down_start_cup = rg.LineCurve(start_extended, end_extended)\n        down_end_cup = rg.LineCurve(down_start, down_end)\n        up_zone = rg.Curve.JoinCurves([up_up_cup, up_down_cup, up_start_cup, up_end_cup])[0]\n        down_zone = rg.Curve.JoinCurves([down_up_cup, down_down_cup, down_start_cup, down_end_cup])[0]\n        return [up_zone, down_zone]\n    else:\n        left_left_cur = rg.LineCurve(start_extended, left_start)\n        left_right_cur = rg.LineCurve(end_extended, left_end)\n        left_start_cur = rg.LineCurve(start_extended, end_extended)\n        left_end_cur = rg.LineCurve(left_start, left_end)\n        right_left_cur = rg.LineCurve(start_extended, right_start)\n        right_right_cur = rg.LineCurve(end_extended, right_end)\n        right_start_cur = rg.LineCurve(start_extended, end_extended)\n        right_end_cur = rg.LineCurve(right_start, right_end)\n        left_zone = rg.Curve.JoinCurves([left_left_cur, left_right_cur, left_start_cur, left_end_cur])[0]\n        right_zone = rg.Curve.JoinCurves([right_left_cur, right_right_cur, right_start_cur, right_end_cur])[0]\n        return [left_zone, right_zone]",
  "language": "python",
  "imports": [
    "Rhino.Geometry"
  ],
  "has_docstring": false
}