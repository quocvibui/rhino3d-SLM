{
  "source_url": "https://github.com/dbt-ethz/Axolotl_Python/blob/0938046ecc5e50645d241a330b57734767958b07/code/aGradient.py",
  "repo": "dbt-ethz/Axolotl_Python",
  "repo_stars": 59,
  "repo_description": "Volumetric Modelling components for Rhino Grasshopper.",
  "license": "unknown",
  "filepath": "code/aGradient.py",
  "instruction": "Calculates the gradient vector for every p in pts. ∇f(p)\nas described here: https://www.iquilezles.org/www/articles/normalsSDF/normalsSDF.htm\n    Inputs:\n        x: the sdf object used for distance...",
  "code": "\"\"\"Calculates the gradient vector for every p in pts. ∇f(p)\nas described here: https://www.iquilezles.org/www/articles/normalsSDF/normalsSDF.htm\n    Inputs:\n        x: the sdf object used for distance calculation\n        pts: a list of points for which to calculate the gradient\n        e: epsilon, the offset distance from p to calculate central difference\n    Output:\n        a: a list of 3d vectors for each point in pts\"\"\"\n\n__author__     = ['Mathias Bernhard']\n__copyright__  = 'Copyright 2019 / Digital Building Technologies DBT'\n__license__    = 'MIT License'\n__email__      = ['<bernhard@arch.ethz.ch>']\n\nimport rhinoscriptsyntax as rs\n\ndef get_gradient(p):\n    gx = x.get_distance(p.X+e,p.Y,p.Z) - x.get_distance(p.X-e,p.Y,p.Z)\n    gy = x.get_distance(p.X,p.Y+e,p.Z) - x.get_distance(p.X,p.Y-e,p.Z)\n    gz = x.get_distance(p.X,p.Y,p.Z+e) - x.get_distance(p.X,p.Y,p.Z-e)\n    v = rs.CreateVector(gx,gy,gz)\n    v.Unitize()\n    return v\n\nif __name__=='__main__':\n    a = [get_gradient(p) for p in pts]\n",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}