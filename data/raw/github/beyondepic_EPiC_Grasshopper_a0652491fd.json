{
  "source_url": "https://github.com/beyondepic/EPiC_Grasshopper/blob/dbd60529a190cebf1d0af4d6c2e0ec91e110e388/epic/src/EPiC_Custom_Material.py",
  "repo": "beyondepic/EPiC_Grasshopper",
  "repo_stars": 18,
  "repo_description": "EPiC Grasshopper plug-in",
  "license": "GPL-3.0",
  "filepath": "epic/src/EPiC_Custom_Material.py",
  "instruction": "Creates a custom material using custom environmental flows\r\n\r\n    Inputs:\r\n        Material_Name: Name of the material- this will appear in the printed/exported reports\r\n        ***Optional***\r\n\r\n   ...",
  "code": "# -*- coding: UTF-8 -*-\r\n# EPiC Grasshopper: A Plugin for analysing embodied environmental flows\r\n#\r\n# Copyright (c) 2023, EPiC Grasshopper.\r\n# You should have received a copy of the GNU General Public License\r\n# along with EPiC Grasshopper; If not, see <http://www.gnu.org/licenses/>.\r\n#\r\n# Further information about the EPiC Database can be found at <https://bit.ly/EPiC_Database>\r\n# To download a full copy of the database, goto <http://doi.org/10.26188/5dc228ef98c5a>\r\n#\r\n# @license GPL-3.0+ <http://spdx.org/licenses/GPL-3.0+>\r\n\r\n\"\"\"\r\nCreates a custom material using custom environmental flows\r\n\r\n    Inputs:\r\n        Material_Name: Name of the material- this will appear in the printed/exported reports\r\n        ***Optional***\r\n\r\n        Material_Category: Name of the material category\r\n        ***Optional***\r\n\r\n        **Functional_Unit_(m,m²,m³,kg,etc): Functional unit for the material (e.g m, m² ,m³,no. or kg)\r\n        (**REQUIRED)\r\n\r\n        Density_(kg/m³): The density of the material in kg/m³\r\n        ***Optional***\r\n\r\n        **Embodied_Energy_Coefficient_(MJ/FU): The embodied energy coefficient for the material in MJ/Functional Unit\r\n        (**REQUIRED)\r\n\r\n        **Embodied_Water_Coefficient_(L/FU): The embodied water coefficient for the material in L/Functional Unit\r\n        (**REQUIRED)\r\n\r\n        **Embodied_GHG_Coefficient_(kgCO₂e/FU): The embodied greenhouse gas emissions coefficient for the material\r\n        in kgCO₂e/Functional Unit\r\n        (**REQUIRED)\r\n\r\n        Wastage_Coefficient_(%): Estimated wastage percentage (%) for the material.\r\n        0 indicates no wastage, 100 indicates 100% wastage.\r\n        ***Optional***\r\n\r\n        Material_Service_Life_(Years): Estimated service_life (in years) for the material.\r\n        0 indicates that the material will never need to be replaced\r\n        ***Optional***\r\n\r\n        Comments: Comments about the material - these will appear in the printed/exported reports.\r\n        ***Optional***\r\n\r\n    Outputs:\r\n        Custom_Material: Outputs a class object (CustomMaterial) containing all of the embedded material attributes:\r\n        (name, energy, water, ghg, functional_unit, doi, category, material_id, wastage, service_life, comments)\r\n        ***Connect that output to a panel for a summary***\r\n\r\n        Embodied_Energy_Coefficient_(MJ/FU): The Embodied Energy Coefficient for this material.\r\n        Note this does not include wastage in the calculation\r\n\r\n        Embodied_Water_Coefficient_(L/FU): The Embodied Water Coefficient for this material.\r\n        Note this does not include wastage in the calculation\r\n\r\n        Embodied_GHG_Coefficient_(kgCO₂e/FU): The Embodied Greenhouse Gas Emissions Coefficient for this material.\r\n        Note this does not include wastage in the calculation\r\n\r\n        Density_(kg/m³): Material density, as provided in the EPiC Database\r\n\r\n        Functional_Unit: Functional Unit, as provided in the EPiC Database\r\n\r\n        Wastage_Coefficient_(%): Estimated wastage percentage (%) for the material.\r\n        This will use the default value for the material (if it exists in the database), otherwise it will default to 0.\r\n        0 indicates no wastage, 100 indicates 100% wastage\r\n\r\n        Material_Service_Life_(Years): Estimated service_life (in years) for the material.\r\n        This will use the default value for the material (if it exists in the database), otherwise it will default to 0.\r\n        0 indicates that the material will never need to be replaced\r\n\"\"\"\r\n\r\nfrom Grasshopper.Kernel import GH_RuntimeMessageLevel as RML\r\nfrom ghpythonlib.componentbase import executingcomponent as component\r\n\r\nimport epic\r\n\r\n# Allow realtime feedback with external python files in grasshopper\r\nepic = reload(epic)\r\n\r\n\r\nclass EPiCCustomMaterialComponent(component):\r\n\r\n    def RunScript(self, name, category, _null, functional_unit, density, _null2, energy, water, ghg, _null3,\r\n                  wastage, service_life, comments):\r\n\r\n        # Component and version information\r\n        __author__ = epic.__author__\r\n        __version__ = \"1.02\"\r\n        if __version__ == epic.__version__:\r\n            self.Message = epic.__message__\r\n        else:\r\n            self.Message = epic.version_mismatch(__version__)\r\n            self.AddRuntimeMessage(RML.Remark, self.Message)\r\n        self.Name = \"EPiC Custom Material\"\r\n        self.NickName = \"EPiC Custom Material\"\r\n\r\n        # Create attribute values if none exist for custom material\r\n        name = 'Custom Material' if not name else name\r\n        density = 0 if not density else density\r\n        wastage = 0 if not wastage else wastage\r\n        service_life = 0 if not service_life else service_life\r\n        comments = '' if not comments else comments\r\n        warning = None\r\n\r\n        # check if functional unit is acceptable\r\n        if functional_unit is not None:\r\n            warning, functional_unit = epic.check_functional_unit_and_return_formatted_version(str(functional_unit))\r\n            if warning:\r\n                self.AddRuntimeMessage(RML.Warning, warning)\r\n                return [warning] * 7\r\n\r\n        # Output CustomMaterial class object if inputs have been provided\r\n        if None not in (functional_unit, energy, ghg, water):\r\n            output_epic_material = epic.CustomMaterial(name=name, water=water, ghg=ghg, energy=energy,\r\n                                                       functional_unit=functional_unit, category=category,\r\n                                                       wastage=wastage, service_life=service_life,\r\n                                                       comments=comments, density=density)\r\n            return output_epic_material, None, output_epic_material.energy, output_epic_material.water, \\\r\n                   output_epic_material.ghg, None, output_epic_material.density, output_epic_material.functional_unit, \\\r\n                   wastage, service_life\r\n\r\n        # Output error message if inputs not provided\r\n        else:\r\n            warning = 'Provide required inputs, specified with ** (functional_unit, energy, ghg, water)'\r\n            self.AddRuntimeMessage(RML.Warning, warning)\r\n            return [warning] * 7\r\n",
  "language": "python",
  "imports": [
    "ghpythonlib"
  ],
  "has_docstring": true
}