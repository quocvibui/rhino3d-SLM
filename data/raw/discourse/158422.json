{
  "source_url": "https://discourse.mcneel.com/t/match-string-values-for-text-but-output-number-for-numbers/158422",
  "topic_id": 158422,
  "title": "Match string values for text, but output number for numbers?",
  "question": "Hi,\n\n\nWhat I want is to define the position of offsets from curves by using attributes. That way, I can use the curves as centre, but also as the edge for the alignment.\n\n\n\n\nafbeelding\n2141×1285 132 KB\n\n\n\n\nTherefore, I have created an alignment attribute that contains “Exterior”, “Interior” or a distance relative from the centre (to make it off-centre). I have several offset distances for each of the street elements (pavement, street, etc.), but in this example, I only feed in the two outlines as a simpler example.\n\n\nI want to use a script component to do the matching and created the following script:\n\n\nimport rhinoscriptsyntax as rs\nif Offsets == \"Exterior\":\n    Result = Offsets+Width/2\n\nif Offsets == \"E\":\n    Result = Offsets+Width/2\n\nif Offsets == \"Interior\":\n    Result = Offsets-Width/2\n\nif Offsets == \"I\":\n    Result = Offsets-Width/2\n\nif type(Offsets) == float:\n    Result = Offsets + Alignment\n\nprint Result\n\n\n\nI also tried to do it in two steps and calculate the offsets in a next step:\n\n\nimport rhinoscriptsyntax as rs\n\nAl = []\nDist = (Width/2)\n\nif Alignment == \"Exterior\":\n    Al.append(Dist)\n\nelif Alignment == \"Interior\":\n    Al.append(-Dist)\n\nelif Alignment.isnumeric() is True:\n    Al.append(Alignment)\n\nResult = Al\nprint Al\n\n\n\nBut it’s not working either way. Could anyone lend me a hand on this?\n\n\nOffset centrelines by attribute and alignment.gh\n (21.5 KB)\n\n\nOffset centrelines by attribute and alignment.3dm\n (6.0 MB)",
  "code_blocks": [
    {
      "code": "import rhinoscriptsyntax as rs\nif Offsets == \"Exterior\":\n    Result = Offsets+Width/2\n\nif Offsets == \"E\":\n    Result = Offsets+Width/2\n\nif Offsets == \"Interior\":\n    Result = Offsets-Width/2\n\nif Offsets == \"I\":\n    Result = Offsets-Width/2\n\nif type(Offsets) == float:\n    Result = Offsets + Alignment\n\nprint Result",
      "language": "python",
      "author": "Intuos",
      "post_number": 1,
      "is_solution": false
    },
    {
      "code": "import rhinoscriptsyntax as rs\n\nAl = []\nDist = (Width/2)\n\nif Alignment == \"Exterior\":\n    Al.append(Dist)\n\nelif Alignment == \"Interior\":\n    Al.append(-Dist)\n\nelif Alignment.isnumeric() is True:\n    Al.append(Alignment)\n\nResult = Al\nprint Al",
      "language": "python",
      "author": "Intuos",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "file-io",
    "geometry",
    "python",
    "rhinoscriptsyntax"
  ],
  "has_accepted_answer": true,
  "category_id": 8,
  "posts_count": 2,
  "views": 297
}