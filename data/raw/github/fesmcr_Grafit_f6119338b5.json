{
  "source_url": "https://github.com/fesmcr/Grafit/blob/0b80fd011af1d84bb50d5cafb684feb331ec3435/examples/rhino/Python%20F12%20Calculate%20Path%20Visibility.py",
  "repo": "fesmcr/Grafit",
  "repo_stars": 1,
  "repo_description": null,
  "license": "MIT",
  "filepath": "examples/rhino/Python F12 Calculate Path Visibility.py",
  "instruction": "Python f12 calculate path visibility",
  "code": "ï»¿import rhinoscriptsyntax as rs\nimport Rhino.Geometry as rg\nimport sys\nimport clr\n\nclr.AddReference(\"System.Core\")\nclr.AddReference(\"System.IO\")\n\nfrom System import Environment\nfrom System.IO import *\n\nif CustomLibPath is not None: \n\t# Check if the assembly is loaded\n\tif \"Grafit\" not in sys.modules: \n\t\tsearchResult = Directory.GetFiles(CustomLibPath, \"Grafit.dll\", SearchOption.AllDirectories)\n\n\t\tif len(searchResult) == 0:\n\t\t\traise Exception(\"Grafit.dll is not found in folder.\")\n\t\t\t\n\t\tLibPathGrafit = searchResult[0] \n\t\tLibPathGrafitRhino = Path.GetDirectoryName(LibPathGrafit) + \"\\\\\"  + \"GrafitRhino.dll\"   \n\t\n\t\tclr.AddReferenceToFileAndPath(LibPathGrafit)\n\t\tclr.AddReferenceToFileAndPath(LibPathGrafitRhino) \nelse:\n\tclr.AddReference(\"Grafit\") \n\tclr.AddReference(\"GrafitRhino\")\n \nfrom System.Linq import *\nfrom Grafit import *\nfrom GrafitRhino import * \nfrom System import *\nfrom System.Collections.Generic import List, Dictionary\n\nEdgeToVantagePointsDict = {} \n\nfor i in range(EdgeToVantagePoints.BranchCount):\n    EdgeToVantagePointsDict[i] = List[int](EdgeToVantagePoints.Branches[i])\n    \n \nn = Graph.NodesCount \n\n# Create a list of lists to represent the jagged array\nodwmtmp = [[0.0] * n for _ in range(n)]\n\n# Convert the list of lists to a jagged array\nodwm = Array[Array[float]]([Array[float](row) for row in odwmtmp])\n\nfor i in range(len(From)):\n    for j in range(len(To)):\n        odwm[From[i]][To[j]] = ODWeightMatrixReduced[i, j]\n\nmeasurement = CMeasure(Graph)\n\nV = measurement.CalculateBCVisibility(odwm, Array[int](MeshIdsPerRay), Dictionary[int, List[int]](EdgeToVantagePointsDict), BrepsCount)\n\n \n ",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}