{
  "source_url": "https://github.com/gramaziokohler/sdsc_data_driven_acoustic_design/blob/4efcd74ba0e7e5cebabccceb919a0b1707bafc95/src/frontend/main.py",
  "repo": "gramaziokohler/sdsc_data_driven_acoustic_design",
  "repo_stars": 2,
  "repo_description": null,
  "license": "MIT",
  "filepath": "src/frontend/main.py",
  "instruction": null,
  "code": "import os\nimport datetime\n\nfrom compas.geometry import Circle, Plane, Point, Vector\n\n##### ONLY if you need to bake the geometry in rhino\n# from compas_rhino import unload_modules\n# import rhino_specific\n\n# unload_modules(\"ddad_geometry\")\n# unload_modules(\"rhino_specific\")\n######\n\nfrom ddad.config import PROCESSED_DATA_PATH\nfrom ddad_geometry import surface_generator as sg\nfrom ddad_geometry.utilities import easing\nfrom ddad_geometry.export import export_panel_for_ml, export_panel_for_3dprint\nfrom ddad_geometry.constants import LF_WAVE_ATTRACTORS_01, LF_WAVE_ATTRACTORS_02, LF_WAVE_ATTRACTORS_03\n\nRHINO_LAYER = 'lf_wave_circles'\nTEST_OBJ_EXPORT_FOLDER = '/Users/axydis/PROJECTS/PhD/DDAD_data/test_obj'\nOBJ_EXPORT_FOLDER_ML = os.path.abspath(os.path.join(PROCESSED_DATA_PATH, '..', 'OBJ', 'ml'))\nOBJ_EXPORT_FOLDER_3DPRINT = os.path.abspath(os.path.join(PROCESSED_DATA_PATH, '..', 'OBJ', '3D_print'))\n\n\ndef calc_processing_duration(start, end):\n    duration = end - start\n    print(\"Processing time: \" + str(duration))\n\n\nprint(\"\")\nstart_time = datetime.datetime.utcnow()\n\n# Get the circlular attractors from Rhino\n# lf_wave_attractors = rhino_specific.get_circle_attractors(layer=RHINO_LAYER)\n\npanel_options = sg.PanelOptions(\n   panel_id=9107,\n   function=sg.dutch_bond,\n   parameters=dict(\n       lf_wave_attractors=LF_WAVE_ATTRACTORS_03,\n       dutch_bond_settings=dict(\n           b_length=21.5,\n           b_width=10.25,\n           b_height=6.5,\n           m_width=1.2,\n           m_height=1.2,\n           shift_distance=21.5 / 2\n       ),\n       top_side_extrusion_settings=dict(\n           function=sg.extrude_random_dutch_bond_2,\n           kwargs={\n               'max_extrusion_distance_front': 3.0,\n               'max_extrusion_distance_side': 5.0,\n               'random_seed': 2\n           }\n       ),\n       bottom_side_extrusion_settings=dict(\n           function=sg.extrude_random_dutch_bond_2,\n           kwargs={\n               'max_extrusion_distance_front': 3.0,\n               'max_extrusion_distance_side': 5.0,\n               'random_seed': 2\n           }\n       )\n   )\n)\n\n# serialise\n# panel_options.to_json()\n\nmesh = panel_options.get_panel()\n# ml_panel_side_0, ml_panel_side_1 = export_panel_for_ml(mesh, panel_options, OBJ_EXPORT_FOLDER_ML)\n# export_panel_for_3dprint(mesh, panel_options, OBJ_EXPORT_FOLDER_3DPRINT)\n\n\n# Draw the Mesh in Rhino\n# rhino_specific.bake_mesh_faces(mesh, 'Compas_MeshArtist:print', clear_layer=True, join_faces=True)\n# rhino_specific.bake_mesh_faces(ml_panel_side_0, 'Compas_MeshArtist::ml::side_0', clear_layer=False, join_faces=True)\n# rhino_specific.bake_mesh_faces(ml_panel_side_1, 'Compas_MeshArtist::ml::side_1', clear_layer=False, join_faces=True)\n\nend_time = datetime.datetime.utcnow()\ncalc_processing_duration(start_time, end_time)\n",
  "language": "python",
  "imports": [],
  "has_docstring": false
}