{
  "source_url": "https://github.com/chrisskang/interface/blob/5b7976d140c0fa448f5d5ca96b40819eafb76ae5/computeCircle.py",
  "repo": "chrisskang/interface",
  "repo_stars": 0,
  "repo_description": "GH-THREE-PY",
  "license": "unknown",
  "filepath": "computeCircle.py",
  "instruction": "Compute circle",
  "code": "import compute_rhino3d.Util\r\nimport compute_rhino3d.Grasshopper as gh\r\nimport rhino3dm\r\nimport json\r\n\r\ncompute_rhino3d.Util.url = \"http://localhost:6500/\"\r\n#compute_rhino3d.Util.apiKey = \"\"\r\n\r\npt1 = rhino3dm.Point3d(2, 1, 3)\r\ncircle = rhino3dm.Circle(pt1, 5)\r\nangle = 90\r\n\r\nindexList = [0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\r\nangleList = [0,30,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]\r\n# convert circle to curve and stringify\r\ncurve = json.dumps(circle.ToNurbsCurve().Encode())\r\n\r\n# create list of input trees\r\n\r\nindex_tree = gh.DataTree(\"index\")\r\nfor a,i in enumerate(indexList):\r\n    index_tree.Append([i], [a])\r\n\r\nangle_tree = gh.DataTree(\"angle\")\r\nfor a,i in enumerate(angleList):\r\n    angle_tree.Append([i], [a])\r\n\r\ntrees = [index_tree, angle_tree]\r\n# curve_tree = gh.DataTree(\"curve\")\r\n# curve_tree.Append([0], [curve])\r\n\r\n# rotate_tree = gh.DataTree(\"rotate\")\r\n# rotate_tree.Append([0], [angle])\r\n# trees = [curve_tree, rotate_tree]\r\n\r\noutput = gh.EvaluateDefinition('hops.gh', trees)\r\nprint(output)\r\n\r\n\r\ndef unit_vector(vector):\r\n    return vector/ np.linalg.norm(vector)\r\n\r\ndef angle_between(v1, v2):\r\n\r\n    v1_u = unit_vector(v1)\r\n    v2_u = unit_vector(v2)\r\n    return np.arccos(np.clip(np.dot(v1_u, v2_u), -1.0,1.0))\r\n# decode results\r\n# branch = output['values'][0]['InnerTree']['{0}']\r\n# print(branch)\r\n\r\n# for item in branch:\r\n#     print(item['data'])\r\n#data = [json.loads(item['data']) for item in branch]\r\n\r\n#lines = [rhino3dm.CommonObject.Decode(json.loads(item['data'])) for item in branch]\r\n\r\n# filename = 'twisty.3dm'\r\n\r\n# print('Writing {} lines to {}'.format(len(lines), filename))\r\n\r\n\r\n\r\n\r\n\r\n# # create a 3dm file with results\r\n# model = rhino3dm.File3dm()\r\n# for l in lines:\r\n#     model.Objects.AddCurve(l) # they're actually LineCurves...\r\n\r\n# model.Write(filename)\r\n\r\n",
  "language": "python",
  "imports": [
    "rhino3dm"
  ],
  "has_docstring": false
}