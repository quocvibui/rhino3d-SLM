{
  "source_url": "https://github.com/houtanb/rhinoscript/blob/28a58e44d57a3c5c17ef74c75504a3883f961834/duplicateAndRotate.py",
  "repo": "houtanb/rhinoscript",
  "repo_stars": 5,
  "repo_description": "Rhinoscripts in Python for the manipulation of objects in Rhinoceros",
  "license": "GPL-3.0",
  "filepath": "duplicateAndRotate.py",
  "instruction": "Duplicate and rotate",
  "code": "import rhinoscriptsyntax as rs\nfrom random import *\n\n'''\n# Duplicates an object N times and rotate each around a point\n#\n# Copyright Houtan Bastani\n# 2017-2019\n# License GPLv3\n'''\n\ndef duplicateAndRotate():\n    obj_ids = rs.GetObjects(\"Select object(s) to duplicate and rotate\", 0, True, True)\n    if obj_ids is None: return\n\n    box = rs.BoundingBox(obj_ids)\n    if not isinstance(box, list): return\n    origin = rs.PointDivide(rs.PointAdd(box[0], box[6]), 2)\n\n    endpt = rs.GetPoint(\"To point\")\n    ndups = rs.GetInteger(\"Number of duplications\")\n    maxd = rs.GetReal(\"Max Distance\")\n\n    translation = rs.VectorCreate(endpt, origin)\n    for i in range(0, ndups, 1):\n        xr = random() if random() < 0.5 else -1*random()\n        yr = random() if random() < 0.5 else -1*random()\n        zr = random() if random() < 0.5 else -1*random()\n        newpt = [xr*maxd, yr*maxd, zr*maxd]\n        translation1 = rs.VectorCreate(endpt, newpt)\n        translation2 = rs.VectorCreate(translation1, origin)\n        copied_obj_ids = rs.CopyObjects(obj_ids, translation2)\n        xyp = rs.WorldXYPlane()\n        rs.RotateObjects(copied_obj_ids, newpt, random() * 360, xyp[0])\n        rs.RotateObjects(copied_obj_ids, newpt, random() * 360, xyp[1])\n        rs.RotateObjects(copied_obj_ids, newpt, random() * 360, xyp[2])\n\nif( __name__ == \"__main__\" ):\n    duplicateAndRotate()\n",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}