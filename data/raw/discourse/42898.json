{
  "source_url": "https://discourse.mcneel.com/t/need-to-redraw-curve-with-the-minimal-control-points-of-nurbs-curve-from-many-imported-points/42898",
  "topic_id": 42898,
  "title": "Need to redraw curve with the minimal control points of Nurbs curve from many imported points",
  "question": "Hi, I have a set of (x y), points that extract tracing from a photo.\n\nHave more than 200 points that define a edge profile, it have some hand errors.\n\n\nSo I want to regenerate the geometry, without imperfections and with smoth continuity.\n\nThe regenerated geometry will be used in a CNC machine.\n\n\nThe idea is get the minimal set of point to generate the same curve with a minimal seted gap.\n\n\nThe point are readed from txt in python and loaded in a NurbsCurve.\n\n\npoints = Loadfile(profile.txt);\nNCpCrv1 = rhino.Geometry.NurbsCurve.CreateControlPointCurve(points,3);\nscriptcontext.doc.Objects.AddCurve(NCpCrv1);\n\n\n\nThe picture show:\n\nCurve in red  the readed point, with many control points.\n\nCurve in black is that I wanted, but is hand drawed.\n\n\n\n\nSo there is any script, math o algorithm to regenerate the curve ?\n\nI need some python o C# code to calculate the minimal set of point.\n\nGreetings",
  "code_blocks": [
    {
      "code": "def FitCurve():\n    \n    guid1 = rs.GetObject(\"Select curve to fit:\", 4, True, False)\n    if not guid1: return\n    \n    curve1 = rs.coercecurve(guid1)    \n    fit = curve1.Fit(3,5,0)            \n\n    scriptcontext.doc.Objects.AddCurve(fit)",
      "language": "python",
      "author": "marceloarguello700",
      "post_number": 3,
      "is_solution": false
    },
    {
      "code": "points = Loadfile(profile.txt);\nNCpCrv1 = rhino.Geometry.NurbsCurve.CreateControlPointCurve(points,3);\nscriptcontext.doc.Objects.AddCurve(NCpCrv1);",
      "language": "python",
      "author": "marceloarguello700",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "csharp",
    "geometry",
    "nurbs",
    "python",
    "rhinocommon",
    "selection"
  ],
  "has_accepted_answer": false,
  "category_id": 11,
  "posts_count": 3,
  "views": 1238
}