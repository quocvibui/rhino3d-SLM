{
  "source_url": "https://github.com/Doerge/rhino-developer-samples/blob/beb34e5f5daf7f8da651d732aadf165bdf32a74d/rhinopython/SampleDrawMeshConduit.py",
  "repo": "Doerge/rhino-developer-samples",
  "repo_stars": 1,
  "repo_description": null,
  "license": "NOASSERTION",
  "filepath": "rhinopython/SampleDrawMeshConduit.py",
  "instruction": "SampleDrawMeshConduit.py Copyright (c) 2017 Robert McNeel & Associates. See License.md in the root of this repository for details.",
  "code": "################################################################################\n# SampleDrawMeshConduit.py\n# Copyright (c) 2017 Robert McNeel & Associates.\n# See License.md in the root of this repository for details.\n################################################################################\n\nimport System\nimport Rhino\nimport scriptcontext as sc\n\n################################################################################\n# SampleDrawMeshConduit display conduit class\n################################################################################\nclass SampleDrawMeshConduit(Rhino.Display.DisplayConduit):\n    \n    # Initializer\n    def __init__(self):\n        self.m_mesh = None\n    \n    # CalculateBoundingBox override\n    def CalculateBoundingBox(self, e):\n        if self.m_mesh:\n            e.IncludeBoundingBox(self.m_mesh.GetBoundingBox(False))\n    \n    # PostDrawObjects override\n    def PostDrawObjects(self, e):\n        if self.m_mesh:\n            material = Rhino.Display.DisplayMaterial()\n            material.IsTwoSided = True\n            material.Diffuse = System.Drawing.Color.Blue\n            material.BackDiffuse = System.Drawing.Color.Red\n            e.Display.EnableLighting(True)\n            e.Display.DrawMeshShaded(self.m_mesh, material)\n            e.Display.DrawMeshWires(self.m_mesh, System.Drawing.Color.Black)\n    \n    @property\n    def Mesh(self):\n        return self.m_mesh\n    \n    @Mesh.setter\n    def Mesh(self, val):\n        self.m_mesh = val\n    \n################################################################################\n# TestSampleDrawMeshConduit function\n################################################################################\ndef TestSampleDrawMeshConduit():\n          \n    rc, corners = Rhino.Input.RhinoGet.GetRectangle()\n    if rc != Rhino.Commands.Result.Success:\n        return rc\n    \n    plane = Rhino.Geometry.Plane(corners[0], corners[1], corners[2])\n    x_interval = Rhino.Geometry.Interval(0, corners[0].DistanceTo(corners[1]))\n    y_interval = Rhino.Geometry.Interval(0, corners[1].DistanceTo(corners[2]))\n    mesh = Rhino.Geometry.Mesh.CreateFromPlane(plane, x_interval, y_interval, 10, 10)\n    \n    conduit = SampleDrawMeshConduit()\n    conduit.Mesh = mesh\n    conduit.Enabled = True\n    sc.doc.Views.Redraw()\n    \n    out_str = \"\"\n    rc = Rhino.Input.RhinoGet.GetString(\"Press <Enter> to continue\", True, out_str);\n    conduit.Enabled = False\n    sc.doc.Views.Redraw()\n    \n################################################################################\n# Check to see if this file is being executed as the 'main' python\n# script instead of being used as a module by some other python script\n# This allows us to use the module which ever way we want.\n################################################################################\nif __name__ == '__main__':\n    TestSampleDrawMeshConduit()",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "scriptcontext"
  ],
  "has_docstring": true
}