{
  "source_url": "https://github.com/contextmachine/mmodel/blob/0545e5c2a11c641fc54e91f603e709d3dea549f3/panels_gh/test.py",
  "repo": "contextmachine/mmodel",
  "repo_stars": 0,
  "repo_description": "Deployment branch",
  "license": "Apache-2.0",
  "filepath": "panels_gh/test.py",
  "instruction": null,
  "code": "__author__ = \"sofyadobycina\"\n\nimport os\n\ntry:\n    rs = __import__(\"rhinoscriptsyntax\")\nexcept:\n    import rhinoscript as rs\n\nimport sys\nimport imp\nimport ghpythonlib.treehelpers as th\n\nif os.getenv(\"USER\") == \"sofyadobycina\":\n    PWD = os.getenv(\"HOME\") + \"/Documents/GitHub/mmodel/panels_gh\"\n    sys.path.extend([os.getenv(\"HOME\") + \"/Documents/GitHub/mmodel/panels_gh\",\n                     os.getenv(\"HOME\") + \"Documents/GitHub/mmodel/panels_gh/cogs\",\n                     os.getenv(\"HOME\") + \"/Documents/GitHub/mmodel/panels_gh/main_panels\"])\nelse:\n    PWD = os.getenv(\"MMODEL_DIR\") + \"/panels_gh\"\n    sys.path.extend(\n        [os.getenv(\"MMODEL_DIR\") + \"/panels_gh\", os.getenv(\"MMODEL_DIR\") + \"/panels_gh/cogs\"])\n\ncogsfile, cogsfilename, (cogssuffix, cogsmode, cogstype) = imp.find_module(\"cogs\", path=[PWD])\ncogs = imp.load_module(\"cogs\", cogsfile, cogsfilename, (cogssuffix, cogsmode, cogstype))\n\ncogs.__init__(\"cogs\", \"generic nodule\")\nfrom cogs import TT\n\nreload(cogs)\n\nsidesfile, sidesfilename, (sidessuffix, sidesmode, sidestype) = imp.find_module(\"main_sides\", path=[PWD])\nmain_sides = imp.load_module(\"main_sides\", sidesfile, sidesfilename, (sidessuffix, sidesmode, sidestype))\n\nmain_sides.__init__(\"main_sides\", \"generic nodule\")\n\npfile, pfilename, (psuffix, pmode, ptype) = imp.find_module(\"main_panels\", path=[PWD])\nmain_panels = imp.load_module(\"main_panels\", pfile, pfilename, (psuffix, pmode, ptype))\n\nmain_panels.__init__(\"main_panels\", \"generic nodule\")\nfrom main_panels import N_4\n\nreload(main_panels)\n\npanelfile, panelfilename, (panelsuffix, panelmode, paneltype) = imp.find_module(\"panel_types\", path=[PWD])\npanel_types = imp.load_module(\"panel_types\", panelfile, panelfilename, (panelsuffix, panelmode, paneltype))\n\npanel_types.__init__(\"panel_types\", \"generic nodule\")\nfrom panel_types import P_1, P_2, N_1, N_3, N_2, P_3\n\nreload(panel_types)\n\nframelfile, framefilename, (framesuffix, framemode, frametype) = imp.find_module(\"main_framing\", path=[PWD])\nmain_framing = imp.load_module(\"main_framing\", framelfile, framefilename, (framesuffix, framemode, frametype))\n\nmain_framing.__init__(\"main_framing\", \"generic nodule\")\n\nreload(main_framing)\n\nfrom main_framing import MainFrame, MiniFrame\n\nimport main_tagging\n\nreload(main_tagging)\n\n\n\n\nclass UnrollPackage:\n    panels_dict = {'P_1': P_1, 'P_2': P_2, 'P_3': P_3, 'N_1': N_1, 'N_2': N_2, 'N_3': N_3, 'N_4': N_4}\n\n    def __init__(self, x, y, circle, bend_hole, p3_hole, cog_hole, elements):\n        self.cog = TT(x, y, circle)\n\n        self.bend_hole = bend_hole\n        self.p3_hole = p3_hole\n        self.cog_hole = cog_hole\n\n        self.data = []\n        self.m = []\n\n        # self.cogs_bend = random.choice([True, False])\n\n        for key, value in elements.items():\n\n            if key != 'N_4' and key != 'N_2' and key != 'P_3':\n\n                new = self.panels_dict[key](**value)\n\n                new.niche.cg = self.cog\n                new.niche.cog_hole = self.cog_hole\n                new.niche.generate_cogs()\n\n                try:\n                    for i in new.side:\n                        i.hls = self.bend_hole\n                except AttributeError:\n                    pass\n                setattr(self, key, MainFrame(new))\n\n                det = getattr(self, key)\n                self.data.append(det.all_elems)\n\n\n            elif key == 'N_2':\n                new = self.panels_dict[key](**value)\n                setattr(self, key, MainFrame(new))\n\n                det = getattr(self, key)\n                self.data.append(det.all_elems)\n\n\n\n\n            elif key == 'P_3':\n                new = self.panels_dict[key](**value)\n                new.hls = self.p3_hole\n                setattr(self, key, MiniFrame(new))\n                det = getattr(self, key)\n                self.data.append(det.all_elems)\n\n            else:\n                new = self.panels_dict[key](**value)\n                setattr(self, key, new)\n                det = getattr(self, key)\n\n\ndef main():\n    global x, y, circle, bend_hole, p3_hole, cog_hole, crv\n\n    a = UnrollPackage(x, y, circle, bend_hole, p3_hole, cog_hole, crv.__dict__)\n    side = th.list_to_tree(a.data)\n    #m = th.list_to_tree(a.m)\n    #m=a.m\n\n    return a, side\n\n\nif __name__ == \"__main__\":\n    a, side = main()\n",
  "language": "python",
  "imports": [
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}