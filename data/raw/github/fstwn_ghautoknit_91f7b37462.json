{
  "source_url": "https://github.com/fstwn/ghautoknit/blob/5ca6d07df601d34be5a67fe6c76a942daef50a85/modules/ghautoknit/Constraint.py",
  "repo": "fstwn/ghautoknit",
  "repo_stars": 3,
  "repo_description": "A prototypical bridge between Grasshopper and Autoknit.",
  "license": "MIT",
  "filepath": "modules/ghautoknit/Constraint.py",
  "instruction": "PYTHON STANDARD LIBRARY IMPORTS ----------------------------------------------",
  "code": "# PYTHON STANDARD LIBRARY IMPORTS ----------------------------------------------\nfrom __future__ import absolute_import\nfrom __future__ import division\n\n# RHINO IMPORTS ----------------------------------------------------------------\nfrom Rhino.Geometry import Point3d as RhinoPoint3d\nfrom Rhino.Geometry import Polyline as RhinoPolyline\nfrom Rhino.Geometry import PolylineCurve as RhinoPolylineCurve\n\n# ALL LIST ---------------------------------------------------------------------\n__all__ = [\n    \"Constraint\"\n]\n\n# ACTUAL CLASS -----------------------------------------------------------------\nclass Constraint(object):\n    \"\"\"Class for representing autoknit constraints separate from the model.\n    The chain is stored as vertex coordinates.\"\"\"\n\n    def __init__(self, id, vertices, value, radius):\n        \"\"\"Create a new autoknit Constraint.\"\"\"\n        self._set_id(id)\n        self._set_vertices(vertices)\n        self._set_value(value)\n        self._set_radius(radius)\n\n    def ToString(self):\n        name = \"Autoknit Constraint\"\n        data = \"({}, {}, {}, {})\".format(self.Id,\n                                         self.Vertices,\n                                         self.Value,\n                                         self.Radius)\n        return name + data\n\n    @classmethod\n    def FromPolyline(cls, polyline):\n        \"\"\"Make Constraint from a Rhino Polyline\"\"\"\n        raise NotImplementedError(\"This has not been implemented yet!\")\n\n    # BASE PROPERTIES ----------------------------------------------------------\n\n    # ID PROPERTY --------------------------------------------------------------\n    def _get_id(self):\n        \"\"\"Gets the id (index) of this constraint.\"\"\"\n        return self._id\n\n    def _set_id(self, id):\n        \"\"\"Sets the id (index) of this constraint.\"\"\"\n        if not type(id) == int:\n            try:\n                id = int(id)\n            except:\n                raise ValueError(\"Expected integer value for id!\")\n        self._id = id\n\n    Id = property(_get_id, _set_id, None,\n                  \"The Id (index) of this constraint.\")\n\n    # VERTICES PROPERTY --------------------------------------------------------\n    def _get_vertices(self):\n        \"\"\"Gets the vertex coordinates of this constraint as list of tuples.\"\"\"\n        return self._vertices\n\n    def _set_vertices(self, vertices):\n        if type(vertices) is not list:\n            raise ValueError(\"Expected list of vertices!\")\n        try:\n            for i, item in enumerate(vertices):\n                if type(item) is RhinoPoint3d:\n                    vertices[i] = (item.X, item.Y, item.Z)\n                elif type(item) is tuple and len(item) == 3:\n                    continue\n        except:\n            raise RuntimeError(\"Some of the given vertices \" + \\\n                               \"failed to convert to tuples!\")\n        self._vertices = vertices\n\n    Vertices = property(_get_vertices, _set_vertices, None,\n                     \"The vertex coordinates of the constraint.\")\n\n    # TIME VALUE PROPERTY ------------------------------------------------------\n    def _get_value(self):\n        \"\"\"Gets the time value fro this constraint.\"\"\"\n        return self._value\n\n    def _set_value(self, value):\n        \"\"\"Sets the time value for this constraint.\"\"\"\n        try:\n            value = float(value)\n        except Exception, e:\n            raise RuntimeError(\"Failed to set time value for constraint \" + \\\n                               \"{} // {}\".format(str(self), e))\n        self._value = value\n\n    Value = property(_get_value, _set_value, None,\n                     \"The time value of the constraint.\")\n\n    # RADIUS PROPERTY ----------------------------------------------------------\n    def _get_radius(self):\n        return self._radius\n\n    def _set_radius(self, value):\n        try:\n            value = float(value)\n        except Exception, e:\n            raise RuntimeError(\"Failed to set radius for constraint \" + \\\n                               \"{} // {}\".format(str(self), e))\n        self._radius = value\n\n    Radius = property(_get_radius, None, None,\n                      \"The radius of the constraint.\")\n\n    # VALIDATION PROPERTY ------------------------------------------------------\n    def _get_valid(self):\n        \"\"\"Returns True if the Constraint is valid.\"\"\"\n        if self.Id != None:\n            id = True\n        if self.Vertices != None and len(self.Vertices) > 0:\n            cv = True\n        if self.Value != None:\n            vv = True\n        if self.Radius != None:\n            rv = True\n        return id == cv == vv == rv\n\n    IsValid = property(_get_valid, None, None,\n                       \"Identifier if this constraint is valid.\")\n\n# MAIN -------------------------------------------------------------------------\nif __name__ == '__main__':\n    pass\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": true
}