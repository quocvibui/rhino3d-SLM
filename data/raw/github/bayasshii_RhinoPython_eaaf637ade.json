{
  "source_url": "https://github.com/bayasshii/RhinoPython/blob/eb792408c1d5f3f8864ba4c23fc7ed0187ab8095/RhinoPython/%E6%A7%8B%E9%80%A0%E3%81%A3%E3%81%BD%E3%81%8F%E3%81%99%E3%82%8B%E3%82%B3%E3%83%BC%E3%83%89.py",
  "repo": "bayasshii/RhinoPython",
  "repo_stars": 1,
  "repo_description": "to study Python",
  "license": "unknown",
  "filepath": "RhinoPython/構造っぽくするコード.py",
  "instruction": "構造っぽくするコード",
  "code": "import rhinoscriptsyntax as rs\n\na = 0.06 #kukan no futosa\nb = 0.5  #haji no futosa\nb0 = 1.5 #mannaka no hutosa\nc = 0.2  #chotto sita zure\n\ndef periods_ofcurve( curve, n ):\n    domain = rs.CurveDomain( curve )\n    cpoint_list = [ ] \n    point0 = rs.EvaluateCurve( curve , domain[0] )\n    point1 = rs.EvaluateCurve( curve , domain[1] )\n    #rs.AddPoints( [ point0, point1 ] )\n    for i in range(n+1):\n        d = domain[1] * ( i )/ n\n        point_lower = rs.EvaluateCurve( curve , d-a )\n        point_upper = rs.EvaluateCurve( curve , d+a )\n        cpoint_list.append( point_lower )\n        cpoint_list.append( point_upper )\n    return cpoint_list\n\ndef draw_grid( curve0 ,curve1, n ):\n    d0 = periods_ofcurve( curve0, n )\n    d1 = periods_ofcurve( curve1, n )\n    curves_upper = []\n    curves_lower = []\n    \n    for i in range(n+1): \n        point00 = d0[ 2*i + 1 ]\n        point01 = d0[ 2*i + 0 ]\n        point10 = d1[ 2*i + 1 ]\n        point11 = d1[ 2*i + 0 ]\n        if i==0:\n            curve_upper = rs.AddCurve([point00, point10])\n            #rs.AddCurve([point01, point11])\n            curves_upper.append(curve_upper)\n        elif i==n:\n            #rs.AddCurve([point00, point10])\n            curve_lower = rs.AddCurve([point11, point01])\n            curves_lower.append(curve_lower)\n        else:\n            curve_upper = rs.AddCurve([point00, point10])\n            curve_lower = rs.AddCurve([point11, point01])\n            curves_upper.append(curve_upper)\n            curves_lower.append(curve_lower)\n    curves_all = [ curves_upper, curves_lower ]\n    return curves_all\n\ndef draw_hole( grid00, grid01 ):\n    grids = [ grid00, grid01 ]\n    points = []\n    lists = []\n    for i in grids:\n        domain = rs.CurveDomain(i)\n        domains = [ domain[0]+b, domain[1]-b0*b, domain[1]-b ]\n        lists.append( domains )\n        for ii in domains:\n            point = rs.EvaluateCurve( i, ii ) \n            points.append( point )\n    for i in range(2):\n        grid = rs.AddCurve( [ points[i*3], points[5-i*3] ] )\n        domain0 = rs.CurveDomain( grid )\n        domain1 = domain0[1] - c\n        point = rs.EvaluateCurve( grid, domain1 )\n        #rs.AddPoint(point)\n        rs.AddCurve( [ point, points[i*3+1] ] )\n        rs.TrimCurve( grids[i], ( lists[i][0], lists[i][1] ) )\n        rs.TrimCurve( grid, ( domain0[0], domain1 ) )\n\ndef draw_holes( curve0, curve1, n):\n    grids = draw_grid( curve0, curve1, n )\n    for i in range(n):\n        draw_hole( grids[0][i], grids[1][i] )\n\ndef draw_severaltimes( n ):\n    x = 1\n    circle = rs.AddCircle( ( 0, 0, 0 ), 10 )\n    rs.ObjectColor( circle, ( 255, 0, 0 ),  )\n    while x == 1:\n        curve0 = rs.GetObject(\"Select a curve(If you want program to finish, click red circle) \")\n        if curve0 == circle:\n            rs.DeleteObject( circle )\n            break\n        else:\n            curve1 = rs.GetObject(\"Select a curve\")\n            draw_holes( curve0, curve1, n )\n\ndraw_severaltimes(15)",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}