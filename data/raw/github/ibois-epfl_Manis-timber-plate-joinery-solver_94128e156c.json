{
  "source_url": "https://github.com/ibois-epfl/Manis-timber-plate-joinery-solver/blob/9b0d22db181d4f55f01816440a5c0a31cda502bc/Gh%20compilation%20files/orient.py",
  "repo": "ibois-epfl/Manis-timber-plate-joinery-solver",
  "repo_stars": 12,
  "repo_description": "A grasshopper plugin to create joints between timber panels and export CNC toolpath and robot trajectories for fully automated workflow from design to fabrication to assembly.",
  "license": "MIT",
  "filepath": "Gh compilation files/orient.py",
  "instruction": "Move and/or rotate all the plates of the model with their attributes.",
  "code": "\"\"\"Move and/or rotate all the plates of the model with their attributes.\"\"\"\r\n\r\nfrom ghpythonlib.componentbase import dotnetcompiledcomponent as component\r\nimport Grasshopper, GhPython\r\nimport System\r\nimport rhinoscriptsyntax as rs\r\nimport copy\r\n\r\n__author__ = \"Nicolas Rogeau\"\r\n__laboratory__ = \"IBOIS, Laboratory for Timber Construction\" \r\n__university__ = \"EPFL, Ecole Polytechnique Federale de Lausanne\"\r\n__funding__ = \"NCCR Digital Fabrication, ETH Zurich\"\r\n__version__ = \"2021.09\"\r\n\r\nclass MyComponent(component):\r\n    def __new__(cls):\r\n        instance = Grasshopper.Kernel.GH_Component.__new__(cls,\r\n            \"Orient Plates\", \"Orient\", \"\"\"Move and/or rotate all the plates of the model with their attributes.\"\"\", \"Manis\", \"Transform\")\r\n        return instance\r\n    \r\n    def get_ComponentGuid(self):\r\n        return System.Guid(\"3a60a4cd-58e1-4a48-b616-04651544e3d7\")\r\n    \r\n    def SetUpParam(self, p, name, nickname, description):\r\n        p.Name = name\r\n        p.NickName = nickname\r\n        p.Description = description\r\n        p.Optional = True\r\n    \r\n    def RegisterInputParams(self, pManager):\r\n        p = Grasshopper.Kernel.Parameters.Param_GenericObject()\r\n        self.SetUpParam(p, \"model\", \"model\", \"Plate model.\")\r\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\r\n        self.Params.Input.Add(p)\r\n        \r\n        p = Grasshopper.Kernel.Parameters.Param_Plane()\r\n        self.SetUpParam(p, \"ref\", \"ref\", \"Plane of reference.\")\r\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\r\n        self.Params.Input.Add(p)\r\n        \r\n        p = Grasshopper.Kernel.Parameters.Param_Plane()\r\n        self.SetUpParam(p, \"plane\", \"plane\", \"Target Plane\")\r\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\r\n        self.Params.Input.Add(p)\r\n        \r\n    \r\n    def RegisterOutputParams(self, pManager):\r\n        p = Grasshopper.Kernel.Parameters.Param_GenericObject()\r\n        self.SetUpParam(p, \"model\", \"model\", \"Transformed plate model.\")\r\n        self.Params.Output.Add(p)\r\n        \r\n        p = Grasshopper.Kernel.Parameters.Param_GenericObject()\r\n        self.SetUpParam(p, \"breps\", \"breps\", \"Transformed Breps.\")\r\n        self.Params.Output.Add(p)\r\n        \r\n    \r\n    def SolveInstance(self, DA):\r\n        p0 = self.marshal.GetInput(DA, 0)\r\n        p1 = self.marshal.GetInput(DA, 1)\r\n        p2 = self.marshal.GetInput(DA, 2)\r\n        result = self.RunScript(p0, p1, p2)\r\n\r\n        if result is not None:\r\n            if not hasattr(result, '__getitem__'):\r\n                self.marshal.SetOutput(result, DA, 0, True)\r\n            else:\r\n                self.marshal.SetOutput(result[0], DA, 0, True)\r\n                self.marshal.SetOutput(result[1], DA, 1, True)\r\n        \r\n    def get_Internal_Icon_24x24(self):\r\n        o = \"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAALrSURBVEhLvZRfSFNhGMbnmKzBTpSw4ZhBhCjm3JypdNOFJYqiiSXzUogwGOwqigLFKQiFYoqkgpDkwKkE/SGIKAbF2IXaLioIw0S66KZoOXSbRbw97/mTnjrHCUkP/OCc93u/5/m27/uOgYhU6CgPXAABUMMFWefAEelRR1kCbGAEvAYTYAiMAiM4b7fbv+Xm5n7C81mgrSwBj0AEWMW3bXVbLBZaWlqk+fk5MpvNPFE7RCfgNLgHPoJ+EAKKut1uNy0tLqJdUiwWI6fT+RVjzVLLDmFcK4B1E3DhJ+D/mtXt8bhpc3MTrWpxiPxLrkqtsjCmF2ACl0AtEMAsm39YWUGbtjjkeEkJm1wDklDXC1DEGzpXV1enufI/lVxfV0KuiLNR2y2AT9Fce7uPMpkMhomWl5cpEAiQ3++nzs5OCoVCYn2nuMflcrHZ9WwBx8BaX18fhiQlEgkKh8M0MDBARqORWlpa5JFtpdNpqq+vZ7PZbAEsm8lkivX09NDW1hZaiGZmZqigoIBaW1vJ5/OJNUVs3tbWxkZhIOwlgGUHa42NjTQ9PU2CIFAkEqFoNEpTU1OYJmljY4Nqa8+wyXNwB1j2GsDi/XhjtVopHo+jVa0VnK6ysjI2eAq+ACXI8Ba83wN8kX6AFw0NDZRKpWRraeWy+Q2QAM/Ad/AOGJL2mhpyNDXpIhQVkSEnhw1egoNg3ustp9XVVVpYWFDMuwB/Ui6Ck4ADnMCQLMUpqRgf18TR3EwWbKhRuqWPeYKsYGFhIfE3Cc9srsgD4oB/RQ4XkqW9vVQxNqbCMzREhysrRfPSYFArgMU39i64DW6BJ4BX/gDwnonSDMirqiKhuJjKh4fJOzqqF8C6DF4BXvVDcAqopArwDA5SXnU1HfJ6qXxkRKxlCcgqVQBvKKOY73vA0Y4OKunq+v2+7wFa7AzAsf/rcu7G/wlw9fdT5eSkLicmJv4p4LPZZksdcDj0yc9P4San0Xtfy0QfMvwCxQCYu1zKcmEAAAAASUVORK5CYII=\"\r\n        return System.Drawing.Bitmap(System.IO.MemoryStream(System.Convert.FromBase64String(o)))\r\n\r\n    \r\n    def RunScript(self, model, ref, target):\r\n\r\n        breps = None\r\n        if ref == None : ref = rs.PlaneFromFrame((0,0,0), (1,0,0), (0,1,0))\r\n        if target == None : target = rs.PlaneFromFrame((0,0,0), (1,0,0), (0,1,0))\r\n        if model:\r\n            model = copy.deepcopy(model)\r\n            model.transform(mode = 'Orient', origin = ref, target = target)\r\n            breps = []\r\n            for i in range(model.count):\r\n                breps.append(model.plates[i].brep)\r\n        else: \r\n            self.AddRuntimeMessage(Grasshopper.Kernel.GH_RuntimeMessageLevel.Warning, 'Waiting to get a model as input.')\r\n        return (model, breps)\r\n\r\nclass AssemblyInfo(GhPython.Assemblies.PythonAssemblyInfo):\r\n    def get_AssemblyName(self):\r\n        return \"Orient Plates\"\r\n    \r\n    def get_AssemblyDescription(self):\r\n        return \"\"\"\"\"\"\r\n\r\n    def get_AssemblyVersion(self):\r\n        return \"0.1\"\r\n\r\n    def get_AuthorName(self):\r\n        return \"Nicolas Rogeau\"\r\n    \r\n    def get_Id(self):\r\n        return System.Guid(\"93cc54b2-33ce-4877-b719-2a62c9f79a7f\")\r\n",
  "language": "python",
  "imports": [
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}