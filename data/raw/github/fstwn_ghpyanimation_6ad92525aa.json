{
  "source_url": "https://github.com/fstwn/ghpyanimation/blob/380f8bcf304ed36d7d8ce466c293f748442cd6b8/usrobj_src/GhPyAnimation_SimpleAnimationValues.py",
  "repo": "fstwn/ghpyanimation",
  "repo_stars": 2,
  "repo_description": "Simple animation toolkit for Grasshopper written using GhPython.",
  "license": "MIT",
  "filepath": "usrobj_src/GhPyAnimation_SimpleAnimationValues.py",
  "instruction": "Computes animation values relative to a master step value. This is done by\nevaluating the domain defined by ValueStart and ValueEnd between the frame/step\nvalues defined by AnimationStart and...",
  "code": "\"\"\"\nComputes animation values relative to a master step value. This is done by\nevaluating the domain defined by ValueStart and ValueEnd between the frame/step\nvalues defined by AnimationStart and AnimationEnd. \n    Inputs:\n        ValueStart: The start of the value domain\n        ValueEnd: The end of the value domain\n        Frame: The master frame/step value from the master animation\n               slider.\n        AnimationStart: The frame/step value at which the evaluation begins.\n        AnimationEnd: The frame/step value at which the evaluation ends.\n    Output:\n        Value: The animation value computed by evaluating the domain between\n               start and end of the animation using the position of the\n               step/frame value.\n    Remarks:\n        Author: Max Eschenbach\n        License: MIT License\n        Version: 200702\n\"\"\"\n\n# GHPYTHON STANDARD LIBRARY IMPORTS\nfrom __future__ import division\n\n# GHPYTHON SDK IMPORTS\nfrom ghpythonlib.componentbase import executingcomponent as component\nimport Grasshopper, GhPython\nimport System\nimport Rhino\nimport rhinoscriptsyntax as rs\n\n# GHENV COMPONENT SETTINGS\nghenv.Component.Name = \"SimpleAnimationValues\"\nghenv.Component.NickName =\"SAV\"\nghenv.Component.Category = \"GhPyAnimation\"\nghenv.Component.SubCategory = \"02 Animation Values\"\n\nclass SimpleAnimationValues(component):\n    \n    def remap_number(self, start, end, tstart, tend, val):\n        #range check\n        if start == end:\n            return start\n        if tstart == tend:\n            return tstart\n        remapped_number = ((val-start) * (tend-tstart) / (end-start)) + tstart\n        return remapped_number\n    \n    def RunScript(self, ValueStart, ValueEnd, Frame, AnimationStart, AnimationEnd):\n        \n        # set defaults\n        if ValueStart == None:\n            ValueStart = 0.0\n        if ValueEnd == None:\n            ValueEnd = 1.0\n        if AnimationStart == None:\n            AnimationStart = 0\n        if AnimationEnd == None:\n            AnimationEnd = 30\n        \n        # initialize output so it's never empty\n        Value = Grasshopper.DataTree[object]()\n        \n        # only do sth if frame value exists\n        if Frame != None:\n            if Frame < AnimationStart:\n                Value = ValueStart\n            if (Frame >= AnimationStart) and (Frame < AnimationEnd):\n                Value = self.remap_number(AnimationStart,\n                                          AnimationEnd,\n                                          ValueStart,\n                                          ValueEnd,\n                                          Frame)\n            elif Frame >= AnimationEnd:\n                Value = ValueEnd\n        else:\n            rml = self.RuntimeMessageLevel.Warning\n            self.AddRuntimeMessage(rml,\n                        \"Input parameter Frame failed to collect data\")\n        \n        # return outputs if you have them; here I try it for you:\n        return Value\n",
  "language": "python",
  "imports": [
    "Rhino",
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}