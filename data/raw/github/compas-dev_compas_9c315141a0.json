{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_rhino/conversions/geometry.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_rhino/conversions/geometry.py",
  "instruction": "Geometry",
  "code": "from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport Rhino  # type: ignore\n\nfrom compas.geometry import Frame\nfrom compas.geometry import Plane\nfrom compas.geometry import Point\nfrom compas.geometry import Polygon\nfrom compas.geometry import Vector\n\n# =============================================================================\n# To Rhino\n# =============================================================================\n\n\ndef point_to_rhino(point):\n    \"\"\"Convert a COMPAS point to a Rhino point.\n\n    Parameters\n    ----------\n    point : :class:`compas.geometry.Point`\n\n    Returns\n    -------\n    :rhino:`Rhino.Geometry.Point3d`\n\n    \"\"\"\n    return Rhino.Geometry.Point3d(point[0], point[1], point[2])\n\n\ndef vector_to_rhino(vector):\n    \"\"\"Convert a COMPAS vector to a Rhino vector.\n\n    Parameters\n    ----------\n    vector : :class:`compas.geometry.Vector`\n\n    Returns\n    -------\n    :rhino:`Rhino.Geometry.Vector3d`\n\n    \"\"\"\n    return Rhino.Geometry.Vector3d(vector[0], vector[1], vector[2])\n\n\ndef plane_to_rhino(plane):\n    \"\"\"Convert a COMPAS plane to a Rhino plane.\n\n    Parameters\n    ----------\n    plane : :class:`compas.geometry.Plane`\n\n    Returns\n    -------\n    :rhino:`Rhino.Geometry.Plane`\n\n    \"\"\"\n    return Rhino.Geometry.Plane(point_to_rhino(plane[0]), vector_to_rhino(plane[1]))\n\n\ndef frame_to_rhino_plane(frame):\n    \"\"\"Convert a COMPAS frame to a Rhino plane.\n\n    Parameters\n    ----------\n    frame : :class:`compas.geometry.Frame`\n\n    Returns\n    -------\n    :rhino:`Rhino.Geometry.Plane`\n\n    \"\"\"\n    return Rhino.Geometry.Plane(point_to_rhino(frame.point), vector_to_rhino(frame.xaxis), vector_to_rhino(frame.yaxis))\n\n\nframe_to_rhino = frame_to_rhino_plane\n\n\ndef polygon_to_rhino(polygon):\n    \"\"\"Convert a COMPAS polygon to a Rhino polygon.\n\n    Parameters\n    ----------\n    polygon : :class:`compas.geometry.Polygon`\n\n    Returns\n    -------\n    :rhino:`Rhino.Geometry.Polygon`\n\n    \"\"\"\n    raise NotImplementedError\n\n\n# =============================================================================\n# To COMPAS\n# =============================================================================\n\n\ndef point_to_compas(point):\n    \"\"\"Convert a Rhino point to a COMPAS point.\n\n    Parameters\n    ----------\n    point : :rhino:`Rhino.Geometry.Point3d` | :rhino:`Rhino.Geometry.Point`\n\n    Returns\n    -------\n    :class:`compas.geometry.Point`\n\n    \"\"\"\n    if hasattr(point, \"Location\"):\n        return Point(point.Location.X, point.Location.Y, point.Location.Z)\n    return Point(point.X, point.Y, point.Z)\n\n\ndef vector_to_compas(vector):\n    \"\"\"Convert a Rhino vector to a COMPAS vector.\n\n    Parameters\n    ----------\n    vector : :rhino:`Rhino.Geometry.Vector3d`\n\n    Returns\n    -------\n    :class:`compas.geometry.Vector`\n\n    \"\"\"\n    return Vector(vector.X, vector.Y, vector.Z)\n\n\ndef plane_to_compas(plane):\n    \"\"\"Convert a Rhino plane to a COMPAS plane.\n\n    Parameters\n    ----------\n    plane : :rhino:`Rhino.Geometry.Plane`\n\n    Returns\n    -------\n    :class:`compas.geometry.Plane`\n\n    \"\"\"\n    return Plane(point_to_compas(plane.Origin), vector_to_compas(plane.Normal))\n\n\ndef plane_to_compas_frame(plane):\n    \"\"\"Convert a Rhino plane to a COMPAS frame.\n\n    Parameters\n    ----------\n    plane : :rhino:`Rhino.Geometry.Plane`\n\n    Returns\n    -------\n    :class:`compas.geometry.Frame`\n\n    \"\"\"\n    return Frame(\n        point_to_compas(plane.Origin),\n        vector_to_compas(plane.XAxis),\n        vector_to_compas(plane.YAxis),\n    )\n\n\nframe_to_compas = plane_to_compas_frame\n\n\ndef polygon_to_compas(polygon):\n    \"\"\"Convert a Rhino polygon to a COMPAS polygon.\n\n    Parameters\n    ----------\n    polygon : :rhino:`Rhino.Geometry.Polygon`\n\n    Returns\n    -------\n    :class:`compas.geometry.Polygon`\n\n    \"\"\"\n    return Polygon([point_to_compas(point) for point in polygon])\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}