{
  "source_url": "https://github.com/jrhe121314/rhino-compute-demo/blob/0ec00779fbd01a92428cd35b4eb7c0c515bcbd13/compute.rhino3d/src/ghhops-server-py/examples/app_rhinside.py",
  "repo": "jrhe121314/rhino-compute-demo",
  "repo_stars": 0,
  "repo_description": null,
  "license": "unknown",
  "filepath": "compute.rhino3d/src/ghhops-server-py/examples/app_rhinside.py",
  "instruction": "Hops default HTTP server swith rhinoinside example",
  "code": "\"\"\"Hops default HTTP server swith rhinoinside example\"\"\"\r\nimport rhinoinside\r\nimport ghhops_server as hs\r\n\r\n\r\nrhinoinside.load()\r\n# System and Rhino can only be loaded after rhinoinside is initialized\r\nimport System  # noqa\r\nimport Rhino  # noqa\r\n\r\nhops = hs.Hops(app=rhinoinside)\r\n\r\n\r\n@hops.component(\r\n    \"/add\",\r\n    name=\"Add\",\r\n    nickname=\"Add\",\r\n    description=\"Add numbers with CPython\",\r\n    category=\"Maths\",\r\n    subcategory=\"CPython\",\r\n    inputs=[\r\n        hs.HopsNumber(\"A\", \"A\", \"First number\"),\r\n        hs.HopsNumber(\"B\", \"B\", \"Second number\"),\r\n    ],\r\n    outputs=[hs.HopsNumber(\"Sum\", \"S\", \"A + B\")],\r\n)\r\ndef add(a, b):\r\n    # testing error report\r\n    f = 12 / 0\r\n    return a + b\r\n\r\n\r\n@hops.component(\r\n    \"/pointat\",\r\n    name=\"PointAt\",\r\n    nickname=\"PtAt\",\r\n    description=\"Get point along curve\",\r\n    category=\"Curve\",\r\n    subcategory=\"Analysis\",\r\n    icon=\"examples/pointat.png\",\r\n    inputs=[\r\n        hs.HopsCurve(\"Curve\", \"C\", \"Curve to evaluate\"),\r\n        hs.HopsNumber(\"t\", \"t\", \"Parameter on Curve to evaluate\"),\r\n    ],\r\n    outputs=[\r\n        hs.HopsPoint(\r\n            \"P\",\r\n            \"P\",\r\n            \"Point on curve at t\",\r\n        )\r\n    ],\r\n)\r\ndef pointat(curve, t):\r\n    return curve.PointAt(t)\r\n\r\n\r\n@hops.component(\r\n    \"/srf4pt\",\r\n    name=\"4Point Surface\",\r\n    nickname=\"Srf4Pt\",\r\n    description=\"Create ruled surface from four points\",\r\n    category=\"Surface\",\r\n    subcategory=\"Freeform\",\r\n    inputs=[\r\n        hs.HopsPoint(\"Corner A\", \"A\", \"First corner\"),\r\n        hs.HopsPoint(\"Corner B\", \"B\", \"Second corner\"),\r\n        hs.HopsPoint(\"Corner C\", \"C\", \"Third corner\"),\r\n        hs.HopsPoint(\"Corner D\", \"D\", \"Fourth corner\"),\r\n    ],\r\n    outputs=[hs.HopsSurface(\"Surface\", \"S\", \"Resulting surface\")],\r\n)\r\ndef ruled_surface(a, b, c, d):\r\n    edge1 = Rhino.Geometry.LineCurve(a, b)\r\n    edge2 = Rhino.Geometry.LineCurve(c, d)\r\n    return Rhino.Geometry.NurbsSurface.CreateRuledSurface(edge1, edge2)\r\n\r\n\r\n@hops.component(\r\n    \"/interplength\",\r\n    name=\"InterpCurve Length\",\r\n    nickname=\"ICL\",\r\n    inputs=[\r\n        hs.HopsPoint(\"P1\", \"P1\", \"First point\"),\r\n        hs.HopsPoint(\"P2\", \"P2\", \"Second point\"),\r\n        hs.HopsPoint(\"P3\", \"P3\", \"Third point\"),\r\n    ],\r\n    outputs=[hs.HopsNumber(\"Length\", \"L\", \"Interpolated curve length\")],\r\n)\r\ndef interp_length(p1, p2, p3):\r\n    print(p1, p2, p3)\r\n    pts = System.Collections.Generic.List[Rhino.Geometry.Point3d]()\r\n    pts.Add(p1)\r\n    pts.Add(p2)\r\n    pts.Add(p3)\r\n    crv = Rhino.Geometry.Curve.CreateInterpolatedCurve(pts, 3)\r\n    return crv.GetLength()\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    hops.start(debug=True)\r\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": true
}