{
  "source_url": "https://discourse.mcneel.com/t/animate-the-points-move-along-the-curves-with-different-speeds/156892",
  "topic_id": 156892,
  "title": "Animate the points move along the curves with different speeds",
  "question": "Hi, im a beginner of Grasshopper. Is there any way to animate the multi start points of different curves move to the end along its curve(like trajectories generated by points) and show differernt speeds in different segements( the length beweent points)?\n\nAs the picture shows, i have two trajectories generated by points. They have different segments and different speeds.\n\n\n\n\nimage\n695Ã—508 5.17 KB\n\n\n\n\nPoints to curve.gh\n (5.2 KB)",
  "code_blocks": [
    {
      "code": "import Rhino.Geometry as rg\nimport rhinoscriptsyntax as rs\nimport time\n\ncurve = rg.LineCurve(rg.Line(rg.Point3d(0,0,0), rg.Point3d(10,25,0)))\npoint = rg.Point3d(0,0,0)\nspeed = 0\npoint_obj = rs.AddPoint(point)\n\n# move the point along the curve one little step at a time\nfor t in range(0, 100):\n    # based on how many steps have been taken\n    parameter = t / 100.0\n    point = curve.PointAt(parameter)\n\n    tangent = curve.TangentAt(parameter)\n\n    speed = 1\n\n    # move the Rhino point object to the current point on the curve\n    rs.MoveObject(point_obj, point)\n\n    # print the current position and speed of the point\n    print(\"Point at ({}, {}), speed = {}\".format(point.X, point.Y, speed))\n\n    # wait for 100ms before moving to the next step\n    time.sleep(0.1)\n\n# delete the Rhino point object when the animation is complete\nrs.DeleteObject(point_obj)",
      "language": "python",
      "author": "farouk.serragedine",
      "post_number": 2,
      "is_solution": true
    },
    {
      "code": "def move_point_along_curve(curve, steps, sleep_duration, initial_velocity, gravity, drag_coefficient):\n    length = curve.GetLength()\n    point_obj = rs.AddPoint(curve.PointAtStart)\n    velocity = initial_velocity\n    traveled_distance = 0\n\n    rs.EnableRedraw(True)\n\n    for t in range(steps):\n        if traveled_distance >= length:\n            break\n\n        # Update velocity based on gravity and drag\n        velocity -= (gravity + drag_coefficient * velocity) * sleep_duration\n\n        # Calculate the traveled distance based on the current velocity\n        traveled_distance += abs(velocity) * sleep_duration  # Make sure the distance is positive\n\n        # Calculate the normalized parameter of the curve based on the traveled distance\n        parameter = traveled_distance / length\n\n        # Get the point on the curve corresponding to the parameter value\n        point = curve.PointAt(parameter)\n\n        # Move the Rhino point object to the current point on the curve\n        rs.MoveObject(point_obj, point)\n\n        print(\"Point at ({}, {}), speed = {}\".format(point.X, point.Y, velocity))\n\n        # Redraw the viewport to see the point moving in real-time\n        rs.Redraw()\n        time.sleep(sleep_duration)\n\n    rs.DeleteObject(point_obj)",
      "language": "python",
      "author": "farouk.serragedine",
      "post_number": 2,
      "is_solution": true
    }
  ],
  "tags": [
    "file-io",
    "geometry",
    "grasshopper",
    "python",
    "rhinocommon",
    "rhinoscriptsyntax",
    "transformation"
  ],
  "has_accepted_answer": true,
  "category_id": 2,
  "posts_count": 2,
  "views": 574
}