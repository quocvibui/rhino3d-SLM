{
  "source_url": "https://github.com/fstwn/pyembroideryGH/blob/ee7fd47316b364962a69976b4168ce9fef2702cf/usrobj_src/pyembroideryGH_ConstructStitch.py",
  "repo": "fstwn/pyembroideryGH",
  "repo_stars": 11,
  "repo_description": "Set of UserObjects enabling Grasshopper to directly read, write and manipulate various kinds of embroidery formats. It is based on an IronPython-compatible fork of the original pyembroidery library.",
  "license": "MIT",
  "filepath": "usrobj_src/pyembroideryGH_ConstructStitch.py",
  "instruction": "Constructs a Stitch-String in the format (PtX, PtY, Cmd) by pairing each input\ncoordinate with an input command.\n    Inputs:\n        Pt: The input coordinate (point) for the stitch.\n           ...",
  "code": "\"\"\"\nConstructs a Stitch-String in the format (PtX, PtY, Cmd) by pairing each input\ncoordinate with an input command.\n    Inputs:\n        Pt: The input coordinate (point) for the stitch.\n            {list, point3d}\n        Cmd: The corresponding command integer for each point coordinate.\n             {list, int}\n    Output:\n        Stitch: The constructed stitch as String.\n                {item/list/tree, str}\n    Remarks:\n        Author: Max Eschenbach\n        License: MIT License\n        Version: 201022\n\"\"\"\n\n# PYTHON STANDARD LIBRARY IMPORTS\nfrom __future__ import division\n\n# GHPYTHON SDK IMPORTS\nfrom ghpythonlib.componentbase import executingcomponent as component\nimport Grasshopper, GhPython\nimport System\nimport Rhino\nimport rhinoscriptsyntax as rs\n\n# GHENV COMPONENT SETTINGS\nghenv.Component.Name = \"ConstructStitch\"\nghenv.Component.NickName = \"CS\"\nghenv.Component.Category = \"pyembroideryGH\"\nghenv.Component.SubCategory = \"3 Pattern Creation\"\n\nclass ConstructStitch(component):\n\n    def RunScript(self, Pt, Cmd):\n        # initialize ouputs\n        Stitches = []\n        \n        # only act if there is some data to begin with\n        if Pt and Cmd:\n            # list of points is longer or equal to list of commands, so we\n            # loop over the list of points\n            if len(Pt) >= len(Cmd):\n                for i, pt in enumerate(Pt):\n                    # extract command with failsafe\n                    if i <= len(Cmd) - 1:\n                        command = Cmd[i]\n                    else:\n                        command = Cmd[-1]\n                    # compile stitch string\n                    stitch_str = \",\".join([str(pt.X * 10), \n                                           str(pt.Y * -10),\n                                           str(command)])\n                    # append to list of stitches\n                    Stitches.append(stitch_str)\n            # list of commands is longer than list of points, so we have to\n            # loop over the list of commands\n            elif len(Pt) < len(Cmd):\n                for j, command in enumerate(Cmd):\n                    # extract coordinate with failsafe\n                    if j <= len(Pt) - 1:\n                        pt = Pt[j]\n                    else:\n                        pt = Pt[-1]\n                    # compile stitch string\n                    stitch_str = \",\".join([str(pt.X * 10),\n                                           str(pt.Y * -10),\n                                           str(command)])\n                    # append to list of stitches\n                    Stitches.append(stitch_str)\n        else:\n            rml = self.RuntimeMessageLevel.Warning\n            if not Pt:\n                errMsg = \"Input Pt failed to collect data!\"\n                self.AddRuntimeMessage(rml, errMsg)\n            if not Cmd:\n                errMsg = \"Input Cmd failed to collect data!\"\n                self.AddRuntimeMessage(rml, errMsg)\n            return Grasshopper.DataTree[object]()\n        \n        # return outputs if you have them; here I try it for you:\n        return Stitches\n",
  "language": "python",
  "imports": [
    "Rhino",
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}