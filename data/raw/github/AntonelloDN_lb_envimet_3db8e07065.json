{
  "source_url": "https://github.com/AntonelloDN/lb_envimet/blob/f49c125fcf2cc2dd9deaab3ae220523a805a0247/src/Ladybug_ENVI-Met%202D%20Plant.py",
  "repo": "AntonelloDN/lb_envimet",
  "repo_stars": 4,
  "repo_description": "ï»¿lb_envimet: a series of components to connect Ladybug and Gismo to Envimet for urban microclimatic analysis",
  "license": "GPL-3.0",
  "filepath": "src/Ladybug_ENVI-Met 2D Plant.py",
  "instruction": "Use this component to generate ENVI-Met plants for \"LB ENVI-Met Spaces\".\r\n-\r\nProvided by Ladybug 0.0.65\r\n    \r\n    Args:\r\n        _plant2D: Geometry that represent ENVI-Met plant 2d.  Geometry must...",
  "code": "# ENVI-Met 2D Plant\r\n#\r\n# Ladybug: A Plugin for Environmental Analysis (GPL) started by Mostapha Sadeghipour Roudsari\r\n# \r\n# This file is part of Ladybug.\r\n# \r\n# Copyright (c) 2013-2018, Antonello Di Nunzio <antonellodinunzio@gmail.com> \r\n# Ladybug is free software; you can redistribute it and/or modify \r\n# it under the terms of the GNU General Public License as published \r\n# by the Free Software Foundation; either version 3 of the License, \r\n# or (at your option) any later version. \r\n# \r\n# Ladybug is distributed in the hope that it will be useful,\r\n# but WITHOUT ANY WARRANTY; without even the implied warranty of \r\n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \r\n# GNU General Public License for more details.\r\n# \r\n# You should have received a copy of the GNU General Public License\r\n# along with Ladybug; If not, see <http://www.gnu.org/licenses/>.\r\n# \r\n# @license GPL-3.0+ <http://spdx.org/licenses/GPL-3.0+>\r\n\r\n\r\n\"\"\"\r\nUse this component to generate ENVI-Met plants for \"LB ENVI-Met Spaces\".\r\n-\r\nProvided by Ladybug 0.0.65\r\n    \r\n    Args:\r\n        _plant2D: Geometry that represent ENVI-Met plant 2d.  Geometry must be a Surface or Brep on xy plane.\r\n        _plantId_: ENVI-Met plant id. You can use \"id outputs\" which comes from \"LB ENVI-Met Read Library\".\r\n        -\r\n        E.g. XX\r\n    Returns:\r\n        readMe!: ...\r\n        envimetPlants: Connect this output to \"ENVI-Met Spaces\" in order to add plants to ENVI-Met model.\r\n\"\"\"\r\n\r\nghenv.Component.Name = \"Ladybug_ENVI-Met 2D Plant\"\r\nghenv.Component.NickName = 'ENVI-Met2dPlant'\r\nghenv.Component.Message = 'VER 0.0.65\\nJUL_28_2017'\r\nghenv.Component.IconDisplayMode = ghenv.Component.IconDisplayMode.application\r\nghenv.Component.Category = \"Ladybug\"\r\nghenv.Component.SubCategory = \"7 | WIP\"\r\n#compatibleLBVersion = VER 0.0.59\\nFEB_01_2015\r\ntry: ghenv.Component.AdditionalHelpFromDocStrings = \"1\"\r\nexcept: pass\r\n\r\n\r\nimport os\r\nimport sys\r\nimport Rhino as rc\r\nimport scriptcontext as sc\r\nimport Grasshopper.Kernel as gh\r\n##################LB ENVI_MET###################\r\nuserPath = os.getenv(\"APPDATA\")\r\npath = os.path.join(userPath, \"lb_envimet\")\r\nsys.path.append(path)\r\nfrom envimetObj import material\r\n################################################\r\n\r\n\r\ndef checkGeometry(geoList):\r\n    for geo in geoList:\r\n        if type(geo) != type(rc.Geometry.Brep()):\r\n            w = gh.GH_RuntimeMessageLevel.Warning\r\n            message = \"Please provide valid breps.\"\r\n            ghenv.Component.AddRuntimeMessage(w, message)\r\n            return -1\r\n\r\n\r\ndef main():\r\n    if _plant2D:\r\n        checkGeometry(_plant2D)\r\n        # run envimet core\r\n        envObj = material.SetMaterials(_plant2D, _plantId_, 'XX', 0, 'Plant2d')\r\n        \r\n        return envObj\r\n        \r\n    else:\r\n        w = gh.GH_RuntimeMessageLevel.Warning\r\n        message = \"Please provide _plant2D.\"\r\n        ghenv.Component.AddRuntimeMessage(w, message)\r\n        return -1\r\n\r\n\r\ninitCheck = False\r\nif sc.sticky.has_key('ladybug_release'):\r\n    initCheck = True\r\n    try:\r\n        if not sc.sticky['ladybug_release'].isCompatible(ghenv.Component): initCheck = True\r\n    except:\r\n        initCheck = False\r\n        warning = \"You need a newer version of Ladybug to use this compoent.\" + \\\r\n        \"Use updateLadybug component to update userObjects.\\n\" + \\\r\n        \"If you have already updated userObjects drag Ladybug_Ladybug component \" + \\\r\n        \"into canvas and try again.\"\r\n        w = gh.GH_RuntimeMessageLevel.Warning\r\n        ghenv.Component.AddRuntimeMessage(w, warning)\r\nelse:\r\n    initCheck = False\r\n    print \"You should first let the Ladybug fly...\"\r\n    w = gh.GH_RuntimeMessageLevel.Warning\r\n    ghenv.Component.AddRuntimeMessage(w, \"You should first let the Ladybug fly...\")\r\n\r\n\r\nif initCheck:\r\n    result = main()\r\n    if result != -1:\r\n        envimetPlants = result",
  "language": "python",
  "imports": [
    "Rhino",
    "scriptcontext"
  ],
  "has_docstring": true
}