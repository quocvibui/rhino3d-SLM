{
  "source_url": "https://github.com/TSRChapman/LandArchTools-for-Rhino/blob/43036cbbcab2bf756216f6a752f65e83aac3fccb/MoveToRL.py",
  "repo": "TSRChapman/LandArchTools-for-Rhino",
  "repo_stars": 5,
  "repo_description": "Custom Tools for Rhino made for Landscape Architects",
  "license": "BSD-3-Clause",
  "filepath": "MoveToRL.py",
  "instruction": "Copyright <2021> <Thomas Chapman>\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\r\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A...",
  "code": "\"\"\"\r\n\r\nCopyright <2021> <Thomas Chapman>\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE\r\nWARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR\r\nCOPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\r\nOTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n\"\"\"\r\n\r\n# MOVE OBJECT TO SPECIFIED RL\r\n# BY THOMAS CHAPMAN ON 12/06/2022\r\n\r\nimport rhinoscriptsyntax as rs\r\nimport Rhino.Geometry as geo\r\nimport Rhino as r\r\nimport System\r\nimport scriptcontext as sc\r\n\r\n\r\ndef MoveToRL():\r\n    try:\r\n\r\n        scale, imperial = scaling()\r\n\r\n        obj = rs.GetObjects(\"Select objects\", preselect=True)\r\n        if obj:\r\n            current = rs.GetPoint(\"Select point\")\r\n\r\n            if current:\r\n\r\n                if imperial == False:\r\n                    rl = rs.GetString(\"RL (m) to move to?\")\r\n                if imperial == True:\r\n                    rl = rs.GetString(\"RL (ft) to move to?\")\r\n                rl = float(rl)\r\n                rl = rl * scale\r\n\r\n                if rl == 0:  # move objects to the 0 coord\r\n                    target3 = current.Z\r\n                    if target3:\r\n                        target3 = target3 * -1\r\n                        target4 = r.Geometry.Point3d(0, 0, target3)\r\n                        rs.MoveObject(obj, target4)\r\n\r\n                elif rl < 0:\r\n                    target5 = rl - current.Z\r\n                    target6 = r.Geometry.Point3d(0, 0, target5)\r\n                    rs.MoveObject(obj, target6)\r\n\r\n                elif rl > 0:\r\n                    target = rl - current.Z  # + or - number to target location\r\n                    # translated vector needed to hit target\r\n                    target2 = r.Geometry.Point3d(0, 0, target)\r\n                    rs.MoveObject(obj, target2)\r\n\r\n    except:\r\n        print(\"Failed to execute\")\r\n        rs.EnableRedraw(True)\r\n        return\r\n\r\n\r\ndef scaling():\r\n    try:\r\n        unitNum = int(sc.doc.ModelUnitSystem)\r\n        # check to see if using metric\r\n\r\n        if (\r\n            unitNum != 1\r\n            and unitNum != 2\r\n            and unitNum != 3\r\n            and unitNum != 4\r\n            and unitNum != 5\r\n        ):\r\n            imperial = True\r\n            # struct unit system for current file\r\n            unitSystem = System.Enum.ToObject(r.UnitSystem, unitNum)\r\n            # struct unitsystem obj for script use, using feet (9)\r\n            internalSystem = System.Enum.ToObject(r.UnitSystem, 9)\r\n            # Scale units to model units\r\n            scale = r.RhinoMath.UnitScale(internalSystem, unitSystem)\r\n            if scale:\r\n                return scale, imperial\r\n        else:\r\n            imperial = False\r\n            # struct unit system for current file\r\n            unitSystem = System.Enum.ToObject(r.UnitSystem, unitNum)\r\n            # struct unitsystem obj for script use, using meteres (4)\r\n            internalSystem = System.Enum.ToObject(r.UnitSystem, 4)\r\n            # Scale units to model units\r\n            scale = r.RhinoMath.UnitScale(internalSystem, unitSystem)\r\n            if scale:\r\n                return scale, imperial\r\n    except:\r\n        print(\"Failed to find system scale\")\r\n        rs.EnableRedraw(True)\r\n        return\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    MoveToRL()\r\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "rhinoscriptsyntax",
    "scriptcontext"
  ],
  "has_docstring": true
}