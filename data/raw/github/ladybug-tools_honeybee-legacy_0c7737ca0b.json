{
  "source_url": "https://github.com/ladybug-tools/honeybee-legacy/blob/bd62af4862fe022801fb87dbc8794fdf1dff73a9/src/Honeybee_Set%20EnergyPlus%20Zone%20Loads.py",
  "repo": "ladybug-tools/honeybee-legacy",
  "repo_stars": 129,
  "repo_description": ":bee: Honeybee is a free and open source plugin to connect Grasshopper3D to EnergyPlus, Radiance, Daysim and OpenStudio for building energy and daylighting simulation",
  "license": "NOASSERTION",
  "filepath": "src/Honeybee_Set EnergyPlus Zone Loads.py",
  "instruction": "Use this component to change the occupancy, lighting, equipment, etc. loads for a given Honeybee zone or list of Honeybee zones.\n-\nProvided by Honeybee 0.0.66",
  "code": "#\n# Honeybee: A Plugin for Environmental Analysis (GPL) started by Mostapha Sadeghipour Roudsari\n# \n# This file is part of Honeybee.\n# \n# Copyright (c) 2013-2020, Mostapha Sadeghipour Roudsari <mostapha@ladybug.tools> \n# Honeybee is free software; you can redistribute it and/or modify \n# it under the terms of the GNU General Public License as published \n# by the Free Software Foundation; either version 3 of the License, \n# or (at your option) any later version. \n# \n# Honeybee is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of \n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \n# GNU General Public License for more details.\n# \n# You should have received a copy of the GNU General Public License\n# along with Honeybee; If not, see <http://www.gnu.org/licenses/>.\n# \n# @license GPL-3.0+ <http://spdx.org/licenses/GPL-3.0+>\n\n\n\"\"\"\nUse this component to change the occupancy, lighting, equipment, etc. loads for a given Honeybee zone or list of Honeybee zones.\n-\nProvided by Honeybee 0.0.66\n\n    Args:\n        _HBZones: Honeybee zones for which you want to change the loads.\n        equipmentLoadPerArea_: The desired equipment load per square meter of floor.  Values here should be in W/m2 (Watts per square meter).  Typical values can range from 2 W/m2 (for just a laptop or two in the zone) to 15 W/m2 for an office filled with computers and appliances.\n        infilRatePerArea_Facade_: The desired rate of outside air infiltration into the zone per square meter of exterior facade.  Values here should be in m3/s-m2 @4Pa(Cubic meters per second per square meter of exterior facade).  ASHRAE recommends the following general infiltration rates based on the area of the facade exposed to the outdoors:\n            ------------------------------------------------------------\n            Unit of following reference numbers: \n            m3/s per m2 facade @4Pa\n            ------------------------------------------------------------\n            0.000071 - Passive house         (0.1 cfm/sf facade @75Pa)\n            0.0001 - Tight building               (0.14 cfm/sf facade @75Pa)\n            0.000285 - ASHRAE 90.1-2013 (0.4 cfm/sf facade @75Pa)\n            0.0003 - Average building          (0.42 cfm/sf facade @75Pa)\n            0.0006 - Leaky building             (0.84 cfm/sf facade @75Pa)\n        lightingDensityPerArea_: The desired lighting load per square meter of floor.  Values here should be in W/m2 (Watts per square meter).  Typical values can range from 3 W/m2 for efficeint LED bulbs to 15 W/m2 for incandescent heat lamps.\n        numOfPeoplePerArea_: The desired number of per square meter of floor at peak occupancy.  Values here should be in ppl/m2 (People per square meter).  Typical values can range from 0.02 ppl/m2 for a lightly-occupied household to 0.5 ppl/m2 for a tightly packed auditorium.\n        ventilationPerArea_: The desired minimum rate of outdoor air ventilation through the mechanical system into the zone in m3/s per m2 of floor.  Values here should be in m3/s-m2 (Cubic meters per second per square meter of floor).  Often, this total value over the zone should be much lower than the ventilation per person (below).  Typical values can range from 0.0002 m3/s-m2 for lightly-occupied houses to 0.0025 m3/s-m2 for spaces like laboratories and cleanrooms where dust contamination is a major concern.\n        ventilationPerPerson_: The desired minimum rate of outdoor air ventilation through the mechanical system into the zone per person in the zone.  Values here should be in m3/s-person (Liters per second per person in the zone). In effect, an input here will mimic demand controlled ventilation, where the ventilation through the mechanical system will change depending upon the occupancy. Most standards suggest that you should have at least 0.001 m3/s for each person in the zone but this may be increased sometimes to avoid odors or exposure to indoor pollutants.\n        recirculatedAirPerArea_: The desired minimum rate of recirculated air flow through the HVAC system in m3/s per m2 of floor.  Note that this input does not affect any models run with ideal air systems and only has an effect on OpenStudio models where recirculated air is required in addtion to outdoor ventilation (such as hostpital patient rooms that require additional ventilation to limit the spread of diseases).  The defult is always set to zero as most spaces do not require recirculated air.\n    Returns:\n        loads: The current loads of the HBZones.\n        HBZones: Honeybee zones with modifided loads.\n\"\"\"\n\nghenv.Component.Name = \"Honeybee_Set EnergyPlus Zone Loads\"\nghenv.Component.NickName = 'setEPZoneLoads'\nghenv.Component.Message = 'VER 0.0.66\\nJUL_07_2020'\nghenv.Component.IconDisplayMode = ghenv.Component.IconDisplayMode.application\nghenv.Component.Category = \"HB-Legacy\"\nghenv.Component.SubCategory = \"08 | Energy | Set Zone Properties\"\n#compatibleHBVersion = VER 0.0.56\\nNOV_04_2016\n#compatibleLBVersion = VER 0.0.59\\nFEB_01_2015\ntry: ghenv.Component.AdditionalHelpFromDocStrings = \"1\"\nexcept: pass\nimport scriptcontext as sc\nimport uuid\nimport Grasshopper.Kernel as gh\n\ndef duplicateData(input, length):\n    il = len(input)\n    if il == 0:\n        return tuple(None for i in range(length))\n    else:\n        return tuple(input[i] if i < il else input[-1] for i in range(length))\n\ndef main(HBZones, equipmentLoadPerArea, infiltrationRatePerArea, lightingDensityPerArea,\n         numOfPeoplePerArea, ventilationPerArea, ventilationPerPerson, recirculatedAirPerArea):\n    # check for Honeybee\n    if not sc.sticky.has_key('honeybee_release'):\n        print \"You should first let Honeybee to fly...\"\n        w = gh.GH_RuntimeMessageLevel.Warning\n        ghenv.Component.AddRuntimeMessage(w, \"You should first let Honeybee to fly...\")\n        return -1\n\n    try:\n        if not sc.sticky['honeybee_release'].isCompatible(ghenv.Component): return -1\n        if sc.sticky['honeybee_release'].isInputMissing(ghenv.Component): return -1\n    except:\n        warning = \"You need a newer version of Honeybee to use this compoent.\" + \\\n        \" Use updateHoneybee component to update userObjects.\\n\" + \\\n        \"If you have already updated userObjects drag Honeybee_Honeybee component \" + \\\n        \"into canvas and try again.\"\n        w = gh.GH_RuntimeMessageLevel.Warning\n        ghenv.Component.AddRuntimeMessage(w, warning)\n        return -1\n        return -1\n        \n    # call the objects from the lib\n    hb_hive = sc.sticky[\"honeybee_Hive\"]()\n    HBObjectsFromHive = hb_hive.callFromHoneybeeHive(HBZones)\n    \n    length = len(HBObjectsFromHive)\n    equipmentLoadPerArea = duplicateData(equipmentLoadPerArea, length)\n    infiltrationRatePerArea = duplicateData(infiltrationRatePerArea, length) \n    lightingDensityPerArea = duplicateData(lightingDensityPerArea, length) \n    numOfPeoplePerArea = duplicateData(numOfPeoplePerArea, length) \n    ventilationPerArea = duplicateData(ventilationPerArea, length) \n    ventilationPerPerson = duplicateData(ventilationPerPerson, length) \n    recirculatedAirPerArea = duplicateData(recirculatedAirPerArea, length) \n    \n    loads = []\n    for zoneCount, HBZone in enumerate(HBObjectsFromHive):\n        \n        # assign the default is there is no load assigned yet\n        if not HBZone.isLoadsAssigned:\n            HBZone.assignLoadsBasedOnProgram(ghenv.Component)\n        \n        if equipmentLoadPerArea[zoneCount] != None:\n            HBZone.equipmentLoadPerArea = equipmentLoadPerArea[zoneCount]\n        if infiltrationRatePerArea[zoneCount] != None:\n            HBZone.infiltrationRatePerArea = infiltrationRatePerArea[zoneCount]\n        if lightingDensityPerArea[zoneCount] != None:\n            HBZone.lightingDensityPerArea = lightingDensityPerArea[zoneCount]\n        if numOfPeoplePerArea[zoneCount] != None:\n            HBZone.numOfPeoplePerArea = numOfPeoplePerArea[zoneCount]\n        if ventilationPerArea[zoneCount] != None:\n            HBZone.ventilationPerArea = ventilationPerArea[zoneCount]\n        if ventilationPerPerson[zoneCount] != None:\n            HBZone.ventilationPerPerson = ventilationPerPerson[zoneCount]\n        if recirculatedAirPerArea[zoneCount] != None:\n            HBZone.recirculatedAirPerArea = recirculatedAirPerArea[zoneCount]\n        \n        loads.append(HBZone.getCurrentLoads())\n    \n    HBZones  = hb_hive.addToHoneybeeHive(HBObjectsFromHive, ghenv.Component)\n\n    return HBZones, loads\n    \n\nif _HBZones and _HBZones[0]!=None:\n    results = main(_HBZones, equipmentLoadPerArea_, infilRatePerArea_Facade_, lightingDensityPerArea_, numOfPeoplePerArea_, ventilationPerArea_, ventilationPerPerson_, recirculatedAirPerArea_)\n    \n    if results != -1: HBZones, loads = results",
  "language": "python",
  "imports": [
    "scriptcontext"
  ],
  "has_docstring": true
}