{
  "source_url": "https://github.com/arpastrana/compas_cem/blob/15c9c69fb49971302b5e91be13ab9ad23b7e6f98/src/compas_cem/ghpython/components/CompasCem_SearchEdgeKey/code.py",
  "repo": "arpastrana/compas_cem",
  "repo_stars": 39,
  "repo_description": "Inverse design of 3D truss networks with automatic differentiation",
  "license": "MIT",
  "filepath": "src/compas_cem/ghpython/components/CompasCem_SearchEdgeKey/code.py",
  "instruction": "Search for an edge key in a topology or a form diagram using a line.",
  "code": "\"\"\"\nSearch for an edge key in a topology or a form diagram using a line.\n\"\"\"\nfrom ghpythonlib.componentbase import executingcomponent as component\n\nfrom compas_rhino.geometry import RhinoLine\nfrom compas.utilities import geometric_key\n\n\nclass SearchEdgeKeyComponent(component):\n    def RunScript(self, diagram, line):\n        if not (diagram and line):\n            return\n\n        line = RhinoLine.from_geometry(line).to_compas()\n\n        eg = []\n        for point in (line.start, line.end):\n            gkey = geometric_key(point, diagram.tol)\n            node = diagram.gkey_node[gkey]\n            eg.append(node)\n\n        return [tuple(eg)]\n",
  "language": "python",
  "imports": [
    "ghpythonlib"
  ],
  "has_docstring": true
}