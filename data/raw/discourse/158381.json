{
  "source_url": "https://discourse.mcneel.com/t/ghpython-incremental-loop-question/158381",
  "topic_id": 158381,
  "title": "Ghpython incremental loop question",
  "question": "Hey good-looking friends,\n\n\nI am trying to learn ghpython, I tried to:\n\n\n\n\ndivide the first curve (use the Midpoints from each segment as the \"destination points),\n\n\nmove the second curve to each and every destination points provided),\n\n\nrotate at each points\n\n\n\n\nimage\n1392×637 4 KB\n\n\n\n\n\n\n\n\nimage\n1392×637 5.07 KB\n\n\n\n\n\n\n\n\nimage\n1392×637 8.25 KB\n\n\n\n\n\n\n\n\nI am really grateful if you can help me understand a few question that I am currently having:\n\n1.I used “incremental loop” in all three steps in order to get the similar effect as “Graft” data datatree in regular gh, but I don’t understand the “Output” generated by the loop, i.e. the amount of data will increase following its index number, instead of one geometry at each places as I intended:\n\n\n\n\n\n\nCould you please take a look at my current script (inside Ghpython)\n\n\npython question.gh\n (115.1 KB)\n\n\n\n\nis there anyway to streamline the whole process e.g. I don’t need to loop to convert the GUID to Point3D everytime and I don’t need to “loop” and “append” in order to move geometries,\n\n\n\n\nimage\n834×491 18.4 KB\n\n\n\n\n\n\nimage\n879×666 28.7 KB\n\n\n\n\nI appreciate your help~~~\n\n\nTom",
  "code_blocks": [
    {
      "code": "import Rhino.Geometry as rg\nimport math\n#Get crv parameters t for each point\nparams = crv1.DivideByCount(div,True)\n#Get list of points for each t\npts = [crv1.PointAt(p) for p in params]\n\n#Output crv lst\ncrvs = []\n#Get crv2 mid pt\ncrv2_midPt = crv2.PointAt((crv2.Domain[1] - crv2.Domain[0]) / 2)\n\n#For each point, copy the curve to point, rotate if you want \nfor pt in pts:\n    vec = pt - crv2_midPt\n    crv = crv2.Duplicate()\n    crv.Translate(vec)\n    crv.Rotate(math.radians(rot),rg.Vector3d(0,0,1),pt)\n    crvs.append(crv)",
      "language": "python",
      "author": "wkarnowka",
      "post_number": 4,
      "is_solution": false
    }
  ],
  "tags": [
    "file-io",
    "geometry",
    "grasshopper",
    "python",
    "rhinocommon",
    "transformation"
  ],
  "has_accepted_answer": true,
  "category_id": 11,
  "posts_count": 8,
  "views": 454
}