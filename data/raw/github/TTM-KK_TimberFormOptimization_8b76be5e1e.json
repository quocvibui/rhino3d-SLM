{
  "source_url": "https://github.com/TTM-KK/TimberFormOptimization/blob/a728057ff3bfbfb7995b309e835a6278a6e86fcc/GA/Selection.py",
  "repo": "TTM-KK/TimberFormOptimization",
  "repo_stars": 0,
  "repo_description": "This is a Form Generate Project, using non preform timber.",
  "license": "unknown",
  "filepath": "GA/Selection.py",
  "instruction": "Selection",
  "code": "# -*- coding: utf-8 -*-\nimport rhinoscriptsyntax as rs\nimport random as rnd\n\n\ndef sort_low(sort_generate_instance_list):\n    \"\"\"\n    :param sort_generate_instance_list: 評価値に合わせてソートされた個体を格納する空リスト\n    :return:\n    \"\"\"\n    flag = True\n    while flag:\n        counter = 0\n        for i in range(len(sort_generate_instance_list)):\n            value_a = sort_generate_instance_list[i].evaluation\n            if i == len(sort_generate_instance_list) - 1:\n                value_b = sort_generate_instance_list[0].evaluation\n            else:\n                value_b = sort_generate_instance_list[i + 1].evaluation\n\n\n            if i == len(sort_generate_instance_list) - 1:\n                if value_a < value_b:\n                    sort_generate_instance_list[i], sort_generate_instance_list[0] = sort_generate_instance_list[0], sort_generate_instance_list[i]\n                else:\n                    counter = counter + 1\n                    continue\n            elif i != len(sort_generate_instance_list) - 1:\n                if value_a > value_b:\n                    sort_generate_instance_list[i], sort_generate_instance_list[i + 1] = sort_generate_instance_list[i + 1], sort_generate_instance_list[i]\n                else:\n                    counter = counter + 1\n                    continue\n\n        if counter == len(sort_generate_instance_list):\n            flag = False\n\n    list_evaluate_value = []\n    for i in range(len(sort_generate_instance_list)):\n        list_evaluate_value.append(sort_generate_instance_list[i].evaluation)\n\n    # print(\"evaluate value: %s\" % (list_evaluate_value))\n\n\ndef sort_high(sort_generate_instance_list):\n    \"\"\"\n    :param sort_generate_instance_list: 評価値に合わせてソートされた個体を格納する空リスト\n    :return:\n    \"\"\"\n    flag = True\n    while flag:\n        counter = 0\n        for i in range(len(sort_generate_instance_list)):\n            value_a = sort_generate_instance_list[i].evaluation\n            if i == len(sort_generate_instance_list) - 1:\n                value_b = sort_generate_instance_list[0].evaluation\n            else:\n                value_b = sort_generate_instance_list[i + 1].evaluation\n\n\n            if i == len(sort_generate_instance_list) - 1:\n                if value_a > value_b:\n                    sort_generate_instance_list[i], sort_generate_instance_list[0] = sort_generate_instance_list[0], sort_generate_instance_list[i]\n                else:\n                    counter = counter + 1\n                    continue\n            elif i != len(sort_generate_instance_list) - 1:\n                if value_a < value_b:\n                    sort_generate_instance_list[i], sort_generate_instance_list[i + 1] = sort_generate_instance_list[i + 1], sort_generate_instance_list[i]\n                else:\n                    counter = counter + 1\n                    continue\n\n        if counter == len(sort_generate_instance_list):\n            flag = False\n\n    list_evaluate_value = []\n    for i in range(len(sort_generate_instance_list)):\n        list_evaluate_value.append(sort_generate_instance_list[i].evaluation)\n\n    # print(\"evaluate value: %s\" % (list_evaluate_value))\n\n\ndef eliteSelection(elite_num, sort_generate_instance_list, select_elite_list):\n    \"\"\"\n    :param elite_num: エリート選択を行う数\n    :param sort_generate_instance_list: 評価値に合わせてソートされた個体が格納されているリスト\n    :param select_elite_list: 選択された個体を格納する空リスト\n    :return:\n    \"\"\"\n    for i in range(elite_num):\n        select_id = sort_generate_instance_list[i].population_id\n        select_elite_list.append(select_id)\n    # if flag:\n    # for i in range(elite_num):\n    #     del sort_generate_instance_list[0]\n\ndef tournamentSelection_max(tournament_size, tournament_num, sort_generate_instance_list, select_tournament_list):\n    for i in range(tournament_num):\n        choices = rnd.sample(sort_generate_instance_list, tournament_size)\n        # print(\"choices\", choices)\n        list_eva = []\n        for j in range(len(choices)):\n            list_eva.append(choices[j].evaluation)\n\n        max_value = max(list_eva)\n        max_value_index = list_eva.index(max_value)\n        id = choices[max_value_index].population_id\n\n        select_tournament_list.append(id)\n\n\ndef tournamentSelection_min(tournament_size, tournament_num, sort_generate_instance_list, select_tournament_list):\n    for i in range(tournament_num):\n        choices = rnd.sample(sort_generate_instance_list, tournament_size)\n        # print(\"choices\", choices)\n        list_eva = []\n        for j in range(len(choices)):\n            list_eva.append(choices[j].evaluation)\n\n        min_value = min(list_eva)\n        min_value_index = list_eva.index(min_value)\n        id = choices[min_value_index].population_id\n\n        select_tournament_list.append(id)",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}