{
  "source_url": "https://github.com/dbt-ethz/Axolotl_Python/blob/0938046ecc5e50645d241a330b57734767958b07/_old_axolotl-1.0/code/primitives/cylinder.py",
  "repo": "dbt-ethz/Axolotl_Python",
  "repo_stars": 59,
  "repo_description": "Volumetric Modelling components for Rhino Grasshopper.",
  "license": "unknown",
  "filepath": "_old_axolotl-1.0/code/primitives/cylinder.py",
  "instruction": "Creates cylinders centered aroung the origin planes.\nIf only one radius is specified, it is used for all the cylinders.\nIf only one height is specified, it is used for all the cylinders.",
  "code": "#!/usr/bin/env python2\n# -*- coding: utf-8 -*-\n\n\"\"\"\nCreates cylinders centered aroung the origin planes.\nIf only one radius is specified, it is used for all the cylinders.\nIf only one height is specified, it is used for all the cylinders.\n\"\"\"\n\n__author__     = ['Mathias Bernhard']\n__copyright__  = 'Copyright 2018 / Digital Building Technologies DBT / ETH Zurich'\n__license__    = 'MIT License'\n__email__      = '<bernhard@arch.ethz.ch>'\n\nimport rhinoscriptsyntax as rs\nimport Rhino.Geometry as rg\nimport math\n\ndef get_dist(p,o,r,h):\n    dx = abs(p.X-o.OriginX)\n    dy = abs(p.Y-o.OriginY)\n    dz = abs(p.Z-o.OriginZ)\n\n    d = math.sqrt(dx*dx + dy*dy) - r\n    d = max(d, abs(dz) - h/2)\n    return d\n\n# check inputs\nif not radius:\n    radius = [5.0 for _ in origin]\nif not height:\n    height = [15.0 for _ in origin]\nif len(radius)<len(origin):\n    radius = [radius[0] for _ in origin]\nif len(height)<len(origin):\n    height = [height[0] for _ in origin]\n\n# calculate transformation matrix between worldxy and box plane\nvoxplane = rs.WorldXYPlane()\na = [9999.9 for p in pts]\nfor i,o in enumerate(origin):\n    tpts = [rg.Point3d(p) for p in pts]\n    voxplane.Origin = o.Origin\n    tf = rg.Transform.PlaneToPlane(o,voxplane)\n\n    # rebase the points according to the transformation matrix\n    for p in tpts:\n        p.Transform(tf)\n\n    a = [min(a[j],get_dist(p,o,radius[i],height[i])) for j,p in enumerate(tpts)]\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}