{
  "source_url": "https://github.com/Ennead-Architects-LLP/EA_Dist/blob/635520d89b8308b78eabf5b60bb80121d0fa3838/Apps/_rhino/View.tab/section_box.button/section_box_left.py",
  "repo": "Ennead-Architects-LLP/EA_Dist",
  "repo_stars": 0,
  "repo_description": null,
  "license": "unknown",
  "filepath": "Apps/_rhino/View.tab/section_box.button/section_box_left.py",
  "instruction": "Section box left",
  "code": "__title__ = \"SectionboxByBoundingBox\"\r\n__doc__ = \"\"\"Creates section boxes around selected elements.\r\n\r\nSimilar to Revit's SectionBox, crops views to selected element boundaries.\r\nSupports all clipping modes in Rhino, with limited Enscape compatibility.\r\n\"\"\"\r\n__is_popular__ = True\r\nimport rhinoscriptsyntax as rs\r\n\r\nfrom EnneadTab import NOTIFICATION\r\nfrom EnneadTab import LOG, ERROR_HANDLE\r\nfrom EnneadTab.RHINO import RHINO_OBJ_DATA\r\nimport section_box_right as SB\r\nimport section_box_utility\r\n\r\n\r\n@LOG.log(__file__, __title__)\r\n@ERROR_HANDLE.try_catch_error()\r\ndef section_box():\r\n    #NOTIFICATION.messenger(main_text = \"Select the objs to do sectionbox boundingbox around\")\r\n    objs = rs.GetObjects(message = \"Get objs to do sectionbox\", filter = 0, group = True, preselect = True)\r\n    rs.EnableRedraw(False)\r\n    if objs is None:\r\n        NOTIFICATION.messenger(main_text = \"You didn't select anything.\\nBoundingbox cannot generate around emptyness...\")\r\n        return\r\n\r\n    bbox_pts = rs.BoundingBox(objs, view_or_plane = rs.CurrentView(return_name = False))\r\n    try:\r\n        base_srf = rs.AddSrfPt([bbox_pts[0],bbox_pts[1],bbox_pts[2],bbox_pts[3]])\r\n        crv = rs.AddLine(bbox_pts[0],bbox_pts[4])\r\n        bbox = rs.ExtrudeSurface(base_srf, crv)\r\n        #rs.DeleteObjects(bbox_pts)\r\n        rs.DeleteObjects( [crv, base_srf])\r\n    except Exception as e:\r\n        NOTIFICATION.messenger(main_text = \"Cannot find valid boundingbox\\nMight be a 1D or 2D element in current CPlane.\")\r\n        if \"crv\" in locals():\r\n            try:\r\n                rs.DeleteObject( crv )\r\n            except Exception as e:\r\n                print(e)\r\n        if \"base_srf\" in locals():\r\n            try:\r\n                rs.DeleteObject( base_srf )\r\n            except Exception as e:\r\n                print(e)\r\n        return\r\n\r\n    scale = 1.2\r\n    \"\"\"\r\n    for obj in objs:\r\n        rs.MessageBox( rs.ObjectName(obj) == SB.GROUP_NAME_KEYWORD + \"edges\")\r\n    \"\"\"\r\n    if all(rs.ObjectName(x) == section_box_utility.GROUP_NAME_KEYWORD + \"edges\" for x in objs):\r\n        scale = 1.0#>>>>>>>>>>>>>>>>>to update, if user pick the dash bounding box, then dont need to scale up\r\n    scale = [scale, scale, scale]\r\n\r\n    \"\"\"future try BoundingBox.Inflate Method (Double)\r\n    Inflates the box with equal amounts in all directions. Inflating with negative amounts may result in decreasing boxes.\"\"\"\r\n    bbox = rs.ScaleObject(bbox, RHINO_OBJ_DATA.get_center(bbox), scale)\r\n\r\n\r\n    SB.section_box(section_box_utility.GROUP_NAME_KEYWORD, predefined_polysurf = bbox)\r\n\r\n\r\n\r\n\r\n\r\n\r\nif __name__ == \"__main__\":\r\n    section_box()",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}