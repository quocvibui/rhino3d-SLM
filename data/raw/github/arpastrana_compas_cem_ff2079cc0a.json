{
  "source_url": "https://github.com/arpastrana/compas_cem/blob/15c9c69fb49971302b5e91be13ab9ad23b7e6f98/src/compas_cem/ghpython/components/CompasCem_ArtistTopology/code.py",
  "repo": "arpastrana/compas_cem",
  "repo_stars": 39,
  "repo_description": "Inverse design of 3D truss networks with automatic differentiation",
  "license": "MIT",
  "filepath": "src/compas_cem/ghpython/components/CompasCem_ArtistTopology/code.py",
  "instruction": "Draw a topology diagram.",
  "code": "\"\"\"\nDraw a topology diagram.\n\"\"\"\nfrom ghpythonlib.componentbase import executingcomponent as component\n\nfrom compas_cem.ghpython import TopologyArtist\n\n\nclass TopologyArtistComponent(component):\n    def RunScript(self, topology, node_keys, edge_keys, force_min, force_scale):\n        node_keys = node_keys or None\n        edge_keys = edge_keys or None\n        force_min = force_min or 1e-3\n        force_scale = force_scale or 1.0\n\n        if not topology:\n            return\n\n        artist = TopologyArtist(topology, artist_type=TopologyArtist)\n\n        nodes = artist.draw_nodes(node_keys)\n        origin_nodes = artist.draw_nodes_origin(node_keys)\n        support_nodes = artist.draw_nodes_support(node_keys)\n\n        edges = artist.draw_edges(edge_keys)\n        trail_edges = artist.draw_edges_trail(edge_keys)\n        deviation_edges = artist.draw_edges_deviation(edge_keys)\n\n        trails = artist.draw_trails()\n\n        loads = artist.draw_loads(node_keys, min_load=force_min, scale=force_scale)\n\n        return nodes, origin_nodes, support_nodes, edges, trail_edges, deviation_edges, trails, loads\n",
  "language": "python",
  "imports": [
    "ghpythonlib"
  ],
  "has_docstring": true
}