{
  "source_url": "https://discourse.mcneel.com/t/dynamically-updating-slider/78623",
  "topic_id": 78623,
  "title": "Dynamically updating slider",
  "question": "Hi, I am trying to change the number slider value dynamically. Following code is working with one dimensional array, which is \nxnew[]\n:\n\n\n  private void RunScript(List<double> x, int nTimes, bool run, ref object A)\n  {\n    //based on code snippets from David Rutten and James Ramsden:\n    //http://james-ramsden.com/remotely-change-value-of-number-slider-grasshopper/\n    int n = x.Count;\n    if(run)\n    {\n      if((nTimes != minimum))\n      {\n        minimum = nTimes;\n        counter = nTimes;\n      }\n      //while(counter > 0){//time iteration, now it is controlled instead with the input nTimes\n      double[] x_new = new double[n];\n      var input = Component.Params.Input[0];//gets sliders in\n      for(int i = 0; i < n;i++)\n      {\n        Random rnd = new Random(Guid.NewGuid().GetHashCode());\n        x_new[i] = rnd.NextDouble();\n        var slider=input.Sources[i] as Grasshopper.Kernel.Special.GH_NumberSlider;\n        slider.SetSliderValue((decimal) x_new[i]);\n        slider.Slider.DrawControlBackground = true;\n        slider.Slider.DrawControlBorder = true;\n        slider.Slider.ControlEdgeColour = System.Drawing.Color.Blue;\n        slider.Slider.ControlBackColour = System.Drawing.Color.Aquamarine;\n        //slider.Slider.DecimalPlaces = 4;\n      }\n      InRun = run;\n      if(counter < 0){InRun = false;}\n      A = x_new;\n      if(InRun){GrasshopperDocument.ScheduleSolution(100, ScheduleCallback);}\n      //}\n    }\n  }\n  // <Custom additional code> \n  // <Custom additional code>\n  //private bool _run = false;\n  private int minimum = -1;\n  private int counter = -1;\n  private bool InRun = false;\n  private void ScheduleCallback(GH_Document document)\n  {\n    counter--;\n    Component.ExpireSolution(false);\n  }\n\n\n\nHowever, I want to change the value of slider with two dimensional array, which requires one more loop (for using it in populated algorithms) Following code gives an idea about what I want to do, but not working properly:\n\n\n  private void RunScript(List<double> x...",
  "code_blocks": [
    {
      "code": "private void RunScript(List<double> x, int nTimes, bool run, double solution, ref object A, ref object B)\n  {\n    //based on code snippets from David Rutten and James Ramsden:\n    //http://james-ramsden.com/remotely-change-value-of-number-slider-grasshopper/\n\n    int n = x.Count; //parameter Size\n    int p = 5; //pop size\n    double[,] population = new double[5, 3]{{1.2,2.3,5.2},{4.4,2.1,3.5},{2.5,0.5,3.1},{4.2,2.7,3.6},{1.4,0.4,2.7}};\n    List<double> result = new List<double>(p);\n    if(run)\n    {\n      if((nTimes != minimum))\n      {\n        minimum = nTimes;\n        counter = nTimes;\n      }\n      double[,] x_new = new double[p, n];\n      var input = Component.Params.Input[0];//gets sliders in\n\n      for(int i = 0; i < p;i++)\n      {\n        for(int j = 0; j < n;j++)\n        {\n          //Random rnd = new Random(Guid.NewGuid().GetHashCode());//make the psuedo-random as random as possible\n          x_new[i, j] = population[i, j];\n          var slider=input.Sources[j] as Grasshopper.Kernel.Special.GH_NumberSlider;//i_th slider\n          slider.SetSliderValue((decimal) x_new[i, j]);\n          slider.Slider.DrawControlBackground = true;\n          slider.Slider.DrawControlBorder = true;\n          slider.Slider.ControlEdgeColour = System.Drawing.Color.Blue;\n          slider.Slider.ControlBackColour = System.Drawing.Color.Aquamarine;\n        }\n        result.Add(solution);\n      }\n      InRun = run;\n      if(counter < 0){InRun = false;}\n      A = x_new;\n      B = result;\n      if(InRun){GrasshopperDocument.ScheduleSolution(100, ScheduleCallback);}\n    }\n  }\n\n  // <Custom additional code> \n  // <Custom additional code>\n  //private bool _run = false;\n  private int minimum = -1;\n  private int counter = -1;\n  private bool InRun = false;\n  private void ScheduleCallback(GH_Document document)\n  {\n    counter--;\n    Component.ExpireSolution(false);\n  }\n  // </Custom additional code> \n}",
      "language": "csharp",
      "author": "cemreugurlu",
      "post_number": 4,
      "is_solution": false
    },
    {
      "code": "private void RunScript(List<double> x, int nTimes, bool run, ref object A)\n  {\n    //based on code snippets from David Rutten and James Ramsden:\n    //http://james-ramsden.com/remotely-change-value-of-number-slider-grasshopper/\n    int n = x.Count;\n    if(run)\n    {\n      if((nTimes != minimum))\n      {\n        minimum = nTimes;\n        counter = nTimes;\n      }\n      //while(counter > 0){//time iteration, now it is controlled instead with the input nTimes\n      double[] x_new = new double[n];\n      var input = Component.Params.Input[0];//gets sliders in\n      for(int i = 0; i < n;i++)\n      {\n        Random rnd = new Random(Guid.NewGuid().GetHashCode());\n        x_new[i] = rnd.NextDouble();\n        var slider=input.Sources[i] as Grasshopper.Kernel.Special.GH_NumberSlider;\n        slider.SetSliderValue((decimal) x_new[i]);\n        slider.Slider.DrawControlBackground = true;\n        slider.Slider.DrawControlBorder = true;\n        slider.Slider.ControlEdgeColour = System.Drawing.Color.Blue;\n        slider.Slider.ControlBackColour = System.Drawing.Color.Aquamarine;\n        //slider.Slider.DecimalPlaces = 4;\n      }\n      InRun = run;\n      if(counter < 0){InRun = false;}\n      A = x_new;\n      if(InRun){GrasshopperDocument.ScheduleSolution(100, ScheduleCallback);}\n      //}\n    }\n  }\n  // <Custom additional code> \n  // <Custom additional code>\n  //private bool _run = false;\n  private int minimum = -1;\n  private int counter = -1;\n  private bool InRun = false;\n  private void ScheduleCallback(GH_Document document)\n  {\n    counter--;\n    Component.ExpireSolution(false);\n  }",
      "language": "csharp",
      "author": "cemreugurlu",
      "post_number": 1,
      "is_solution": false
    },
    {
      "code": "private void RunScript(List<double> x, int nTimes, bool run, ref object A)\n  {\n    //based on code snippets from David Rutten and James Ramsden:\n    //http://james-ramsden.com/remotely-change-value-of-number-slider-grasshopper/\n    int n = x.Count; //parameter Size\n    int p = 5; //population size\n    if(run)\n    {\n      if((nTimes != minimum))\n      {\n        minimum = nTimes;\n        counter = nTimes;\n      }\n      double[,] x_new = new double[p, n];\n      var input = Component.Params.Input[0];//gets sliders in\n      for(int i = 0; i < p;i++)\n      {\n        for(int j = 0; j < n;j++)\n        {\n          Random rnd = new Random(Guid.NewGuid().GetHashCode());\n          x_new[i, j] = rnd.NextDouble();\n          var slider=input.Sources[j] as Grasshopper.Kernel.Special.GH_NumberSlider;//i_th slider\n          slider.SetSliderValue((decimal) x_new[i, j]);\n          slider.Slider.DrawControlBackground = true;\n          slider.Slider.DrawControlBorder = true;\n          slider.Slider.ControlEdgeColour = System.Drawing.Color.Blue;\n          slider.Slider.ControlBackColour = System.Drawing.Color.Aquamarine;\n          //slider.Slider.DecimalPlaces = 4;\n        }\n      }\n      InRun = run;\n      if(counter < 0){InRun = false;}\n      A = x_new;\n      if(InRun){GrasshopperDocument.ScheduleSolution(100, ScheduleCallback);}\n      //}\n    }\n  }\n\n  // <Custom additional code> \n  // <Custom additional code>\n  //private bool _run = false;\n  private int minimum = -1;\n  private int counter = -1;\n  private bool InRun = false;\n  private void ScheduleCallback(GH_Document document)\n  {\n    counter--;\n    Component.ExpireSolution(false);\n  }",
      "language": "csharp",
      "author": "cemreugurlu",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "grasshopper"
  ],
  "has_accepted_answer": false,
  "category_id": 8,
  "posts_count": 12,
  "views": 2674
}