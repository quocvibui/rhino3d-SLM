{
  "source_url": "https://github.com/HaroonZm/Cassiopee/blob/fffd5aa8e435a8f73afc8af7d90392f54e3cfab6/original_datasets/the_stack_organized/XingxinHE_compas/slider.py",
  "repo": "HaroonZm/Cassiopee",
  "repo_stars": 1,
  "repo_description": "Projet Cassiope",
  "license": "unknown",
  "filepath": "original_datasets/the_stack_organized/XingxinHE_compas/slider.py",
  "instruction": "Slider",
  "code": "from __future__ import print_function\nfrom __future__ import absolute_import\nfrom __future__ import division\n\nfrom compas_rhino.forms.base import BaseForm\n\nimport System\nfrom System.Drawing import Size\nfrom System.Drawing import Point\nfrom System.Drawing import Color\nfrom System.Windows.Forms import TextBox\nfrom System.Windows.Forms import TrackBar\n\nimport scriptcontext as sc\n\n\n__all__ = ['SliderForm']\n\n\nclass SliderForm(BaseForm):\n    \"\"\"A form for sliders.\"\"\"\n\n    def __init__(self, minval, maxval, step, value):\n        self.minval = minval\n        self.maxval = maxval\n        self.step = step\n        self.value = value\n        super(SliderForm, self).__init__()\n\n    def init(self):\n        textbox = TextBox()\n        textbox.Text = str(self.value)\n        textbox.Location = Point(10, 10)\n        textbox.Width = 40\n        textbox.TextChanged += System.EventHandler(self.on_textchanged)\n        trackbar = TrackBar()\n        trackbar.Minimum = self.minval\n        trackbar.Maximum = self.maxval\n        trackbar.SmallChange = self.step\n        trackbar.LargeChange = self.step\n        trackbar.TickFrequency = self.step\n        trackbar.Value = self.value\n        trackbar.Width = 460\n        trackbar.Location = Point(60, 10)\n        trackbar.Scroll += System.EventHandler(self.on_scroll)\n        self.Controls.Add(textbox)\n        self.Controls.Add(trackbar)\n        self.ClientSize = Size(10 + textbox.Width + 10 + trackbar.Width + 10, trackbar.Height + 10)\n        self.textbox = textbox\n        self.trackbar = trackbar\n\n    def on_textchanged(self, sender, e):\n        if sender.Text:\n            self.trackbar.Value = int(sender.Text)\n\n    def on_scroll(self, sender, e):\n        self.textbox.Text = str(sender.Value)\n        sc.doc.Views.Redraw()\n\n\n# ==============================================================================\n# Main\n# ==============================================================================\n\nif __name__ == '__main__':\n\n    import Rhino\n    from Rhino.Geometry import Point3d\n    from Rhino.Geometry import Plane\n    from Rhino.Geometry import Circle\n    from Rhino.Geometry import Cylinder\n\n    from Rhino.Display import DisplayMaterial\n\n    class Pipe(Rhino.Display.DisplayConduit):\n        \"\"\"\"\"\"\n\n        def __init__(self, slider):\n            super(Pipe, self).__init__()\n            self.slider = slider\n            self.base = Point3d(0, 0, 0)\n            self.normal = Point3d(0, 0, 1) - self.base\n            self.height = 30\n            self.plane = Plane(self.base, self.normal)\n            self.color = Color.FromArgb(255, 0, 0)\n            self.material = DisplayMaterial(self.color)\n\n        def DrawForeground(self, e):\n            radius = self.slider.trackbar.Value\n            circle = Circle(self.plane, radius)\n            cylinder = Cylinder(circle, self.height)\n            brep = cylinder.ToBrep(True, True)\n            e.Display.DrawBrepShaded(brep, self.material)\n\n    try:\n        slider = SliderForm(0, 10, 1, 3)\n        pipe = Pipe(slider)\n        pipe.Enabled = True\n        sc.doc.Views.Redraw()\n        slider.show()\n\n    except Exception as e:\n        print(e)\n\n    finally:\n        pipe.Enabled = False\n        del pipe\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "scriptcontext"
  ],
  "has_docstring": false
}