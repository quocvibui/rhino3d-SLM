{
  "source_url": "https://github.com/felipeharker/alexandria-lab-scripting/blob/1771434a741c840da1d8ab008876e4866d6fecf3/mcneel-docs/GitHub-Rhino-Developer-Samples-Repo/rhinocommon/snippets/py/divide-curve-straight.py",
  "repo": "felipeharker/alexandria-lab-scripting",
  "repo_stars": 0,
  "repo_description": "python, c#, etc. script library for Alexandria Labs",
  "license": "unknown",
  "filepath": "mcneel-docs/GitHub-Rhino-Developer-Samples-Repo/rhinocommon/snippets/py/divide-curve-straight.py",
  "instruction": "Divide curve straight",
  "code": "import rhinoscriptsyntax as rs\nimport Rhino\nfrom Rhino.Input import *\nfrom Rhino.DocObjects import *\nfrom Rhino.Commands import *\nfrom Rhino.Geometry import *\nfrom Rhino.Geometry.Intersect import *\n\ndef nextIntersectParamAndPoint(overlapCurves, intersectPoints, curve):\n    intersectParamsAndPoints = [(curve.ClosestPoint(point)[1], point) for point in intersectPoints]\n    for overlapCurve in overlapCurves:\n        intersectParamsAndPoints.append((overlapCurve.Domain.Min, overlapCurve.PointAt(overlapCurve.Domain.Min)))\n        intersectParamsandPoints.append((overlapCurve.Domain.Max, overlapCurve.PointAt(overlapCurve.Domain.max)))\n    return min(intersectParamsAndPoints, key =  lambda t: t[0])\n\ndef divide_curve():\n    # get user input\n    res, obj_refs = RhinoGet.GetMultipleObjects(\"Curves to divide\",\n        False, ObjectType.EdgeFilter | ObjectType.Curve)\n    if res != Result.Success: return res\n    curves = [obj_ref.Curve() for obj_ref in obj_refs]\n\n    distance_between_divisions = rs.GetReal(\n        message = \"Distance between divisions\",\n        number = 5.0, minimum = 1.0)\n    if distance_between_divisions == None: return\n\n    # generate the points\n    points = []\n    for curve in curves:\n        t0 = curve.Domain.Min\n        points.append(curve.PointAt(t0))\n\n        sphere_center = curve.PointAt(t0)\n        t = t0\n        rest_of_curve = curve\n        while True:\n            sphere = Sphere(sphere_center, distance_between_divisions)\n            b, overlapCurves, intersectPoints = Intersection.CurveBrep(rest_of_curve, sphere.ToBrep(), 0.0)\n            if b == False or (overlapCurves.Length == 0 and intersectPoints.Length == 0):\n                break\n            t, point = nextIntersectParamAndPoint(overlapCurves, intersectPoints, rest_of_curve)\n            points.append(point)\n            sphere_center = point\n            rest_of_curve = curve.Split(t)[1]\n\n    rs.AddPoints(points)\n    rs.Redraw()\n\nif __name__ == \"__main__\":\n    divide_curve()\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}