{
  "source_url": "https://discourse.mcneel.com/t/rhino-common-error-handling/24236",
  "topic_id": 24236,
  "title": "Rhino Common Error Handling",
  "question": "Hi,\n\n\nI was wondering how you guys handle Errors in C#.net Development for Rhino.\n\n\nFor example:\n\n\nThis code adds a circle to the Document in RhinoPython\n\n\ndef AddArc(plane, radius, angle_degrees):\n    \"\"\"Adds an arc curve to the document\n    Parameters:\n      plane = plane on which the arc will lie. The origin of the plane will be\n        the center point of the arc. x-axis of the plane defines the 0 angle\n        direction.\n      radius = radius of the arc\n      angle_degrees = interval of arc\n    Returns:\n      id of the new curve object\n    \"\"\"\n    plane = rhutil.coerceplane(plane, True)\n    radians = math.radians(angle_degrees)\n    arc = Rhino.Geometry.Arc(plane, radius, radians)\n    rc = scriptcontext.doc.Objects.AddArc(arc)\n    if rc==System.Guid.Empty: raise Exception(\"Unable to add arc to document\")\n    scriptcontext.doc.Views.Redraw()\n    return rc\n\n\n\nHere is a simllar function in C#\n\n\npublic static Guid AddArc(Plane plane, double radius, double angle, bool angleAsDegrees = true)\n        {\n            RhinoDoc document = RhinoDoc.ActiveDoc;\n\n            if (angleAsDegrees)\n            {\n                // set angle to be in radians\n                angle = RhinoMath.ToRadians(angle);\n            }\n\n            Arc arc = new Arc(plane, radius, angle);\n\n            if (arc == null)\n            {\n                return System.Guid.Empty;\n            }\n\n            Guid guid = document.Objects.AddArc(arc);\n            document.Views.Redraw();\n            return guid;\n        }\n\n\n\nIt has no Error handling. How would you do that?\n\n\nThanks\n\nKarl",
  "code_blocks": [
    {
      "code": "def AddArc(plane, radius, angle_degrees):\n    \"\"\"Adds an arc curve to the document\n    Parameters:\n      plane = plane on which the arc will lie. The origin of the plane will be\n        the center point of the arc. x-axis of the plane defines the 0 angle\n        direction.\n      radius = radius of the arc\n      angle_degrees = interval of arc\n    Returns:\n      id of the new curve object\n    \"\"\"\n    plane = rhutil.coerceplane(plane, True)\n    radians = math.radians(angle_degrees)\n    arc = Rhino.Geometry.Arc(plane, radius, radians)\n    rc = scriptcontext.doc.Objects.AddArc(arc)\n    if rc==System.Guid.Empty: raise Exception(\"Unable to add arc to document\")\n    scriptcontext.doc.Views.Redraw()\n    return rc",
      "language": "python",
      "author": "KarlW",
      "post_number": 1,
      "is_solution": false
    },
    {
      "code": "public static Guid AddArc(Plane plane, double radius, double angle, bool angleAsDegrees = true)\n        {\n            RhinoDoc document = RhinoDoc.ActiveDoc;\n\n            if (angleAsDegrees)\n            {\n                // set angle to be in radians\n                angle = RhinoMath.ToRadians(angle);\n            }\n\n            Arc arc = new Arc(plane, radius, angle);\n\n            if (arc == null)\n            {\n                return System.Guid.Empty;\n            }\n\n            Guid guid = document.Objects.AddArc(arc);\n            document.Views.Redraw();\n            return guid;\n        }",
      "language": "csharp",
      "author": "KarlW",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "csharp",
    "geometry",
    "python",
    "rhinocommon"
  ],
  "has_accepted_answer": false,
  "category_id": 3,
  "posts_count": 3,
  "views": 2126
}