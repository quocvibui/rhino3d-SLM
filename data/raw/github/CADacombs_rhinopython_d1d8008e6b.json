{
  "source_url": "https://github.com/CADacombs/rhinopython/blob/541b4ade49f1dda6a3861d12b9e2613405182082/spb_Brep_Face_count.py",
  "repo": "CADacombs/rhinopython",
  "repo_stars": 37,
  "repo_description": "Python scripts for Rhinoceros (Rhino, Rhino3D).",
  "license": "LGPL-3.0",
  "filepath": "spb_Brep_Face_count.py",
  "instruction": "Spb brep face count",
  "code": "\"\"\"\r\n\"\"\"\r\n\r\n#! python 2  Must be on a line number less than 32.\r\nfrom __future__ import absolute_import, division, print_function, unicode_literals\r\n\r\n\"\"\"\r\n181628: Created.\r\n191025: Now accepts invalid breps.\r\n210319: Now also reports surface count.\r\n250130: Now, input of Nothing will select all normal breps.\r\n        Refactored.\r\n\"\"\"\r\n\r\nimport Rhino\r\nimport Rhino.DocObjects as rd\r\nimport Rhino.Geometry as rg\r\nimport scriptcontext as sc\r\n\r\n\r\ndef _getAllNormalBreps():\r\n    oes = rd.ObjectEnumeratorSettings()\r\n    oes.LockedObjects = False # Default is True.\r\n    oes.ObjectTypeFilter = rd.ObjectType.Brep\r\n    return list(sc.doc.Objects.GetObjectList(oes))\r\n\r\n\r\ndef main():\r\n\r\n    res, objrefs = Rhino.Input.RhinoGet.GetMultipleObjects(\r\n        \"Select breps <All normal>\",\r\n        acceptNothing=True,\r\n        filter=rd.ObjectType.Brep)\r\n\r\n    if res == Rhino.Commands.Result.Cancel: return\r\n\r\n    rdBs = [_.Object() for _ in objrefs] if objrefs else _getAllNormalBreps()\r\n\r\n    iCt_Fs_All = iCt_Ss_All = iCt_Bs = 0\r\n\r\n    iCt_Bs_Input = len(rdBs)\r\n    \r\n    bReportEveryBrep = False\r\n    if iCt_Bs_Input > 10:\r\n        s  = \"More than 10 breps are selected, so only total faces of all,\"\r\n        s += \" not individual brep counts, is reported.\"\r\n        print(s)\r\n    elif iCt_Bs_Input > 1 and iCt_Bs_Input <= 10:\r\n        bReportEveryBrep = True\r\n    \r\n    for rdB in rdBs:\r\n        rgB = rdB.BrepGeometry\r\n        \r\n        iCt_Fs = rgB.Faces.Count\r\n        iCt_Ss = rgB.Surfaces.Count\r\n        \r\n        if iCt_Fs is None:\r\n            s  = \"Faces were not obtained from {}.\".format(rdB.Id)\r\n            s += \"  Check validity of brep.\"\r\n            print(s)\r\n            continue\r\n        \r\n        iCt_Fs_All += iCt_Fs\r\n        iCt_Ss_All += iCt_Ss\r\n        iCt_Bs += 1\r\n        \r\n        if bReportEveryBrep:\r\n            s = \"{} faces in {}, \".format(\r\n                    iCt_Fs, rdB.Id)\r\n            if iCt_Ss != iCt_Fs:\r\n                s += \"but {} surfaces are in brep.\".format(iCt_Ss)\r\n            else:\r\n                s += \"and surface count is the same.\"\r\n\r\n            print(s)\r\n    \r\n    if iCt_Fs_All > 0:\r\n        s = \"{} faces in {}, \".format(\r\n            iCt_Fs_All,\r\n            (\"{} breps\".format(iCt_Bs) if bool(iCt_Bs-1) else \"brep\"))\r\n        if iCt_Ss_All != iCt_Fs_All:\r\n            s += \"but {} surfaces are in brep.\".format(iCt_Ss_All)\r\n        else:\r\n            s += \"and surface count is the same.\"\r\n\r\n        print(s)\r\n\r\n\r\nif __name__ == '__main__': main()",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "scriptcontext"
  ],
  "has_docstring": false
}