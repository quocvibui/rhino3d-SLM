{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_rhino/conduits/lines.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_rhino/conduits/lines.py",
  "instruction": null,
  "code": "from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport Rhino  # type: ignore\nimport System  # type: ignore\n\nfrom compas.data.validators import is_sequence_of_iterable\nfrom compas.itertools import iterable_like\n\nfrom .base import BaseConduit\n\n\nclass LinesConduit(BaseConduit):\n    \"\"\"A Rhino display conduit for lines.\n\n    Parameters\n    ----------\n    lines : list[[point, point] | :class:`compas.geometry.Line`]\n        A list of start-end point pairs that define the lines.\n    thickness : list[int], optional\n        The thickness of the individual lines.\n        Default is :attr:`LinesConduit.default_thickness` for all lines.\n    color : list[tuple[int, int, int]], optional\n        The colors of the faces.\n        Default is :attr:`LinesConduit.default_color` for all lines.\n\n    Attributes\n    ----------\n    color : list[System.Drawing.Color]\n        A color per line.\n    thickness : list[float]\n        A thickness per line.\n\n    Class Attributes\n    ----------------\n    default_thickness : float\n        The default thickness is ``1.0``.\n    default_color : System.Drawing.Color\n        the default color is ``FromArgb(255, 255, 255)``.\n\n    Examples\n    --------\n    .. code-block:: python\n\n        from random import randint\n\n        points = [(1.0 * randint(0, 30), 1.0 * randint(0, 30), 0.0) for _ in range(100)]\n        lines = [(points[i], points[i + 1]) for i in range(99)]\n        conduit = LinesConduit(lines)\n\n        with conduit.enabled():\n            for i in range(100):\n                points = [(1.0 * randint(0, 30), 1.0 * randint(0, 30), 0.0) for _ in range(100)]\n                conduit.lines = [(points[i], points[i + 1]) for i in range(99)]\n                conduit.redraw(pause=0.1)\n\n    \"\"\"\n\n    default_thickness = 1.0\n    default_color = System.Drawing.Color.FromArgb(255, 255, 255)\n\n    def __init__(self, lines, thickness=None, color=None, **kwargs):\n        super(LinesConduit, self).__init__(**kwargs)\n        self._thickness = None\n        self._color = None\n        self.lines = lines or []\n        self.thickness = thickness\n        self.color = color\n\n    @property\n    def thickness(self):\n        return self._thickness\n\n    @thickness.setter\n    def thickness(self, thickness):\n        thickness = thickness or self.default_thickness\n        try:\n            len(thickness)  # type: ignore\n        except TypeError:\n            thickness = [thickness]\n        thickness = iterable_like(self.lines, thickness, self.default_thickness)\n        self._thickness = list(thickness)\n\n    @property\n    def color(self):\n        return self._color\n\n    @color.setter\n    def color(self, color):\n        color = color or self.default_color\n        if not is_sequence_of_iterable(color):\n            color = [color]\n        self._color = [System.Drawing.Color.FromArgb(*c) for c in iterable_like(self.lines, color, self.default_color)]\n\n    def DrawForeground(self, e):\n        \"\"\"Draw the lines.\n\n        Parameters\n        ----------\n        e : Rhino.Display.DrawEventArgs\n\n        Returns\n        -------\n        None\n\n        \"\"\"\n        for (start, end), color, thickness in zip(self.lines, self.color, self.thickness):  # type: ignore\n            e.Display.DrawLine(\n                Rhino.Geometry.Point3d(*start),\n                Rhino.Geometry.Point3d(*end),\n                color,\n                thickness,\n            )\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}