{
  "source_url": "https://github.com/mcneel/compute.rhino3d/blob/677087c3683fb307c9d3a6e55651377c28c41e92/src/ghhops-server-py/examples/app_http.py",
  "repo": "mcneel/compute.rhino3d",
  "repo_stars": 378,
  "repo_description": "REST geometry server based on RhinoCommon and headless Rhino",
  "license": "NOASSERTION",
  "filepath": "src/ghhops-server-py/examples/app_http.py",
  "instruction": "Hops default HTTP server example",
  "code": "\"\"\"Hops default HTTP server example\"\"\"\nimport ghhops_server as hs\nimport rhino3dm\n\nhops = hs.Hops()\n\n\n@hops.component(\n    \"/binmult\",\n    inputs=[hs.HopsNumber(\"A\"), hs.HopsNumber(\"B\")],\n    outputs=[hs.HopsNumber(\"Multiply\")],\n)\ndef BinaryMultiply(a: float, b: float):\n    return a * b\n\n\n@hops.component(\n    \"/add\",\n    name=\"Add\",\n    nickname=\"Add\",\n    description=\"Add numbers with CPython\",\n    inputs=[\n        hs.HopsNumber(\"A\", \"A\", \"First number\"),\n        hs.HopsNumber(\"B\", \"B\", \"Second number\"),\n    ],\n    outputs=[hs.HopsNumber(\"Sum\", \"S\", \"A + B\")],\n)\ndef add(a, b):\n    return a + b\n\n\n@hops.component(\n    \"/pointat\",\n    name=\"PointAt\",\n    nickname=\"PtAt\",\n    description=\"Get point along curve\",\n    icon=\"examples/pointat.png\",\n    inputs=[\n        hs.HopsCurve(\"Curve\", \"C\", \"Curve to evaluate\"),\n        hs.HopsNumber(\"t\", \"t\", \"Parameter on Curve to evaluate\"),\n    ],\n    outputs=[hs.HopsPoint(\"P\", \"P\", \"Point on curve at t\")],\n)\ndef pointat(curve, t=0.0):\n    return curve.PointAt(t)\n\n\n# same as pointat, but with a list of numbers as input\n# and list of points returned\n@hops.component(\n    \"/pointsat\",\n    name=\"PointsAt\",\n    nickname=\"PtsAt\",\n    description=\"Get points along curve\",\n    icon=\"pointat.png\",\n    inputs=[\n        hs.HopsCurve(\"Curve\", \"C\", \"Curve to evaluate\"),\n        hs.HopsNumber(\n            \"t\", \"t\", \"Parameters on Curve to evaluate\", hs.HopsParamAccess.LIST\n        ),\n    ],\n    outputs=[hs.HopsPoint(\"P\", \"P\", \"Points on curve at t\")],\n)\ndef pointsat(curve, t):\n    points = [curve.PointAt(item) for item in t]\n    return points\n\n\n@hops.component(\n    \"/srf4pt\",\n    name=\"4Point Surface\",\n    nickname=\"Srf4Pt\",\n    description=\"Create ruled surface from four points\",\n    inputs=[\n        hs.HopsPoint(\"Corner A\", \"A\", \"First corner\"),\n        hs.HopsPoint(\"Corner B\", \"B\", \"Second corner\"),\n        hs.HopsPoint(\"Corner C\", \"C\", \"Third corner\"),\n        hs.HopsPoint(\"Corner D\", \"D\", \"Fourth corner\"),\n    ],\n    outputs=[hs.HopsSurface(\"Surface\", \"S\", \"Resulting surface\")],\n)\ndef ruled_surface(a, b, c, d):\n    edge1 = rhino3dm.LineCurve(a, b)\n    edge2 = rhino3dm.LineCurve(c, d)\n    return rhino3dm.NurbsSurface.CreateRuledSurface(edge1, edge2)\n\n\nif __name__ == \"__main__\":\n    hops.start(debug=True)\n",
  "language": "python",
  "imports": [
    "rhino3dm"
  ],
  "has_docstring": true
}