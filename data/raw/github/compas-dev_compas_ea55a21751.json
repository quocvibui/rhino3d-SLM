{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_rhino/conversions/docobjects.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_rhino/conversions/docobjects.py",
  "instruction": "Docobjects",
  "code": "from __future__ import absolute_import  # noqa: I001\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport Rhino.Geometry  # type: ignore  # noqa: F401\nimport System  # type: ignore\n\nimport compas_rhino.objects\n\nfrom .exceptions import ConversionError\n\nfrom .breps import brep_to_compas\nfrom .curves import curve_to_compas\nfrom .geometry import point_to_compas\nfrom .meshes import mesh_to_compas\n\n\ndef brepobject_to_compas(obj):\n    \"\"\"Convert a Rhino BrepObject to a COMPAS Brep.\n\n    Parameters\n    ----------\n    obj : Rhino.DocObjects.BrepObject | System.Guid\n\n    Returns\n    -------\n    :class:`compas.geometry.Brep`\n\n    Raises\n    ------\n    ConversionError\n\n    \"\"\"\n    if isinstance(obj, System.Guid):\n        obj = compas_rhino.objects.find_object(obj)\n\n    try:\n        geometry = Rhino.Geometry.Brep.TryConvertBrep(obj.Geometry)\n        brep = brep_to_compas(geometry)\n    except Exception:\n        raise ConversionError(\"Rhino Object of type {} cannot be converted to a COMPAS Brep.\".format(type(obj)))\n\n    return brep\n\n\ndef curveobject_to_compas(obj, try_nurbs=True):\n    \"\"\"Convert a Rhino CurveObject to a COMPAS Curve.\n\n    Parameters\n    ----------\n    obj : Rhino.DocObjects.CurveObject | System.Guid\n        The Rhino Object.\n    try_nurbs : bool, optional\n        Try to convert the curve to a NURBS curve.\n\n    Returns\n    -------\n    :class:`compas.geometry.Curve` | :class:`compas.geometry.NurbsCurve`\n        If `try_nurbs` is `True`, and the geometry of the object has a NURBS representation, return a NURBS curve.\n        Otherwise return a general curve.\n\n    Raises\n    ------\n    ConversionError\n\n    \"\"\"\n    if isinstance(obj, System.Guid):\n        obj = compas_rhino.objects.find_object(obj)\n\n    try:\n        geometry = obj.CurveGeometry\n        curve = curve_to_compas(geometry, try_nurbs=try_nurbs)\n    except Exception:\n        raise ConversionError(\"Rhino Object of type {} cannot be converted to a COMPAS Curve.\".format(type(obj)))\n\n    return curve\n\n\ndef meshobject_to_compas(obj):\n    \"\"\"Convert a Rhino MeshObject to a COMPAS Mesh.\n\n    Parameters\n    ----------\n    obj : Rhino.DocObjects.MeshObject | System.Guid\n\n    Returns\n    -------\n    :class:`compas.datastructures.Mesh`\n\n    Raises\n    ------\n    ConversionError\n\n    \"\"\"\n    if isinstance(obj, System.Guid):\n        obj = compas_rhino.objects.find_object(obj)\n\n    try:\n        geometry = obj.MeshGeometry\n        mesh = mesh_to_compas(geometry)\n    except Exception:\n        raise ConversionError(\"Rhino Object of type {} cannot be converted to a COMPAS Mesh.\".format(type(obj)))\n\n    return mesh\n\n\ndef pointobject_to_compas(obj):\n    \"\"\"Convert a Rhino PointObject to a COMPAS Point.\n\n    Parameters\n    ----------\n    obj : Rhino.DocObjects.PointObject | System.Guid\n\n    Returns\n    -------\n    :class:`compas.geometry.Point`\n\n    Raises\n    ------\n    ConversionError\n\n    \"\"\"\n    if isinstance(obj, System.Guid):\n        obj = compas_rhino.objects.find_object(obj)\n\n    try:\n        geometry = obj.PointGeometry\n        point = point_to_compas(geometry)\n    except Exception:\n        raise ConversionError(\"Rhino Object of type {} cannot be converted to a COMPAS Point.\".format(type(obj)))\n\n    return point\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}