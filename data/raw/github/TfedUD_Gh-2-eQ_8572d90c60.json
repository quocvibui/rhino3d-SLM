{
  "source_url": "https://github.com/TfedUD/Gh-2-eQ/blob/f8d0d681aca03b406fced8bb50abb70f2fd42b69/eQuestRhino/_Archives/eQRHGH/eQ_writer.py",
  "repo": "TfedUD/Gh-2-eQ",
  "repo_stars": 0,
  "repo_description": "initial eQuest model generation project to be developed with further interoperability",
  "license": "GPL-3.0",
  "filepath": "eQuestRhino/_Archives/eQRHGH/eQ_writer.py",
  "instruction": "E q writer",
  "code": "import rhinoscriptsyntax as rs\nfrom bldgFlr import eQ_Floor \nfrom System import Object\nfrom Grasshopper import DataTree\nfrom Grasshopper.Kernel.Data import GH_Path\n\n\n\n\n\nclass PolyStrs:\n    \"\"\" A class to take all the floor objects from the model\n        Parse out their data and properties ect into the:\n        $ Polygons block, and the $Floors / Spaces / Walls section of the *.inp\n        from srfcs to _getVrts: ignore: data flow testing.\n    \"\"\"\n    def __init__(self, _floorObjs):\n        self.floorObjs = _floorObjs\n    \n    @property\n    def spcNm(self):\n        return self._getName(self.floorObjs)\n    \n    @staticmethod\n    def _getName(objs):\n        x = objs.spc_name\n        return x\n        \n\n    @property\n    def srfcs(self):\n        return self._getsrfs(self.floorObjs)\n\n    @staticmethod\n    def _getsrfs(objs):\n        for obj in objs:\n            x = obj.spc_srf\n        return x\n\n    @property\n    def Vrts(self):\n        return self._getVrts(self.floorObjs)\n\n    @staticmethod\n    def _getVrts(objs):\n        for obj in objs:\n            x = obj.spc_vrts\n            #y = [t for t in (set(tuple(i) for i in x))]\n        \n        return x\n    \n    @property\n    def floorName(self):\n        return self._getFlrNm(self.floorObjs)\n\n    @staticmethod\n    def _getFlrNm(obj):\n        x = obj.floor_Name\n        return x\n\n    @property\n    def floorverts(self):\n        return self._getFlrVrts(self.floorObjs)\n\n    @staticmethod\n    def _getFlrVrts(obj):\n        x = obj.floor_Verts\n        return x\n\n    @property\n    def floorHeight(self):\n        return self._getH(self.floorObjs)\n\n    @staticmethod\n    def _getH(obj):\n        x = obj.floor_Height\n        return x\n\n    @property\n    def flrZ(self):\n        return self._getZ(self.floorObjs)\n    \n    @staticmethod\n    def _getZ(obj):\n        x = obj.floorZ\n        return x\n    \n    @property\n    def acdis(self):\n        return self._getAct(self.floorObjs)\n\n    @staticmethod\n    def _getAct(obj):\n        return obj.actD\n    \n\n# ------------------------------------------------------------\n#  ----------File String Generaters---------------------------\n####### Poly Strs ######\n    @property\n    def flrstr(self):\n        return self._flrstrfrm(self.floorObjs)\n\n    @staticmethod\n    def _flrstrfrm(obj):\n        st = []\n        x = obj.floor_Verts\n        for i, ind in enumerate(x):\n            indx = i+1\n            strv = '   V{}'.format(indx)+' '*14+'= '\n            st.append(prepend(ind,strv))\n        return st\n    \n    @property\n    def flrWrtStr(self):\n        return self._flrst(self.flrstr)+'\\n   ..'\n    \n    @staticmethod\n    def _flrst(flrstr):\n        c = []\n        for elem in flrstr:\n            for el in elem:\n                c.append(el)\n        bdx = '\\n'.join([i for i in c[0:]])\n        return str(bdx)\n\n    @property\n    def floorWriteStr(self):\n        return self._florBuilder(self.floorName, self.flrWrtStr)\n    \n    @staticmethod\n    def _florBuilder(nm, ob):\n        bdx = '\"{} Poly\" = POLYGON\\n'.format(nm)\n        strs = bdx+ob\n        return strs\n\n\n    @property\n    def polygonStr(self):\n        return self._polyStrFormer(self.floorObjs)\n\n    @staticmethod\n    def _polyStrFormer(objs):\n        st = []\n        x = objs.spc_vrts\n        for i, ind in enumerate(x):\n            indx = i+1\n            strv = '   V{}'.format(indx)+' '*14+'= '\n            st.append(prepend(ind,strv))\n        return st\n\n    @property\n    def writeStr(self):\n        return self._wrtsrt(self.polygonStr)+'\\n   ..'\n\n    @staticmethod\n    def _wrtsrt(plystr):\n        c = []\n        for elem in plystr:\n            for el in elem:\n                c.append(el)\n        bdx = '\\n'.join([i for i in c[0:]])\n        return str(bdx)\n\n    @property\n    def wrtstr(self):\n        return self._wrtstrfrmt(self.spcNm, self.floorName, self.writeStr)\n\n    @staticmethod\n    def _wrtstrfrmt(nm, lvl, ob):\n        nmFlt = filter(str.isdigit, lvl)\n        nmstr = \"\".join(nmFlt)\n        bdx = '\"{}_L-{} Plg\" = POLYGON\\n'.format(nm, nmstr)\n        strs = bdx+ob\n        return strs\n\n######## Floors spaces walls windows doors\n\n    @property\n    def flrFloor(self):\n        return self._flrflr(self.floorName, self.floorHeight, self.flrZ)\n\n    @staticmethod\n    def _flrflr(nm,h,fz):\n        bdx = '\"{}\" = FLOOR\\n'.format(nm)+'   Z'+' '*16+'= {}\\n'.format(fz)\\\n            +'   POLYGON'+' '*10+'= \"{} Poly\"\\n   '.format(nm)+'SHAPE'+' '*12\\\n                +'= POLYGON\\n   '+'FLOOR-HEIGHT'+' '*5+'= {}'.format(h)+'\\n   C-DIAGRAM-DATA   =*Level 1 UI DiagData*\\n'\\\n                    +'   ..'\n        return bdx\n\n    @property\n    def spcSpace(self):\n        return self._spcspc(self.spcNm, self.floorName, self.acdis)\n    \n    @staticmethod\n    def _spcspc(nm, lvl, ad):\n        nmFlt = filter(str.isdigit, lvl)\n        nmstr =\"\".join(nmFlt)\n        bdx = '\"{}_L-{}_SP\" = SPACE\\n   SHAPE'.format(nm,nmstr)+' '*11+'= POLYGON\\n'+'   POLYGON'+' '*9+'= \"{}_L-{} Plg\"\\n'.format(nm, nmstr)\\\n            +'   C-ACTIVITY-DESC = *{}*\\n  ..'.format(ad)# Fillers to add in additional.formats\n        return bdx\n\n\n    @property\n    def zoneStr(self):\n        return self._znStr(self.spcNm, self.floorName)\n    \n    @staticmethod\n    def _znStr(nm , lvl):\n        nmFlt = filter(str.isdigit, lvl)\n        nmstr = \"\".join(nmFlt)\n        nfl = filter(str.isdigit, lvl)\n        nms =\"\".join(nfl)\n        sp = '\"{}_L-{}_SP\"\\n   '.format(nm,nms)\n        bdx = '\"{}_L{}_ZN\" = ZONE\\n   '.format(nm, nmstr)+'TYPE'+' '*13+'= CONDITIONED\\n   '+'SPACE'+' '*12\\\n            +'= \"{}\"\\n   ..'.format(sp)\n        return bdx\n\n\n\n\n\ndef cullDoop(lst):\n    return [t for t in (set(tuple(i) for i in lst))]\n\n\n\n\n\n\ndef prepend(list, str):\n    str += '{0}'\n    list = [str.format(list)]\n    return(list)\n\n\n\n\n    ",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}