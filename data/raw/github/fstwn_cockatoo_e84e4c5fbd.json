{
  "source_url": "https://github.com/fstwn/cockatoo/blob/d952ac5d2148ec29fba52e8eb75f0f43770c74ca/usrobj_src/Cockatoo_InitializeKnitNetwork.py",
  "repo": "fstwn/cockatoo",
  "repo_stars": 38,
  "repo_description": "Cockatoo is a prototypical open-source software toolkit for generating (3d-)knitting patterns from NURBS surface and mesh geometry directly inside Grasshopper.",
  "license": "MIT",
  "filepath": "usrobj_src/Cockatoo_InitializeKnitNetwork.py",
  "instruction": "Initialize a KnitNetwork from a set of KnitContours (i.e. isocurves / isolines)\nand an optional reference geometry.\n---\n[NOTE] The ReferenceGeometry is a mesh or surface which is described by the...",
  "code": "\"\"\"\nInitialize a KnitNetwork from a set of KnitContours (i.e. isocurves / isolines)\nand an optional reference geometry.\n---\n[NOTE] The ReferenceGeometry is a mesh or surface which is described by the network.\nWhile it is optional, it is **HIGHLY** recommended to provide it, as downstream\nmethods like meshing or creating a dual might fail without it.\n    Inputs:\n        Toggle: Set to True to initialize the KnitNetwork.\n                {item, bool}\n        KnitContours: The contours of the knitting pattern.\n                      {list, curve/polyline}\n        CourseHeight: The course height of the knitting machine.\n                      {item, float}\n        ReferenceGeometry: The reference geometry this network is based on.\n                           {item, mesh/surface)\n    Output:\n        KnitNetwork: The initialized KnitNetwork.\n                     {item, KnitNetwork}\n    Remarks:\n        Author: Max Eschenbach\n        License: MIT License\n        Version: 200801\n\"\"\"\n\n# PYTHON STANDARD LIBRARY IMPORTS\nfrom __future__ import division\n\n# GPYTHON SDK IMPORTS\nfrom ghpythonlib.componentbase import executingcomponent as component\nimport Grasshopper, GhPython\nimport System\nimport Rhino\nimport rhinoscriptsyntax as rs\n\n# GHENV COMPONENT SETTINGS\nghenv.Component.Name = \"InitializeKnitNetwork\"\nghenv.Component.NickName =\"IKN\"\nghenv.Component.Category = \"Cockatoo\"\nghenv.Component.SubCategory = \"06 KnitNetwork\"\n\n# LOCAL MODULE IMPORTS\ntry:\n    import cockatoo\nexcept ImportError:\n    errMsg = \"The Cockatoo python module seems to be not correctly \" + \\\n             \"installed! Please make sure the module is in you search \" + \\\n             \"path, see README for instructions!.\"\n    raise ImportError(errMsg)\n\nclass InitializeKnitNetwork(component):\n    \n    def RunScript(self, Toggle, KnitContours, CourseHeight, ReferenceGeometry):\n        \n        if Toggle and KnitContours and CourseHeight:\n            \n            # sanitize reference geometry\n            if not (isinstance(ReferenceGeometry, Rhino.Geometry.Surface)\n            or isinstance(ReferenceGeometry, Rhino.Geometry.NurbsSurface)\n            or isinstance(ReferenceGeometry, Rhino.Geometry.Mesh) \n            or isinstance(ReferenceGeometry, Rhino.Geometry.Brep)):\n                errMsg = \"Input ReferenceGeometry is not a valid Mesh, \" + \\\n                         \"Surface or Brep! 'reference_geometry' attribute \" + \\\n                         \"will not be set!\"\n                rml = self.RuntimeMessageLevel.Warning\n                self.AddRuntimeMessage(rml, errMsg)\n                ReferenceGeometry = None\n            \n            # create KnitNetwork (inherits from nx.Graph)\n            KN = cockatoo.KnitNetwork.create_from_contours(KnitContours,\n                                                           CourseHeight,\n                                                           ReferenceGeometry)\n        elif Toggle and not KnitContours:\n            rml = self.RuntimeMessageLevel.Warning\n            rMsg = \"No KnitContours input!\"\n            self.AddRuntimeMessage(rml, rMsg)\n            return Grasshopper.DataTree[object]()\n        elif Toggle and not CourseHeight:\n            rml = self.RuntimeMessageLevel.Warning\n            rMsg = \"No CourseHeight input!\"\n            self.AddRuntimeMessage(rml, rMsg)\n            return Grasshopper.DataTree[object]()\n        else:\n            return Grasshopper.DataTree[object]()\n        \n        # return outputs if you have them; here I try it for you:\n        return KN\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry",
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}