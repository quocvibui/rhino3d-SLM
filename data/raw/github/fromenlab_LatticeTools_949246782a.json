{
  "source_url": "https://github.com/fromenlab/LatticeTools/blob/4ed52adaf55fdab72c4b6c9566f011a3bdc9f8d3/log/combine_json.py",
  "repo": "fromenlab/LatticeTools",
  "repo_stars": 1,
  "repo_description": "Components for generating lattice structures in Rhino®/Grasshopper®",
  "license": "NOASSERTION",
  "filepath": "log/combine_json.py",
  "instruction": "Combine json",
  "code": "from ghpythonlib.componentbase import dotnetcompiledcomponent as component\nimport Grasshopper, GhPython\nimport System\nimport Rhino\nimport json\nfrom collections import OrderedDict\nimport log_utils\n\nclass CombineJson(component):\n    def __new__(cls):\n        instance = Grasshopper.Kernel.GH_Component.__new__(cls,\n            \"Logging - Combine JSON\", \"combinejson\", \"\"\"Combines a list of JSON inputs into a single JSON object for output.\"\"\", \"LatticeTools\", \"Log\")\n        return instance\n    \n    def get_ComponentGuid(self):\n        return System.Guid(\"c0713250-616c-43a8-b863-d7eeda3534f4\")\n    \n    def SetUpParam(self, p, name, nickname, description):\n        p.Name = name\n        p.NickName = nickname\n        p.Description = description\n        p.Optional = True\n    \n    def RegisterInputParams(self, pManager):\n        p = Grasshopper.Kernel.Parameters.Param_String()\n        self.SetUpParam(p, \"input_json\", \"input_json\", \"JSON objects to combine\")\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.list\n        self.Params.Input.Add(p)\n        \n    \n    def RegisterOutputParams(self, pManager):\n        p = Grasshopper.Kernel.Parameters.Param_GenericObject()\n        self.SetUpParam(p, \"combined_json\", \"combined_json\", \"Combined inputs\")\n        self.Params.Output.Add(p)\n        \n    \n    def SolveInstance(self, DA):\n        p0 = self.marshal.GetInput(DA, 0)\n        result = self.RunScript(p0)\n\n        if result is not None:\n            self.marshal.SetOutput(result, DA, 0, True)\n        \n    def get_Internal_Icon_24x24(self):\n        o = \"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\"\n        return System.Drawing.Bitmap(System.IO.MemoryStream(System.Convert.FromBase64String(o)))\n\n    def RunScript(self, input_json):\n        merged = log_utils.combine_inputs(input_json)\n        combined_json = json.dumps(merged, sort_keys=False, indent=4, separators=(',', ': '))\n\n        return combined_json",
  "language": "python",
  "imports": [
    "Rhino",
    "ghpythonlib"
  ],
  "has_docstring": false
}