{
  "source_url": "https://github.com/fstwn/cockatoo/blob/d952ac5d2148ec29fba52e8eb75f0f43770c74ca/usrobj_src/Cockatoo_SetNodeColor.py",
  "repo": "fstwn/cockatoo",
  "repo_stars": 38,
  "repo_description": "Cockatoo is a prototypical open-source software toolkit for generating (3d-)knitting patterns from NURBS surface and mesh geometry directly inside Grasshopper.",
  "license": "MIT",
  "filepath": "usrobj_src/Cockatoo_SetNodeColor.py",
  "instruction": "Set a specific color to nodes selected by indices in the network.\n    Inputs:\n        KnitNetwork: The KnitNetwork to edit nodes from.\n                     {item, KnitNetworkBase}\n        NodeIndex:...",
  "code": "\"\"\"\nSet a specific color to nodes selected by indices in the network.\n    Inputs:\n        KnitNetwork: The KnitNetwork to edit nodes from.\n                     {item, KnitNetworkBase}\n        NodeIndex: Indices of the Nodes to assign color to.\n                   {list, int}\n        Color: New color for the specified nodes. This can also be None to reset\n               the color of the nodes.\n               {item, System.Drawing.Color}\n    Outputs:\n        KnitNetwork: The network with the new color information.\n                     {tree, KnitNetworkBase}\n    Remarks:\n        Author: Max Eschenbach\n        License: MIT License\n        Version: 200705\n\"\"\"\n\n# PYTHON STANDARD LIBRARY IMPORTS\nfrom __future__ import division\n\n# GHPYTHON SDK IMPORTS\nfrom ghpythonlib.componentbase import executingcomponent as component\nimport Grasshopper, GhPython\nimport System\nimport Rhino\nimport rhinoscriptsyntax as rs\n\n# GHENV COMPONENT SETTINGS\nghenv.Component.Name = \"SetNodeColor\"\nghenv.Component.NickName =\"SNC\"\nghenv.Component.Category = \"Cockatoo\"\nghenv.Component.SubCategory = \"07 KnitNetwork Editing\"\n\n# LOCAL MODULE IMPORTS\ntry:\n    import cockatoo\nexcept ImportError:\n    errMsg = \"The Cockatoo python module seems to be not correctly \" + \\\n             \"installed! Please make sure the module is in you search \" + \\\n             \"path, see README for instructions!.\"\n    raise ImportError(errMsg)\n\nclass SetNodeColor(component):\n    \n    def __init__(self):\n        super(SetNodeColor, self).__init__()\n        \n        self.drawing_nodes = []\n        self.skip_invalid = False\n    \n    def RunScript(self, KnitNetwork, NodeIndex, Color):\n        \n        # initialize output so it's never empty\n        KN = Grasshopper.DataTree[object]()\n        \n        # filter nodes according to input\n        if KnitNetwork and NodeIndex:\n            \n            # make copy of the input to avoid messing up the data struture\n            if isinstance(KnitNetwork, cockatoo.KnitNetwork):\n                KN = cockatoo.KnitNetwork(KnitNetwork)\n            elif isinstance(KnitNetwork, cockatoo.KnitMappingNetwork):\n                KN = cockatoo.KnitMappingNetwork(KnitNetwork)\n            elif isinstance(KnitNetwork, cockatoo.KnitDiNetwork):\n                KN = cockatoo.KnitDiNetwork(KnitNetwork)\n            \n            for i in NodeIndex:\n                if KN.has_node(i):\n                    if Color != None:\n                        KN.node[i][\"color\"] = (Color.R,\n                                               Color.G,\n                                               Color.B)\n                    else:\n                        KN.node[i][\"color\"] = None\n            \n            return KN\n        \n        # catch missing inputs\n        if not KnitNetwork:\n            errMsg = \"No KnitNetwork input!\"\n            rml = self.RuntimeMessageLevel.Warning\n            self.AddRuntimeMessage(rml, errMsg)\n        if not NodeIndex:\n            errMsg = \"No NodeIndex input!\"\n            rml = self.RuntimeMessageLevel.Warning\n            self.AddRuntimeMessage(rml, errMsg)\n",
  "language": "python",
  "imports": [
    "Rhino",
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}