{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_rhino/geometry/brep/loop.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_rhino/geometry/brep/loop.py",
  "instruction": null,
  "code": "from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport Rhino  # type: ignore\n\nfrom compas.geometry import BrepLoop\n\nfrom .edge import RhinoBrepEdge\nfrom .trim import RhinoBrepTrim\n\n\nclass LoopType(object):\n    \"\"\"Represents the type of a brep loop.\n\n    Attributes\n    ----------\n    UNKNOWN\n    OUTER\n    INNTER\n    SLIT\n    CURVE_ON_SURFACE\n    POINT_ON_SURFACE\n\n    \"\"\"\n\n    UNKNOWN = 0\n    OUTER = 1\n    INNTER = 2\n    SLIT = 3\n    CURVE_ON_SURFACE = 4\n    POINT_ON_SURFACE = 5\n\n\nclass RhinoBrepLoop(BrepLoop):\n    \"\"\"A wrapper for Rhino.Geometry.BrepLoop\n\n    Attributes\n    ----------\n    edges : list[:class:`compas_rhino.geometry.RhinoBrepEdge`], read-only\n        The list of edges which comprise this loop.\n    trims : list[:class:`compas_rhino.geometry.RhinoBrepTrim`], read-only\n        The list of trims which comprise this loop.\n    loop_type : :class:`compas_rhino.geometry.brep.loop.LoopType`, read-only\n        The type of this loop.\n    is_outer : bool, read-only\n        True if this loop is an outer boundary, False otherwise.\n    is_inner : bool, read-only\n        True if this loop is an inner hole, False otherwise.\n    native_loop : :class:`Rhino.Geometry.BrepLoop`\n        The underlying Rhino BrepLoop object.\n\n    \"\"\"\n\n    def __init__(self, rhino_loop=None):\n        super(RhinoBrepLoop, self).__init__()\n        self._loop = None\n        self._type = LoopType.UNKNOWN\n        self._trims = None\n        self._type = None\n        if rhino_loop:\n            self.native_loop = rhino_loop\n\n    # ==============================================================================\n    # Data\n    # ==============================================================================\n\n    @property\n    def __data__(self):\n        return {\"type\": str(self._loop.LoopType), \"trims\": [t.__data__ for t in self._trims]}\n\n    @classmethod\n    def __from_data__(cls, data, builder):\n        \"\"\"Construct an object of this type from the provided data.\n\n        Parameters\n        ----------\n        data : dict\n            The data dictionary.\n        builder : :class:`compas_rhino.geometry.BrepFaceBuilder`\n            The object reconstructing the current BrepFace.\n\n        Returns\n        -------\n        :class:`compas.data.Data`\n            An instance of this object type if the data contained in the dict has the correct schema.\n\n        \"\"\"\n        instance = cls()\n        instance._type = Rhino.Geometry.BrepLoopType.Outer if data[\"type\"] == \"Outer\" else Rhino.Geometry.BrepLoopType.Inner\n        loop_builder = builder.add_loop(instance._type)\n        for trim_data in data[\"trims\"]:\n            RhinoBrepTrim.__from_data__(trim_data, loop_builder)\n        instance.native_loop = loop_builder.result\n        return instance\n\n    # ==============================================================================\n    # Properties\n    # ==============================================================================\n\n    @property\n    def edges(self):\n        return [RhinoBrepEdge(trim.Edge) for trim in self._loop.Trims]\n\n    @property\n    def trims(self):\n        return self._trims\n\n    @property\n    def is_outer(self):\n        return self._type == LoopType.OUTER\n\n    @property\n    def is_inner(self):\n        return self._type == LoopType.INNTER\n\n    @property\n    def loop_type(self):\n        return Rhino.Geometry.BrepLoopType(self._type)\n\n    @property\n    def native_loop(self):\n        return self._loop\n\n    @native_loop.setter\n    def native_loop(self, rhino_loop):\n        self._loop = rhino_loop\n        self._type = int(self._loop.LoopType)\n        self._trims = [RhinoBrepTrim(trim) for trim in self._loop.Trims]\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}