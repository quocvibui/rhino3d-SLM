{
  "source_url": "https://github.com/dtbinh/T1_python-exercises/blob/f4710c3dc2ba8ddb3e3e9069ab8d65df674463ab/07_ur_online/shifted_frames_setup/compas/src/compas_rhino/conduits/splines.py",
  "repo": "dtbinh/T1_python-exercises",
  "repo_stars": 0,
  "repo_description": null,
  "license": "unknown",
  "filepath": "07_ur_online/shifted_frames_setup/compas/src/compas_rhino/conduits/splines.py",
  "instruction": "Splines",
  "code": "from __future__ import print_function\n\nfrom compas_rhino.conduits import Conduit\n\ntry:\n    from Rhino.Geometry import Point3d\n    from Rhino.Geometry import Line\n\n    from System.Collections.Generic import List\n    from System.Drawing.Color import FromArgb\n\nexcept ImportError:\n    import platform\n    if platform.python_implementation() == 'IronPython':\n        raise\n\n\n__author__     = ['Tom Van Mele <vanmelet@ethz.ch>', ]\n__copyright__  = 'Copyright 2014, BLOCK Research Group - ETH Zurich'\n__license__    = 'MIT License'\n__email__      = 'vanmelet@ethz.ch'\n\n\n__all__ = ['SplinesConduit', ]\n\n\nclass SplinesConduit(Conduit):\n    \"\"\"\"\"\"\n    def __init__(self, points, lines, splines,\n                 thickness=1,\n                 spline_thickness=5,\n                 color=None,\n                 spline_color=None,\n                 **kwargs):\n        super(SplinesConduit, self).__init__(**kwargs)\n        self.points = points\n        self.lines = lines\n        self.splines = splines\n        self.lines_count = len(lines)\n        self.thickness = thickness\n        self.spline_thickness = spline_thickness\n        color = color or (255, 0, 0)\n        spline_color = spline_color or (0, 0, 255)\n        self.color = FromArgb(*color)\n        self.spline_color = FromArgb(*spline_color)\n\n    def DrawForeground(self, e):\n        lines = List[Line](self.lines_count)\n        for i, j in self.lines:\n            sp = self.points[i]\n            ep = self.points[j]\n            lines.Add(Line(Point3d(*sp), Point3d(*ep)))\n        e.Display.DrawLines(lines, self.color, self.thickness)\n        for i, (u, v) in enumerate(self.splines):\n            sp = self.points[u]\n            ep = self.points[v]\n            th = self.spline_thickness[i]\n            e.Display.DrawLine(Line(Point3d(*sp), Point3d(*ep)), self.spline_color, th)\n\n\n# ==============================================================================\n# Debugging\n# ==============================================================================\n\nif __name__ == \"__main__\":\n\n    from random import randint\n    import time\n\n    points    = [(1.0 * randint(0, 30), 1.0 * randint(0, 30), 0.0) for _ in range(10)]\n    lines     = [(i, i + 1) for i in range(0, 4)]\n    splines   = [(i, i + 1) for i in range(5, 9)]\n    thickness = [2 * i for i in range(len(splines))]\n\n    try:\n        conduit = SplinesConduit(points, lines, splines, thickness=1, spline_thickness=thickness)\n        conduit.Enabled = True\n\n        for i in range(100):\n            conduit.points = [(1.0 * randint(0, 30), 1.0 * randint(0, 30), 0.0) for _ in range(10)]\n\n            conduit.redraw()\n\n            time.sleep(0.1)\n\n    except Exception as e:\n        print(e)\n\n    finally:\n        conduit.Enabled = False\n        del conduit\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}