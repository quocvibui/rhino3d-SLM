{
  "source_url": "https://github.com/dtbinh/T1_python-exercises/blob/f4710c3dc2ba8ddb3e3e9069ab8d65df674463ab/07_ur_online/shifted_frames_setup/compas/src/compas_rhino/conduits/inspectors/mesh.py",
  "repo": "dtbinh/T1_python-exercises",
  "repo_stars": 0,
  "repo_description": null,
  "license": "unknown",
  "filepath": "07_ur_online/shifted_frames_setup/compas/src/compas_rhino/conduits/inspectors/mesh.py",
  "instruction": null,
  "code": "from compas_rhino.conduits import Conduit\nfrom compas_rhino.ui.mouse import Mouse\n\nfrom compas.geometry import length_vector\nfrom compas.geometry import cross_vectors\nfrom compas.geometry import subtract_vectors\n\ntry:\n    from Rhino.Geometry import Point3d\n\n    from System.Drawing.Color import FromArgb\n\nexcept ImportError:\n    import platform\n    if platform.python_implementation() == 'IronPython':\n        raise\n\n\n__author__     = ['Tom Van Mele', ]\n__copyright__  = 'Copyright 2014, BLOCK Research Group - ETH Zurich'\n__license__    = 'MIT License'\n__email__      = 'vanmelet@ethz.ch'\n\n\n__all__ = ['MeshVertexInspector', ]\n\n\nclass MeshVertexInspector(Conduit):\n    \"\"\"\"\"\"\n    def __init__(self, mesh, tol=0.1, dotcolor=None, textcolor=None, **kwargs):\n        super(MeshVertexInspector, self).__init__(**kwargs)\n        self.mesh      = mesh\n        self.tol       = tol\n        dotcolor       = dotcolor or (255, 0, 0)\n        textcolor      = textcolor or (0, 0, 0)\n        self.dotcolor  = FromArgb(*dotcolor)\n        self.textcolor = FromArgb(*textcolor)\n        self.mouse     = Mouse()\n\n    def enable(self):\n        self.mouse.Enabled = True\n        self.Enabled = True\n\n    def disable(self):\n        self.mouse.Enabled = False\n        self.Enabled = False\n\n    def DrawForeground(self, e):\n        p1  = self.mouse.p1\n        p2  = self.mouse.p2\n        v12 = subtract_vectors(p2, p1)\n        l12 = length_vector(v12)\n        for index, (key, attr) in enumerate(self.mesh.vertices(True)):\n            p0   = attr['x'], attr['y'], attr['z']\n            text = str(index)\n            v01  = subtract_vectors(p1, p0)\n            v02  = subtract_vectors(p2, p0)\n            l    = length_vector(cross_vectors(v01, v02))\n            if l12 == 0.0 or (l / l12) < self.tol:\n                point = Point3d(*p0)\n                e.Display.DrawDot(point, text, self.dotcolor, self.textcolor)\n                break\n\n\n# ==============================================================================\n# Debugging\n# ==============================================================================\n\nif __name__ == \"__main__\":\n\n    pass\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}