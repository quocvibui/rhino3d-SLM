{
  "source_url": "https://github.com/Doerge/rhino-developer-samples/blob/beb34e5f5daf7f8da651d732aadf165bdf32a74d/compute/py/SampleGhBasic/lines.py",
  "repo": "Doerge/rhino-developer-samples",
  "repo_stars": 1,
  "repo_description": null,
  "license": "NOASSERTION",
  "filepath": "compute/py/SampleGhBasic/lines.py",
  "instruction": null,
  "code": "import compute_rhino3d.Util\nimport compute_rhino3d.Grasshopper as gh\nimport rhino3dm\nimport json\n\ncompute_rhino3d.Util.url = \"http://localhost:8081/\"\n#compute_rhino3d.Util.apiKey = \"\"\n\npt1 = rhino3dm.Point3d(0, 0, 0)\ncircle = rhino3dm.Circle(pt1, 5)\nangle = 20\n\n# convert circle to curve and stringify\ncurve = json.dumps(circle.ToNurbsCurve().Encode())\n\n# create list of input trees\ncurve_tree = gh.DataTree(\"RH_IN:curve\")\ncurve_tree.Append([0], [curve])\nrotate_tree = gh.DataTree(\"RH_IN:rotate\")\nrotate_tree.Append([0], [angle])\ntrees = [curve_tree, rotate_tree]\n\noutput = gh.EvaluateDefinition('twisty.gh', trees)\n# print(output)\n\n# decode results\nbranch = output['values'][0]['InnerTree']['{ 0; }']\nlines = [rhino3dm.CommonObject.Decode(json.loads(item['data'])) for item in branch]\n\nfilename = 'twisty.3dm'\n\nprint('Writing {} lines to {}'.format(len(lines), filename))\n\n# create a 3dm file with results\nmodel = rhino3dm.File3dm()\nfor l in lines:\n    model.Objects.AddCurve(l) # they're actually LineCurves...\n\nmodel.Write(filename)",
  "language": "python",
  "imports": [
    "rhino3dm"
  ],
  "has_docstring": false
}