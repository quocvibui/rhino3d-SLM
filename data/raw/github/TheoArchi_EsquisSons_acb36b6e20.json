{
  "source_url": "https://github.com/TheoArchi/EsquisSons/blob/00d1b02f7ce3e190b5c4c3429d3e84756c29bfdb/WIP_ESQUISSONS%20PYTHON%20FILES/Source_Options.py",
  "repo": "TheoArchi/EsquisSons",
  "repo_stars": 3,
  "repo_description": "Esquissons is a grasshopper plugin which help you to design with sound ;)",
  "license": "NOASSERTION",
  "filepath": "WIP_ESQUISSONS PYTHON FILES/Source_Options.py",
  "instruction": "EsquisSons Source Options allows you to more precisely define a source (shuffle, volume, mute etc.)\r\n-\r\nAAU / Theo Marchal / BETA VERSION / AVRIL2020\r\nWith the Contribution of Manon COUTIER &...",
  "code": "\"\"\"EsquisSons Source Options allows you to more precisely define a source (shuffle, volume, mute etc.)\r\n-\r\nAAU / Theo Marchal / BETA VERSION / AVRIL2020\r\nWith the Contribution of Manon COUTIER & Domitille GRANDJEAN\"\"\"\r\n\r\nfrom ghpythonlib.componentbase import executingcomponent as component\r\nimport Grasshopper, GhPython\r\nimport System\r\nimport Rhino\r\nimport rhinoscriptsyntax as rs\r\nimport math\r\n\r\n\r\nclass SourceOptions(component):\r\n\r\n    def RunScript(self, _source_on, _randomize_source, _manual_volume):\r\n\r\n        # block init\r\n        __author__ = \"theomarchal\"\r\n        self.Params.Input[0].Description = \"Mute the source if set to False (use boolean here)\"\r\n        self.Params.Input[\r\n            1].Description = \"Set chance of playing the source (1/x chance where x is the input)(Int input, if none the source is continuously looped)\"\r\n        self.Params.Input[\r\n            2].Description = \"Manual Volume from 1 to 70 (disengage the mainengine calculation for volume if connected - not active if volume is set to 0)\"\r\n        self.Params.Output[0].Description = \"Source options (connect to Source component)\"\r\n        self.Name = \"Source options\"\r\n        self.NickName = \"Source_Opt\"\r\n        self.Message = \"EsquisSons V3\"\r\n        self.Category = \"EsquisSons\"\r\n        self.SubCategory = \"2/ Option\"\r\n\r\n        # set _source_on values\r\n        if _source_on is None:\r\n            _source_on = True\r\n        if _source_on is False:\r\n            _manual_volume = 1\r\n\r\n        # set _manual_volume value :\r\n        # 1 means no sound, 0 means no _manual_volume set\r\n        if _manual_volume is None:\r\n            _manual_volume = 0\r\n        elif _manual_volume > 70:\r\n            _manual_volume = 70\r\n        elif _manual_volume < 1:\r\n            _manual_volume = 1\r\n        elif _manual_volume != 0:\r\n            _manual_volume = ((10 * math.log10(1 + _manual_volume)))\r\n            _manual_volume = 3.49 * _manual_volume\r\n\r\n        # set _randomize_source\r\n        if _randomize_source is None or _randomize_source == 1:\r\n            _randomize_source = 0\r\n\r\n        # create source options as a list of list\r\n        options = ['None', _source_on, _manual_volume, _randomize_source]\r\n        source_opt = [options]\r\n\r\n        return source_opt\r\n",
  "language": "python",
  "imports": [
    "Rhino",
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}