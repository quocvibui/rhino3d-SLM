{
  "source_url": "https://github.com/localsoftware/localsoftware_rhino-grasshopper/blob/4aafec57e33b9f09cce6fd73dcda12b17cf794a5/plugin_files/Set_View.py",
  "repo": "localsoftware/localsoftware_rhino-grasshopper",
  "repo_stars": 0,
  "repo_description": null,
  "license": "BSD-2-Clause",
  "filepath": "plugin_files/Set_View.py",
  "instruction": "Set view",
  "code": "ï»¿from ghpythonlib.componentbase import dotnetcompiledcomponent as component\nimport Grasshopper, GhPython, System, Rhino, os\nimport rhinoscriptsyntax as rs\nimport cPickle as pickle\nfrom scriptcontext import doc\nfrom Grasshopper.Kernel import GH_RuntimeMessageLevel as RML\n\nclass MyComponent(component):\n    def __new__(cls):\n        instance = Grasshopper.Kernel.GH_Component.__new__(cls,\n            \"SetView\", \"SetView\", \"\"\"Set the current Rhino viewport to a camera view.\nOnce you have a camera created, the Set View component easily adjusts the view to it.\nYou can use these views to batch render, export or create presentation drawings from GH geometries easily.\nBased on the work of Jackie Berry.\n    Typical usage:\nOnce you have created a view with the Create View component, simply plug the Geometry, View Vector,\nand View Target outputs into the geometry, vector, and target inputs of the component.\nOnce you have a view created, you can easily adjust the view with it. You can use these views to batch render.\nAdd a Boolean Toggle component to activate and deactivate the view change.\"\"\", \"Extra\", \"LocalCode\")\n        return instance\n    \n    def get_ComponentGuid(self):\n        return System.Guid(\"6350cbdf-02db-4780-bf4f-7b85ae0c13e7\")\n    \n    def SetUpParam(self, p, name, nickname, description):\n        p.Name = name\n        p.NickName = nickname\n        p.Description = description\n        p.Optional = True\n    \n    def RegisterInputParams(self, pManager):\n        p = GhPython.Assemblies.MarshalParam()\n        self.SetUpParam(p, \"setView\", \"setView\", \"boolean to set view\")\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\n        self.Params.Input.Add(p)\n        \n        p = Grasshopper.Kernel.Parameters.Param_Geometry()\n        self.SetUpParam(p, \"geometry\", \"geometry\", \"geometry in view\")\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.list\n        self.Params.Input.Add(p)\n        \n        p = Grasshopper.Kernel.Parameters.Param_Point()\n        self.SetUpParam(p, \"target\", \"target\", \"3D point defining camera target\")\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\n        self.Params.Input.Add(p)\n        \n        p = GhPython.Assemblies.MarshalParam()\n        self.SetUpParam(p, \"vector\", \"vector\", \"3D vector defining camera direction\")\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\n        self.Params.Input.Add(p)\n        \n    \n    def RegisterOutputParams(self, pManager):\n        pass    \n    def SolveInstance(self, DA):\n        p0 = self.marshal.GetInput(DA, 0)\n        p1 = self.marshal.GetInput(DA, 1)\n        p2 = self.marshal.GetInput(DA, 2)\n        p3 = self.marshal.GetInput(DA, 3)\n        result = self.RunScript(p0, p1, p2, p3)\n\n        \n    def get_Internal_Icon_24x24(self):\n        o = \"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAHYcAAB2HAY/l8WUAAAJUSURBVEhL7ZNfSJNRGMY3RzbDisaam6wahZkkazm9aO3Trcmiiy4kCOoiMaGgvwhFV9FNRAVdRReJdxX9oWIIgauoi1kEFdRFFxkFkhczRkUqWmZPzzkf38e+dXQys6sO/Nh2zvs+z3nf8872r9ZacnweiBC5dh89EEA63Yi+VGju9IVx4UwNqHtOl7fZdlztWQ8gSWIlEC/43YpXTxuEwSldngbdF+t4sAUY0WbHNyLEpshIs547wU+5H0fm/oYZDESQCEaL/l0l/iuG5/1NaI27sa62Eof2r8TYZ+aMi7xiBgwazUbxMtPEGypMvjfj08co3C6nEDHZ17FCis9sMEoBJNDZ7ofD4cDg24hukm9AgdSNeou4oGq5E5NfilVA7t0OmUnbkh59fyzPgO15kWk0Yww2BpdiakI8ssLgsjRIIDekocpjLf1Kt5gwmhitElX+jKHrcMCMcS1biMfpBv3RVQY9l4TBVrRt95pJBiJ5eDBK0bxWiYoo9uxRGHeuBTE0sIn5YqK4rzLovRlE7y25qWRnm4+JCf32hol8L3Fj0Vqe8fFllSqDY0fWwOe1tqaQ1PWgLma0So5rC8ZzGk6eWI3sew6EqFJlYLeX/SFYSLW3Al+HKfrDuGkMuawGbbNLnov/BCZFNQoDYhGbjs49fgqwHRT5wBGur1tiOe86uIpnSfQ/KNFA8ORhGANvIvD7KpTnd9nKd6/lGJdm4K9eBI97+vdaXLkA50/XwOksK81gdthRXj6vBpL/BkUxDXYRVcBcOUvkCpC9pOMvQj1b6DcWHnK9ANPuOgAAAABJRU5ErkJggg==\"\n        return System.Drawing.Bitmap(System.IO.MemoryStream(System.Convert.FromBase64String(o)))\n\n\n    def RunScript(self, setView, geometry, target, vector):\n        if geometry == None :\n            self.AddRuntimeMessage(RML.Warning,\"Add target geometry.\")\n        if setView == None :\n            self.AddRuntimeMessage(RML.Warning,\"Add a boolean to set the view.\")\n        if target == None :\n            self.AddRuntimeMessage(RML.Warning,\"Add a target as a 3D point.\")\n        if vector == None :\n            self.AddRuntimeMessage(RML.Warning,\"Add a vector.\")\n        if setView:\n            vp = doc.Views.ActiveView.ActiveViewport\n            vp.SetCameraDirection(vector, True)\n            vp.SetCameraTarget(target, True)\n            bb = rs.BoundingBox(geometry)\n            rs.ZoomBoundingBox(bb)\n            doc.Views.ActiveView.Redraw()\n        return\n\n\nimport GhPython\nimport System\n\nclass AssemblyInfo(GhPython.Assemblies.PythonAssemblyInfo):\n    def get_AssemblyName(self):\n        return \"SetView\"\n    \n    def get_AssemblyDescription(self):\n        return \"\"\"\"\"\"\n\n    def get_AssemblyVersion(self):\n        return \"0.1\"\n\n    def get_AuthorName(self):\n        return \"\"\n    \n    def get_Id(self):\n        return System.Guid(\"bcbd4b9f-f803-47dc-823c-cfe5961bf8d1\")",
  "language": "python",
  "imports": [
    "ghpythonlib",
    "rhinoscriptsyntax",
    "scriptcontext"
  ],
  "has_docstring": false
}