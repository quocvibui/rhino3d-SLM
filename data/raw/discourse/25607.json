{
  "source_url": "https://discourse.mcneel.com/t/customcurveobject-serialization/25607",
  "topic_id": 25607,
  "title": "CustomCurveObject serialization?",
  "question": "I’m having a small problem with copying/pasting/saving/loading my customcurveobject. What should I do to make it happen  ? Currently when I copy this object with command line, it works fine. Problems start whenever I try to use clipboard or when I save the file… after loading (or actually on saving), my geometry turns into LineCurve. Does this class even supports serialization ? If not, what would be a solution ?\n\n\nImports Rhino\nImports Rhino.Geometry\nImports System.Drawing\n\nPublic Class CustomObj\n    Inherits Rhino.DocObjects.Custom.CustomCurveObject\n    \n    Public Overrides Function ToString() As String\n        Return \"Custom Line\"\n    End Function\n\n    Sub New()\n        MyBase.New(New LineCurve(New Point3d(0, 0, 0), New Point3d(1, 1, 1)))\n    End Sub\n\n    Protected Overrides Sub OnDraw(e As Display.DrawEventArgs)\n        e.Display.DrawCurve(Me.CurveGeometry, Color.Aqua)\n    End Sub\n\n    Public Overrides Function ShortDescription(plural As Boolean) As String\n        Return \"Custom Line\"\n    End Function\n\nEnd Class",
  "code_blocks": [
    {
      "code": "Imports Rhino\nImports Rhino.Geometry\nImports System.Drawing\n\nPublic Class CustomObj\n    Inherits Rhino.DocObjects.Custom.CustomCurveObject\n    \n    Public Overrides Function ToString() As String\n        Return \"Custom Line\"\n    End Function\n\n    Sub New()\n        MyBase.New(New LineCurve(New Point3d(0, 0, 0), New Point3d(1, 1, 1)))\n    End Sub\n\n    Protected Overrides Sub OnDraw(e As Display.DrawEventArgs)\n        e.Display.DrawCurve(Me.CurveGeometry, Color.Aqua)\n    End Sub\n\n    Public Overrides Function ShortDescription(plural As Boolean) As String\n        Return \"Custom Line\"\n    End Function\n\nEnd Class",
      "language": "csharp",
      "author": "MateuszZwierzycki",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "boolean",
    "file-io",
    "geometry",
    "rhinocommon"
  ],
  "has_accepted_answer": false,
  "category_id": 3,
  "posts_count": 6,
  "views": 1468
}