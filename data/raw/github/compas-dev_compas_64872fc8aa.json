{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_rhino/conduits/points.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_rhino/conduits/points.py",
  "instruction": "Points",
  "code": "from __future__ import absolute_import\nfrom __future__ import division\nfrom __future__ import print_function\n\nimport Rhino  # type: ignore\nimport System  # type: ignore\n\nfrom compas.data.validators import is_sequence_of_iterable\nfrom compas.itertools import iterable_like\n\nfrom .base import BaseConduit\n\n\nclass PointsConduit(BaseConduit):\n    \"\"\"A Rhino display conduit for points.\n\n    Parameters\n    ----------\n    points : list[[float, float, float] | :class:`compas.geometry.Point`]\n        The coordinates of the points.\n    size : list[int], optional\n        The size of the points.\n        Default is :attr:`PointsConduit.default_size` for all points.\n    color : list[tuple[int, int, int]]\n        The individual colors of the points.\n        Default is :attr:`PointsConduit.default_color` for all points.\n\n    Attributes\n    ----------\n    size : list[float]\n        The size specification per point.\n    color : list[System.Drawing.Color]\n        The color per point.\n\n    Class Attributes\n    ----------------\n    default_size : float\n        The default size is ``3``.\n    default_color : System.Drawing.Color\n        The default color is ``FromArgb(255, 0, 0)``.\n\n    Examples\n    --------\n    .. code-block:: python\n\n        from random import randint\n        from compas_rhino.conduits import PointsConduit\n\n        points = [(1.0 * randint(0, 30), 1.0 * randint(0, 30), 0.0) for _ in range(100)]\n        conduit = PointsConduit(points)\n\n        with conduit.enabled():\n            for i in range(100):\n                conduit.points = [(1.0 * randint(0, 30), 1.0 * randint(0, 30), 0.0) for _ in range(100)]\n                conduit.redraw(pause=0.1)\n\n    \"\"\"\n\n    default_size = 3\n    default_color = System.Drawing.Color.FromArgb(255, 0, 0)\n\n    def __init__(self, points, size=None, color=None, **kwargs):\n        super(PointsConduit, self).__init__(**kwargs)\n        self._size = None\n        self._color = None\n        self.points = points or []\n        self.size = size\n        self.color = color\n\n    @property\n    def size(self):\n        return self._size\n\n    @size.setter\n    def size(self, size):\n        size = size or self.default_size\n        try:\n            len(size)  # type: ignore\n        except TypeError:\n            size = [size]\n        size = iterable_like(self.points, size, self.default_size)\n        self._size = list(size)\n\n    @property\n    def color(self):\n        return self._color\n\n    @color.setter\n    def color(self, color):\n        color = color or self.default_color\n        if not is_sequence_of_iterable(color):\n            color = [color]\n        color = [System.Drawing.Color.FromArgb(*c) for c in iterable_like(self.points, color, self.default_color)]\n        self._color = color\n\n    def DrawForeground(self, e):\n        \"\"\"Draw the points.\n\n        Parameters\n        ----------\n        e : Rhino.Display.DrawEventArgs\n\n        Returns\n        -------\n        None\n\n        \"\"\"\n        for xyz, size, color in zip(self.points, self.size, self.color):  # type: ignore\n            e.Display.DrawPoint(Rhino.Geometry.Point3d(*xyz), Rhino.Display.PointStyle.Simple, size, color)\n",
  "language": "python",
  "imports": [
    "Rhino",
    "Rhino.Geometry"
  ],
  "has_docstring": false
}