{
  "source_url": "https://github.com/baharmon/generative-design/blob/20c8805c93d7e74cb3ca8f24deb6f1c89dce16cb/python/hello-numpy.py",
  "repo": "baharmon/generative-design",
  "repo_stars": 8,
  "repo_description": "Scripts for generative art and design",
  "license": "GPL-2.0",
  "filepath": "python/hello-numpy.py",
  "instruction": "Hops Server for Numpy",
  "code": "\"\"\"Hops Server for Numpy\"\"\"\r\nimport ghhops_server as hs\r\nimport numpy as np\r\nimport rhino3dm\r\n\r\nhops = hs.Hops()\r\n\r\n# random generator\r\n@hops.component(\r\n    \"/random_integer\",\r\n    name=\"RandomInteger\",\r\n    nickname=\"RandomInteger\",\r\n    description=\"Print a random integer with Numpy\",\r\n    inputs=[hs.HopsInteger(\"Range\", \"Range\", \"Input Range\")],\r\n    outputs=[hs.HopsInteger(\"Integer\", \"Integer\", \"Output Integer\")]\r\n)\r\ndef random_integer(a):\r\n    x = np.random.randint(a)\r\n    return x\r\n\r\n# 1D array\r\n@hops.component(\r\n    \"/random_array\",\r\n    name=\"Array\",\r\n    nickname=\"Array\",\r\n    description=\"Generate a random array with Numpy\",\r\n    inputs=[hs.HopsInteger(\"Range\", \"Range\", \"Input Range\")],\r\n    outputs=[hs.HopsInteger(\"Output\", \"Output\", \"Output\")]\r\n)\r\ndef random_array(z):\r\n    x = np.random.randint(z, size=(10))\r\n    return x.tolist()\r\n\r\n# 2D array\r\n@hops.component(\r\n    \"/random_array_2D\",\r\n    name=\"Array\",\r\n    nickname=\"Array\",\r\n    description=\"Generate a random 2D array with Numpy\",\r\n    inputs=[hs.HopsInteger(\"Range\", \"Range\", \"Input Range\")],\r\n    outputs=[hs.HopsInteger(\"Output\", \"Output\", \"Output\")]\r\n)\r\ndef random_array_2D(i):\r\n    u = np.random.randint(i, size=(4, 4))\r\n    v = np.ravel(u).tolist()\r\n    return v\r\n# add size x and y inputs\r\n# try numbers instead of integers\r\n# add random seed\r\n\r\n\r\n# points from 2D array\r\n@hops.component(\r\n    \"/random_points\",\r\n    name=\"randomPoints\",\r\n    nickname=\"randomPoints\",\r\n    description=\"Generate a random 2D array with Numpy\",\r\n    inputs=[\r\n        hs.HopsInteger(\"Range\", \"Range\", \"Input Range\"),\r\n        hs.HopsInteger(\"X\", \"X\", \"X Size\"),\r\n        hs.HopsInteger(\"Y\", \"Y\", \"Y Size\")\r\n    ],\r\n    outputs=[hs.HopsPoint(\"Points\", \"Points\", \"Output Points\")]\r\n)\r\ndef random_points(i, u , v):\r\n    # xyz values from 2D array\r\n    w = np.random.randint(i, size=(u, v))\r\n    a, b = np.mgrid[:u, :v]\r\n    xyz = np.column_stack((a.ravel(),b.ravel(), w.ravel()))\r\n    x, y, z = np.split(xyz, 3, 1)\r\n    x = (x.ravel().tolist())\r\n    y = (y.ravel().tolist())\r\n    z = (z.ravel().tolist())\r\n    points = rhino3dm.Point3d(x, y, z)\r\n    return points\r\n\r\n# x, y, z values should be floats\r\n\r\n# 1. Exception occured in handler:\r\n# __init__(): incompatible constructor arguments. The following argument types are supported:\r\n#     1. rhino3dm._rhino3dm.Point3d(x: float, y: float, z: float)\r\n#\r\n# Invoked with: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 5, 5, 5, 5, 5, 5, 5, 5, 5, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 6, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9], [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 0, 1, 2, 3, 4, 5, 6, 7, 8, 9], [89, 73, 21, 27, 36, 47, 98, 43, 26, 37, 76, 73, 68, 29, 76, 4, 87, 37, 74, 45, 45, 72, 55, 93, 94, 34, 16, 80, 60, 90, 73, 28, 5, 62, 40, 72, 18, 86, 75, 29, 82, 34, 17, 4, 89, 82, 63, 52, 0, 6, 93, 82, 66, 20, 4, 42, 82, 46, 54, 86, 1, 70, 73, 84, 46, 81, 26, 21, 44, 12, 3, 43, 9, 6, 54, 78, 66, 18, 56, 93, 40, 66, 83, 79, 41, 7, 71, 14, 46, 84, 21, 5, 23, 33, 70, 65, 0, 26, 33, 77]\r\n#   File \"D:\\generative-design\\python\\hello-numpy.py\", line 74, in random_points\r\n#     points = rhino3dm.Point3d(x, y, z)\r\n\r\n\r\n\r\n\r\n# points from 2D array\r\n\r\n# points from 3D array\r\n\r\n# mesh from 3D array\r\n\r\n# surface from 3D array\r\n\r\n# n.b.: path, name, and definition should match\r\n\r\nif __name__ == \"__main__\":\r\n    hops.start(debug=True)\r\n",
  "language": "python",
  "imports": [
    "rhino3dm"
  ],
  "has_docstring": true
}