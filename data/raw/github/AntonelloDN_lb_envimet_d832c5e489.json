{
  "source_url": "https://github.com/AntonelloDN/lb_envimet/blob/f49c125fcf2cc2dd9deaab3ae220523a805a0247/Newlb_envimet/scr/lb_envimet%20Building.py",
  "repo": "AntonelloDN/lb_envimet",
  "repo_stars": 4,
  "repo_description": "ï»¿lb_envimet: a series of components to connect Ladybug and Gismo to Envimet for urban microclimatic analysis",
  "license": "GPL-3.0",
  "filepath": "Newlb_envimet/scr/lb_envimet Building.py",
  "instruction": "Use this component to generate inputs for \"lb_envimet Spaces\".\n-\nSome components depend on Ladybug Legacy, please install Ladybug Legacy.\n-\nProvided by lb_envimet\n    \n    Args:\n        _geometry:...",
  "code": "# lb_envimet: A series of component for ENVI_MET\n# \n# It depends on Ladybug Legacy.\n# \n# Copyright (c) 2013-2019, Antonello Di Nunzio <antonellodinunzio@gmail.com> \n# lb_envimet is free software; you can redistribute it and/or modify \n# it under the terms of the GNU General Public License as published \n# by the Free Software Foundation; either version 3 of the License, \n# or (at your option) any later version. \n# \n# lb_envimet is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of \n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \n# GNU General Public License for more details.\n# \n# You should have received a copy of the GNU General Public License\n# along with lb_envimet; If not, see <http://www.gnu.org/licenses/>.\n# \n# @license GPL-3.0+ <http://spdx.org/licenses/GPL-3.0+>\n\n\n\"\"\"\nUse this component to generate inputs for \"lb_envimet Spaces\".\n-\nSome components depend on Ladybug Legacy, please install Ladybug Legacy.\n-\nProvided by lb_envimet\n    \n    Args:\n        _geometry: Geometry that represent ENVI-Met buildings.\n        -\n        Geometry must be closed Brep or closed Mesh. Merge more than one geometry to create a unique Mesh (Eg. Context).\n        _wallMaterial_: Use this input to change wall material.\n        _roofMaterial_: Use this input to change roof material.\n        greenWallMaterial_: Default wall property. Use this input to set default building material.\n        -\n        If no input is connected this input will be concrete slab '000000'.\n        greenRoofMaterial_: Default roof property. Use this input to set default building material.\n        -\n        If no input is connected this input will be concrete slab '000000'.\n    Returns:\n        readMe!: ...\n        envimetBuilding: Connect this output to \"ENVI-Met Spaces\" in order to add buildings to ENVI-Met model.\n\"\"\"\n\nghenv.Component.Name = \"lb_envimet Building\"\nghenv.Component.NickName = 'lb_envimetBuilding'\nghenv.Component.Message = 'VER 0.0.02\\nMAR_30_2019'\nghenv.Component.IconDisplayMode = ghenv.Component.IconDisplayMode.application\nghenv.Component.Category = \"lb_envimet\"\nghenv.Component.SubCategory = \"1 | Geometry\"\n\nimport os\nimport sys\nimport scriptcontext as sc\nimport Grasshopper.Kernel as gh\nimport Rhino as rc\n##################LB ENVI_MET###################\nuserPath = os.getenv(\"APPDATA\")\npath = os.path.join(userPath, \"lb_envimet\")\nsys.path.append(path)\nfrom Geometry import Grid, Building\n################################################\n\n\ndef checkGeometry(geo):\n    if type(geo) != type(rc.Geometry.Mesh()) or not geo.IsClosed:\n        w = gh.GH_RuntimeMessageLevel.Warning\n        message = \"Please provide valid closed breps.\"\n        ghenv.Component.AddRuntimeMessage(w, message)\n        return -1\n    return True\n\n\ndef main():\n    if _geometry and checkGeometry(_geometry):\n        # default materials\n        if _wallMaterial_: wallMaterial = _wallMaterial_\n        else: wallMaterial = \"000000\"\n        if _roofMaterial_: roofMaterial = _roofMaterial_\n        else: roofMaterial = \"000000\"\n        \n        bulding = Building(_geometry, wallMaterial, roofMaterial)\n        \n        if greenWallMaterial_: bulding.greenWallMaterial = greenWallMaterial_\n        if greenRoofMaterial_: bulding.greenRoofMaterial = greenRoofMaterial_\n        \n        return bulding\n    \n    else:\n        w = gh.GH_RuntimeMessageLevel.Warning\n        message = \"Please provide _buildings.\"\n        ghenv.Component.AddRuntimeMessage(w, message)\n        return -1\n\n\nresult = main()\nif result != -1:\n    envimetBuilding = result",
  "language": "python",
  "imports": [
    "Rhino",
    "scriptcontext"
  ],
  "has_docstring": true
}