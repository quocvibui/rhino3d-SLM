{
  "source_url": "https://discourse.mcneel.com/t/adding-button-with-ghpython/111359",
  "topic_id": 111359,
  "title": "Adding Button with GhPython?",
  "question": "Hello\n\nIs it possible to add a button with command like undo using Ghpython?\n\n\n\n\nimage\n1184Ã—473 11.2 KB",
  "code_blocks": [
    {
      "code": "import Grasshopper\n\ntoolbar = Grasshopper.Instances.DocumentEditor.Controls[0].Controls[1]\ntoolbar.Items.Add(\"Hey I just got inside the toolbar\")",
      "language": "python",
      "author": "pierrec",
      "post_number": 2,
      "is_solution": false
    },
    {
      "code": "private void RunScript(bool run)\n{\n  if (!run) return;\n  var toolbar = Grasshopper.Instances.DocumentEditor.Controls[0].Controls[1] as ToolStrip;\n  toolbar.Items.Add(\"Undo\", null, OnClick);\n}\n// <Custom additional code> \nprivate void OnClick(object sender, EventArgs e)\n{\n  Grasshopper.Instances.ActiveCanvas.Document.Undo();\n}\n// </Custom additional code>",
      "language": "csharp",
      "author": "Mahdiyar",
      "post_number": 6,
      "is_solution": false
    },
    {
      "code": "import Grasshopper\ndef OnClick(sender, e):\n    Grasshopper.Instances.ActiveCanvas.Document.Undo()\nif run:\n    toolbar = Grasshopper.Instances.DocumentEditor.Controls[0].Controls[1]\n    toolbar.Items.Add(\"Undo\", None, OnClick)",
      "language": "python",
      "author": "Mahdiyar",
      "post_number": 6,
      "is_solution": false
    }
  ],
  "tags": [
    "file-io",
    "grasshopper",
    "python"
  ],
  "has_accepted_answer": false,
  "category_id": 8,
  "posts_count": 9,
  "views": 1345
}