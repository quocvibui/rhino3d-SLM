{
  "source_url": "https://github.com/cmuphyscomp/hmv-s16/blob/7863c66ed645b463b72aef98a5c484a18cc9f396/Grasshopper/RhinoDocDemo/SelectedGeometry.py",
  "repo": "cmuphyscomp/hmv-s16",
  "repo_stars": 5,
  "repo_description": "Course resources for the Human-Machine Virtuosity course at Carnegie Mellon University, Spring 2016.",
  "license": "BSD-3-Clause",
  "filepath": "Grasshopper/RhinoDocDemo/SelectedGeometry.py",
  "instruction": "Selected geometry",
  "code": "ï»¿# SelectedGeometry.py - contents of the SelectedGeometry ghpython script\r\n\r\n# inputs\r\n#   layer  - string naming the layer to address within the current Rhino document\r\n#  update  - any input will force recomputing the output (dummy value)\r\n\r\n# outputs\r\n#   out    - console debugging output\r\n#   geom   - list of geometry primitives currently selected in the layer\r\n#   guid   - list of GUID strings for the geometry primitives\r\n#\r\n# Note: the GUIDs are for objects located in the RhinoDoc database, *not* the\r\n# Grasshopper document database, so they are only useful for requesting updates\r\n# to the current Rhino document.\r\n\r\nimport Rhino\r\nimport System.Guid\r\nimport pythonlibpath; pythonlibpath.add_library_path()\r\nimport ghutil.ghrhinodoc as ghrhinodoc\r\n\r\n# Fetch the layer index, creating the layer if not present.\r\nlayer_name = str(layer)\r\nlayer_index = ghrhinodoc.fetch_or_create_layer_index(layer_name)\r\n\r\n# Fetch all objects on the layer, choose the selected ones,  and report out individual properties.\r\n# See the definition of RhinoObject.IsSelected; if the argument is true then it also reports on sub-objects.\r\nall_objects = ghrhinodoc.all_doc_objects(layer_name)\r\nselected_objects = [obj for obj in all_objects if obj.IsSelected(False) > 0] \r\n\r\nprint \"Found %d objects in layer, %d are selected.\" % (len(all_objects), len(selected_objects))\r\n\r\ngeom = [obj.Geometry for obj in selected_objects]\r\nguid = [str(obj.Id) for obj in selected_objects]\r\n",
  "language": "python",
  "imports": [
    "Rhino"
  ],
  "has_docstring": false
}