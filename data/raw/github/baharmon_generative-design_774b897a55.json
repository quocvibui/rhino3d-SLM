{
  "source_url": "https://github.com/baharmon/generative-design/blob/20c8805c93d7e74cb3ca8f24deb6f1c89dce16cb/rhino-scripting/npy-to-color-cloud.py",
  "repo": "baharmon/generative-design",
  "repo_stars": 8,
  "repo_description": "Scripts for generative art and design",
  "license": "GPL-2.0",
  "filepath": "rhino-scripting/npy-to-color-cloud.py",
  "instruction": "requirements: numpy, matplotlib",
  "code": "# requirements: numpy, matplotlib\r\nimport numpy as np\r\nimport matplotlib as mpl\r\nimport rhinoscriptsyntax as rs\r\n\r\n# set color map\r\ncolormap = 'cubehelix'\r\n\r\n# set path\r\ndataset = r'D:\\generative-design\\python\\dev\\data\\elevation.npy'\r\n\r\n# load array\r\nxyz = np.load(dataset)\r\n\r\n# generate color gradient\r\nz = xyz[:, 2]\r\ngradient = mpl.colormaps[colormap].resampled(z.size)\r\nrgba = (gradient(range(z.size)) * 255).astype('uint8')\r\nrgb = rgba[:,:-1].tolist()\r\n\r\n# sort points by elevation\r\nxyz = xyz[xyz[:, 2].argsort()]\r\n\r\n# generate colored point cloud\r\nrs.AddPointCloud(xyz, rgb)\r\n",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": true
}