{
  "source_url": "https://github.com/compas-dev/compas/blob/HEAD/src/compas_ghpython/components/Compas_RpcCall/code.py",
  "repo": "compas-dev/compas",
  "repo_stars": 352,
  "repo_description": "Main library of the COMPAS framework and CAD integrations for Rhino/GH and Blender.",
  "license": "MIT",
  "filepath": "src/compas_ghpython/components/Compas_RpcCall/code.py",
  "instruction": "Remote Procedure Call: to invoke Python functions outside of Rhino, in the context of the CPython interpreter.",
  "code": "\"\"\"\nRemote Procedure Call: to invoke Python functions outside of Rhino, in the context of the CPython interpreter.\n\"\"\"\n\nfrom ghpythonlib.componentbase import executingcomponent as component\n\nfrom compas.rpc import Proxy\n\n\nclass CompasRpcCall(component):\n    def RunScript(self, module, function, parameters, path, restart):\n        if not (module and function):\n            return\n\n        if restart:\n            proxy = Proxy(max_conn_attempts=1)\n            proxy.stop_server()\n\n        proxy = Proxy(module, path=path)\n        fn = getattr(proxy, function)\n        parameters = parameters or []\n\n        try:\n            result = fn(*parameters)\n        except Exception:\n            self.Message = \"Error! Check details in stacktrace\"\n            raise\n\n        self.Message = \"\"\n\n        return result\n",
  "language": "python",
  "imports": [
    "ghpythonlib"
  ],
  "has_docstring": true
}