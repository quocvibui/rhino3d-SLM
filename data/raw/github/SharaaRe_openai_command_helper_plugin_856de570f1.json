{
  "source_url": "https://github.com/SharaaRe/openai_command_helper_plugin/blob/b496de916e58296513bb09eab688fdd8b3500f93/Thesis/Project/call_openai_loop_python.py",
  "repo": "SharaaRe/openai_command_helper_plugin",
  "repo_stars": 0,
  "repo_description": null,
  "license": "unknown",
  "filepath": "Thesis/Project/call_openai_loop_python.py",
  "instruction": "Call openai loop python",
  "code": "\nimport os\nimport openai\nfrom dotenv import load_dotenv\nimport time\nimport sys\n\n# Specify the path to your .env file\nenv_file_path = '.env'  # Update this with the correct path\n\n# Load the environment variables from the .env file\nload_dotenv(env_file_path)\n\n# Access your API key by referencing the environment variable\napi_key = os.getenv(\"OPENAI_API_KEY\")\nopenai.api_key = api_key\n# print(api_key)\n\ndef get_completion(prompt, model=\"gpt-4\"):\n    messages = [{\"role\": \"user\", \"content\": prompt}]\n    response = openai.ChatCompletion.create(\n        model=model,\n        messages=messages,\n        temperature=0, # this is the degree of randomness of the model's output\n    )\n    return response.choices[0].message[\"content\"]\n\n\n\n\n# time.sleep(5)\n# print(\"here\")\n# response = get_completion(prompt_5)\n\nif __name__ == '__main__':\n    while True:\n        try:\n            # user_instructions = sys.argv[1]\n            user_instructions = input(\"Please Enter the Instruction!\")\n            user_request = 'I want a 2d array of boxes'\n            prompt = f\"\"\"Generate a Python script using RhinoScriptSyntax suitable for the Rhino Python scripting environment. The script should be designed to create customizable 3D models in Rhino 3D based on user-defined parameters. The function should take necessary parameters (such as shape, dimensions, location, etc.) as arguments and add the specified model to the Rhino document. The script should be flexible enough to accommodate a variety of shapes and sizes based on user input.\n            Here is an example function that creates a sphere in Rhino 3D:\n            <<< \n            import rhinoscriptsyntax as rs\n\n            def create_sphere(center, radius):\n                # Creates a sphere at the specified center with the given radius\n                sphere_id = rs.AddSphere(center, radius)\n                return sphere_id\n\n            # Example usage\n            center_point = (0, 0, 0)  # Center of the sphere at the world origin\n            radius = 5  # Radius of the sphere\n            sphere = create_sphere(center_point, radius)\n            >>>\n            Using this example as a guide, generate a similar Python script function that is adaptable for creating 3D model or operate an action based on the parameters provided by the user. The function should take arguments for the shape type, dimensions, and location, and then construct the model accordingly in Rhino and operate it.\n\n            \"\"\"\n            # print(prompt_5)\n            messages = [{\"role\": \"user\", \"content\": prompt}]\n            response = openai.ChatCompletion.create(\n                model='gpt-4',\n                messages=messages,\n                temperature=0, # this is the degree of randomness of the model's output\n            )\n            print(response.choices[0][\"message\"][\"content\"])\n\n        except Exception as e:\n            print('ERROR', e)\n            # print('there')\n            # print('this is an error', e)\n        #   Print the generate`d translation\n    # print('fake response')",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}