{
  "source_url": "https://discourse.mcneel.com/t/preview-of-line-between-two-points-picking/101906",
  "topic_id": 101906,
  "title": "Preview of line between two points picking",
  "question": "Hello,\n\nis it possible with python to have the dinamic preview  of line when we pick the second point?\n\nlike when you create a line in rhino…\n\n\ni would like to create blacks lines, with in entry the X distance, the first point pickked (0) and the second point picked(1)\n\n\n\n\nimage\n1334×749 19.9 KB",
  "code_blocks": [
    {
      "code": "import rhinoscriptsyntax as rs\n\nrs.GetLine(mode=1)",
      "language": "python",
      "author": "Willem",
      "post_number": 2,
      "is_solution": false
    },
    {
      "code": "from Rhino import *\nfrom Rhino.Geometry import *\nfrom Rhino.Commands import *\nfrom Rhino.Input.Custom import *\nfrom scriptcontext import doc\nfrom System.Drawing import *\n\ndef RunCommand():\n    gp = GetPoint()\n    gp.SetCommandPrompt(\"First point\")\n    gp.Get()\n    if gp.CommandResult() <> Result.Success:\n        return gp.CommandResult()\n    c1 = gp.Point()\n\n    gsp = GetSecondPoint(c1)\n    gsp.SetCommandPrompt(\"Second point\")\n    gsp.Get()\n    if gsp.CommandResult() <> Result.Success:\n        return gsp.CommandResult()\n    c2 = gsp.Point()\n\n    doc.Objects.AddLine(Line(c1, c2))\n    doc.Views.Redraw();\n    return Commands.Result.Success\n\nclass GetSecondPoint(GetPoint):\n    def __init__(self, c1):\n        self.m_c1 = c1\n\n    def OnDynamicDraw(self, e):\n        rec = Rectangle3d(Plane.WorldXY, self.m_c1, e.CurrentPoint).ToPolyline()\n        e.Display.DrawPoints([self.m_c1, e.CurrentPoint], Display.PointStyle.X, 4, Color.White)\n        e.Display.DrawLine(Line(self.m_c1, e.CurrentPoint), Color.Red)\n        e.Display.DrawLine(rec.SegmentAt(0), Color.Black, 1)\n        e.Display.DrawLine(rec.SegmentAt(2), Color.Black, 1)\n\nif __name__==\"__main__\":\n    RunCommand()",
      "language": "python",
      "author": "Mahdiyar",
      "post_number": 6,
      "is_solution": false
    }
  ],
  "tags": [
    "file-io",
    "geometry",
    "python",
    "rhinocommon",
    "rhinoscriptsyntax"
  ],
  "has_accepted_answer": false,
  "category_id": 11,
  "posts_count": 7,
  "views": 613
}