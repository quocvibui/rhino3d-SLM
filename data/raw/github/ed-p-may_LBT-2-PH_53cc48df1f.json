{
  "source_url": "https://github.com/ed-p-may/LBT-2-PH/blob/3c2bbdf0cb26deb92d36b870aeb920cbc31d8da2/ghuser_py/LBT2PH%20DHW%20Usage.py",
  "repo": "ed-p-may/LBT-2-PH",
  "repo_stars": 12,
  "repo_description": "LBT2PH is a free toolkit for creating PHPP energy models from Ladybug Tools v1.0+ definitions.",
  "license": "GPL-3.0",
  "filepath": "ghuser_py/LBT2PH DHW Usage.py",
  "instruction": "The HW usage profile for the project. Input False to turn 'off' any usage type.\nInput a DHW Usage Type into _useType. Input either:\n        1-Residential\n        2-Non-Residential\n-\nEM March 1, 2021\n...",
  "code": "#\n# LBT2PH: A Plugin for creating Passive House Planning Package (PHPP) models from LadybugTools. Created by blgdtyp, llc\n# \n# This component is part of the PH-Tools toolkit <https://github.com/PH-Tools>.\n# \n# Copyright (c) 2020, bldgtyp, llc <phtools@bldgtyp.com> \n# LBT2PH is free software; you can redistribute it and/or modify \n# it under the terms of the GNU General Public License as published \n# by the Free Software Foundation; either version 3 of the License, \n# or (at your option) any later version. \n# \n# LBT2PH is distributed in the hope that it will be useful,\n# but WITHOUT ANY WARRANTY; without even the implied warranty of \n# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the \n# GNU General Public License for more details.\n# \n# For a copy of the GNU General Public License\n# see <http://www.gnu.org/licenses/>.\n# \n# @license GPL-3.0+ <http://spdx.org/licenses/GPL-3.0+>\n#\n\"\"\"\nThe HW usage profile for the project. Input False to turn 'off' any usage type.\nInput a DHW Usage Type into _useType. Input either:\n        1-Residential\n        2-Non-Residential\n-\nEM March 1, 2021\n    Args:\n        _useType:\n    Returns:\n        usage_: The usage object. Connect this to the 'usage_' input on the \n            'DHW System' component in order to pass along to the PHPP.\n\"\"\"\n\nimport scriptcontext as sc\nimport Grasshopper.Kernel as ghK\n\nimport LBT2PH\nimport LBT2PH.__versions__\nimport LBT2PH.dhw\n\nreload( LBT2PH )\nreload(LBT2PH.__versions__)\nreload( LBT2PH.dhw )\n\nghenv.Component.Name = \"LBT2PH DHW Usage\"\nLBT2PH.__versions__.set_component_params(ghenv, dev=False)\n#-------------------------------------------------------------------------------\n\ndef setupInputs(_type):\n    \n    direction = 'Please input a value DHW Usage Type into _useType. Input either:\\n'\\\n    \"    1-Residential\\n\"\\\n    \"    2-Non-Residential\"\n    \n    #Setup the input names\n    inputsRes = {\n            1:{ 'name': 'showers_demand_', 'desc':'(Litre/Person/Day) HW usage for showers only at Design-Forward-Temp (un-mixed). Default is 16 ltrs/pers/day.', 'default':16 },\n            2: {'name':'other_demand_', 'desc':'(Litre/Person/Day) HW usage for all non-shower use at Design-Forward-Temp (un-mixed). Default is 9 ltrs/pers/day.', 'default':9 }\n            }\n    \n    inputsNonRes = {\n        1:{  'name': 'useDaysPerYear_', 'desc':'(int) Number of Days per Year the hot water is used.', 'default':365 },\n        2:{  'name': 'showers_', 'desc':'(bool) True=Used, False=Not Used', 'default':True},\n        3:{  'name': 'handWashBasin_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        4:{  'name': 'washStand_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        5:{  'name': 'bidet_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        6:{  'name': 'bathing_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        7:{  'name': 'toothBrushing_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        8:{  'name': 'cookingAndDrinking_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        9:{  'name': 'dishwashing_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        10:{ 'name': 'cleaningKitchen_', 'desc':'(bool) True=Used, False=Not Used', 'default':True },\n        11:{ 'name': 'cleaningRooms_', 'desc':'(bool) True=Used, False=Not Used', 'default':True }\n        }\n    \n    # Decide which input style to use\n    if _type == None:\n        inputs = {}\n        ghenv.Component.AddRuntimeMessage(ghK.GH_RuntimeMessageLevel.Warning, direction)\n    elif '1' in str(_type):\n        inputs = inputsRes\n    elif '2' in str(_type):\n        inputs = inputsNonRes\n    else:\n        inputs = {}\n        ghenv.Component.AddRuntimeMessage(ghK.GH_RuntimeMessageLevel.Warning, direction)\n    \n    #Set up the Component Inputs\n    for inputNum in range(1, 12):\n        item = inputs.get(inputNum, {'name':'-', 'desc':'-'})\n        \n        ghenv.Component.Params.Input[inputNum].NickName = item.get('name')\n        ghenv.Component.Params.Input[inputNum].Name = item.get('name')\n        ghenv.Component.Params.Input[inputNum].Description = item.get('desc')\n    \n    # So can ge the defaults and such....\n    return {item['name']:item for item in inputs.values() }\n\n#-------------------------------------------------------------------------------\n# Set the inputs\ninput_dict = setupInputs(_useType)\nghenv.Component.Attributes.Owner.OnPingDocument()\n\n#-------------------------------------------------------------------------------\n# Build the Usage Object\nif _useType == None:\n    _useType = ''\n\nif '1' in _useType:\n    # Build Residential system    \n    defaultInputs = []\n    \n    for input in ghenv.Component.Params.Input:\n        for inputValue in input.VolatileData.AllData(True):\n            defaultInputs.append( str(inputValue) )\n    usage_ = LBT2PH.dhw.PHPP_DHW_usage_Res( *defaultInputs)\n    \nelif '2' in _useType:\n    # Build Non-Residential System\n    defaultInputs = {}\n    \n    for input in ghenv.Component.Params.Input:\n        for inputValue in input.VolatileData.AllData(True):\n            defaultInputs[input.Name] = str(inputValue) \n    print defaultInputs\n    usage_ = LBT2PH.dhw.PHPP_DHW_usage_NonRes( defaultInputs )",
  "language": "python",
  "imports": [
    "scriptcontext"
  ],
  "has_docstring": true
}