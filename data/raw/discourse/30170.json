{
  "source_url": "https://discourse.mcneel.com/t/why-a-2-1-document-tolerance-for-joining-breps/30170",
  "topic_id": 30170,
  "title": "Why a 2.1 document tolerance for joining breps",
  "question": "Hi,\n\n\nWhat is the reasoning behind allowing a tolerance of \nModelAbsoluteTolerance * 2.1\n  in pythons JoinSurfaces method? Is this the tolerance for the Join command as well?\n\n\nI ask because Iâ€™m scripting the \nBrep.MergeCoplanarFaces(tolerance)\n method and want to set a tolerance in order for it to work as expected based on tolerance settings.\n\n\nDo I best set a tolerance multiplied by 2.1 as well? \nBrep.MergeCoplanarFaces (ModelAbsoluteTolerance * 2.1)\n\n\nThanks\n\n-Willem\n\n\ndef JoinSurfaces(object_ids, delete_input=False):\n    \"\"\"Joins two or more surface or polysurface objects together to form one\n    polysurface object\n    Parameters:\n      object_ids = list of object identifiers\n    Returns:\n      identifier of newly created object on success\n      None on failure\n    \"\"\"\n    breps = [rhutil.coercebrep(id, True) for id in object_ids]\n    if len(breps)<2: return scriptcontext.errorhandler()\n    tol = scriptcontext.doc.ModelAbsoluteTolerance * 2.1\n    joinedbreps = Rhino.Geometry.Brep.JoinBreps(breps, tol)\n    if joinedbreps is None or len(joinedbreps)!=1:\n        return scriptcontext.errorhandler()\n    rc = scriptcontext.doc.Objects.AddBrep(joinedbreps[0])\n    if rc==System.Guid.Empty: return scriptcontext.errorhandler()\n    if delete_input:\n        for id in object_ids:\n            id = rhutil.coerceguid(id)\n            scriptcontext.doc.Objects.Delete(id, True)\n    scriptcontext.doc.Views.Redraw()\n    return rc",
  "code_blocks": [
    {
      "code": "def JoinSurfaces(object_ids, delete_input=False):\n    \"\"\"Joins two or more surface or polysurface objects together to form one\n    polysurface object\n    Parameters:\n      object_ids = list of object identifiers\n    Returns:\n      identifier of newly created object on success\n      None on failure\n    \"\"\"\n    breps = [rhutil.coercebrep(id, True) for id in object_ids]\n    if len(breps)<2: return scriptcontext.errorhandler()\n    tol = scriptcontext.doc.ModelAbsoluteTolerance * 2.1\n    joinedbreps = Rhino.Geometry.Brep.JoinBreps(breps, tol)\n    if joinedbreps is None or len(joinedbreps)!=1:\n        return scriptcontext.errorhandler()\n    rc = scriptcontext.doc.Objects.AddBrep(joinedbreps[0])\n    if rc==System.Guid.Empty: return scriptcontext.errorhandler()\n    if delete_input:\n        for id in object_ids:\n            id = rhutil.coerceguid(id)\n            scriptcontext.doc.Objects.Delete(id, True)\n    scriptcontext.doc.Views.Redraw()\n    return rc",
      "language": "python",
      "author": "Willem",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "geometry",
    "python",
    "rhinocommon"
  ],
  "has_accepted_answer": false,
  "category_id": 3,
  "posts_count": 2,
  "views": 864
}