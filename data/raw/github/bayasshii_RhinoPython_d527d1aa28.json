{
  "source_url": "https://github.com/bayasshii/RhinoPython/blob/eb792408c1d5f3f8864ba4c23fc7ed0187ab8095/RhinoPython/polar.py",
  "repo": "bayasshii/RhinoPython",
  "repo_stars": 1,
  "repo_description": "to study Python",
  "license": "unknown",
  "filepath": "RhinoPython/polar.py",
  "instruction": null,
  "code": "import rhinoscriptsyntax as rs\nimport math as ma\nimport random as rd\n\ndef delete_all():\n    all_objects = rs.ObjectsByType(0)\n    rs.DeleteObjects(all_objects)\n\ndef delete_something(n):\n    something = rs.ObjectsByType(n)\n    rs.DeleteObjects(something)\n\ndef polar(r, theta):\n    x = r * ma.cos(theta)\n    y = r * ma.sin(theta)\n    return (x, y, 0)\n\ndef noise_circle((xx, yy, zz), R):\n    point = []\n    for t in rs.frange(0, 360, 20):\n        ranran = rd.randint(4, 8)\n        ranranran = rd.random()/ranran + 0.3\n        sin = ma.sin(ma.radians(t/5 + 54))/2\n        R_real = ( ranranran + sin ) * R \n        \n        ran = rd.randint(1, 2)\n        \n        p = rs.AddPoint(xx, yy, zz)\n        rs.MoveObject(p, polar(R_real, ma.radians(t)))\n        \n        point.append(p)\n    point.append(point[0])\n    c = rs.AddCurve(point)\n    ran = rd.randint(1, 90)\n    rs.RotateObject(c, (xx, yy, zz), ran, None, False)\n\ndef draw_stone():\n    r_box     = []\n    theta_box = []\n    R_box     = []\n    \n    #how many circles\n    n = 100\n    \n    for a in range(0, n):\n        if a == 0 :\n            #center big circle\n            R = 20\n            noise_circle(polar(0,0), R)\n            \n            theta_box.append(0)\n            r_box.append(0)\n            R_box.append(R)\n        else:\n            #probability to make big circle is1/7 \n            random = rd.randint(1,7)\n            \n            if random == 1:\n                #big circle size\n                max_circle = 15\n                min_circle = 10\n                R = rd.randint(min_circle, max_circle)\n            else:\n                #normal circle size\n                max_circle = 8\n                min_circle = 3\n                R = rd.randint(min_circle, max_circle) \n            \n            angle = []\n            for t in rs.frange(1,360,72):\n                angle.append(t)\n            theta = rd.choice(angle) + rd.randint(-5, +5)\n            \n            r_contact       = []\n            r_contacted     = []\n            theta_contact   = []\n            theta_contacted = []\n            R_contact       = []\n            R_contacted     = []\n            \n            L = R*0.5\n            \n            b = 0\n            #determine contact or not contact\n            while (b != a):\n                D = -(r_box[b] * ma.sin(theta_box[b] - theta))**2 + (R + L/2 + R_box[b])**2\n                #if contact\n                if D  > 0 :\n                    r = (r_box[b]) * ma.cos(theta - theta_box[b]) + ma.sqrt(D)                   \n                    if r > R_box[b]:\n                        theta_contact.append(theta)\n                        r_contact.append(r)\n                        R_contact.append(R)\n                        \n                        theta_contacted.append(theta_box[b])\n                        r_contacted.append(r_box[b])\n                        R_contacted.append(R_box[b])\n                        \n                        b += 1\n                    else:\n                        b += 1\n               #if not contact\n                else:\n                    b += 1\n            \n            else :\n                #if we have contacted circle\n                if 1 <= len(r_contact) :\n                    r_real   = max(r_contact)\n                    number   = r_contact.index(r_real)\n                    r_before = r_contacted[number]\n                    \n                    theta_real   = theta_contact[number]\n                    theta_before = theta_contacted[number]\n                    \n                    R_real   = R_contact[number]\n                    R_before = R_contacted[number]\n                    \n                    noise_circle(polar(r_real, theta_real), R_real)\n                    \n                    #line ga aruto wakariyasui\n                    #p_before = polar(r_before , theta_before)\n                    #p_real = polar(r_real , theta_real)\n                    #line1 = rs.AddLine(p_before, p_real)\n                    \n                    r_box.append(r_real)\n                    theta_box.append(theta_real)\n                    R_box.append(R_real)\n                #if do not have\n                else:\n                    noise_circle(polar(R_box[0] + R + L, theta), R)\n                    \n                    theta_box.append(theta)\n                    r_box.append(R + L + R_box[0])\n                    R_box.append(R)\n\ndelete_all()\n\ndraw_stone()\ndelete_something(1)",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}