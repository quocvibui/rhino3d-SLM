{
  "source_url": "https://github.com/EusebioAlsoliman/TFM/blob/20b4846f28d5b2ffef8cd5de4b61577e83ea3ae6/Phoebus/update_trace_PTP.py",
  "repo": "EusebioAlsoliman/TFM",
  "repo_stars": 0,
  "repo_description": "Trabajo Fin de M치ster: Sistemas para la monitorizaci칩n y an치lisis de la red de sincronizaci칩n en el marco del proyecto IFMIF-DONES",
  "license": "GPL-3.0",
  "filepath": "Phoebus/update_trace_PTP.py",
  "instruction": "executed with jython",
  "code": "#executed with jython\n\nfrom connect2j import scriptContext\n\nwith scriptContext('widget', 'pvs', 'PVUtil', 'ColorFontUtil', dict=globals()):\n\n\tRED = ColorFontUtil.RED\n\tBLUE = ColorFontUtil.BLUE\n\tGREEN = ColorFontUtil.getColorFromRGB(0, 255, 0)\n\n\tDARK_RED = ColorFontUtil.getColorFromRGB(153, 0, 0)\n\tDARK_BLUE = ColorFontUtil.getColorFromRGB(0, 0, 128)\n\tDARK_GREEN = ColorFontUtil.getColorFromRGB(51, 102, 51)\n\n\tdevice = PVUtil.getString(pvs[0])\n\n\tif device == \"rpi4\":\n\t\tcolor_offset = GREEN\n\t\tcolor_freq = DARK_GREEN\n\telif device == \"nano2gb\":\n\t\tcolor_offset = BLUE\n\t\tcolor_freq = DARK_BLUE\n\telif device == \"nano4gb\":\n\t\tcolor_offset = RED\n\t\tcolor_freq = DARK_RED\n\n\t# Offset trace\n\twidget.setPropertyValue(\"traces[0].y_pv\", \"pva://\" + device + \":PTP_slave\")\n\n\twidget.setPropertyValue(\"traces[0].color\", color_offset)\n\n\twidget.setPropertyValue(\"traces[0].name\", device + \" offset\")\n\n\t# Freq trace\n\twidget.setPropertyValue(\"traces[1].y_pv\", \"pva://\" + device + \":PTP_freq\")\n\n\twidget.setPropertyValue(\"traces[1].color\", color_freq)\n\n\twidget.setPropertyValue(\"traces[1].name\", device + \" freq\")\n",
  "language": "python",
  "imports": [],
  "has_docstring": true
}