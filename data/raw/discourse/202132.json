{
  "source_url": "https://discourse.mcneel.com/t/class-drawable/202132",
  "topic_id": 202132,
  "title": "class_Drawable",
  "question": "This is the first time I’ve used a class to encapsulate some custom methods. It’s a challenge for me. I failed immediately, I felt like I was going to start losing my hair, and the community was my last hope\n\nmy code:\n\n\nimport Eto.Forms as ef\nimport Eto.Drawing as ed\nclass Txet_draw(ef.Drawable):\n    def __init__(self, Txet):\n        self.Width = 100\n        self.Height = 100\n        self._Txet = Txet\n        self._font = ed.Font(\"Arial\", 10)\n        self._color = ed.Colors.Black\n        self._darw_location = ed.PointF(0,0)\n    def txet(self,e):\n        e.Graphics.DrawText(self._font,self._color,self._darw_location,self._Txet)\nform = ef.Form()\nform.Width = 300\nform.Height = 300\n#---------\nclass_font = Txet_draw(Txet = \"123\")\na_class_font =class_font.txet()\n#---------\nLayout_0 = ef.DynamicLayout()\nLayout_0.AddRow(a_class_font)\nform.Content = Layout_0\nform.Show()\n\n\n\nReport an error:\n\n\nRhino.Runtime.Code.Execution.ExecuteException: Object reference not set to an instance of an object.\n ---> System.NullReferenceException: Object reference not set to an instance of an object.\n   at Eto.Forms.Control.set_Width(Int32 value) in D:\\BuildAgent\\work\\dujour\\src4\\DotNetSDK\\Eto\\src\\Eto\\Forms\\Controls\\Control.cs:line 895\n   at __main__.Eto.Forms.Drawable__Txet_draw._BASEVIRTUAL__set_Width(Int32)\n   at InvokeStub_Drawable__Txet_draw._BASEVIRTUAL__set_Width(Object, Object, IntPtr*)\n   at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags invokeAttr)\n   --- End of inner exception stack trace ---\nSystem.NullReferenceException: Object reference not set to an instance of an object.\n   at Eto.Forms.Control.set_Width(Int32 value) in D:\\BuildAgent\\work\\dujour\\src4\\DotNetSDK\\Eto\\src\\Eto\\Forms\\Controls\\Control.cs:line 895\n   at __main__.Eto.Forms.Drawable__Txet_draw._BASEVIRTUAL__set_Width(Int32)\n   at InvokeStub_Drawable__Txet_draw._BASEVIRTUAL__set_Width(Object, Object, IntPtr*)\n   at System.Reflection.MethodInvoker.Invoke(Object obj, IntPtr* args, BindingFlags i...",
  "code_blocks": [
    {
      "code": "#! python 3\nimport Eto.Forms as ef\nimport Eto.Drawing as ed\n\nclass Txet_draw(ef.Drawable):\n    def __init__(self, Txet):\n        super().__init__()\n        self.Width = 100\n        self.Height = 100\n        self._Txet = Txet\n        self._font = ed.Font(\"Arial\", 10)\n        self._color = ed.Colors.Black\n        self._darw_location = ed.PointF(0,0)\n    def OnPaint(self,e):\n        e.Graphics.DrawText(self._font,self._color,self._darw_location,self._Txet)\nform = ef.Form()\nform.Width = 300\nform.Height = 300\n#---------\nclass_font = Txet_draw(Txet = \"123\")\n\n#---------\nLayout_0 = ef.DynamicLayout()\nLayout_0.AddRow(class_font)\nform.Content = Layout_0\nform.Show()",
      "language": "python",
      "author": "nathanletwory",
      "post_number": 2,
      "is_solution": true
    },
    {
      "code": "def OnMouseDown(self, e):\n        #Forms_close()\n        #ef.Form.Close()\n        rs.Command(str(self._Txet),echo=True)",
      "language": "python",
      "author": "tom33",
      "post_number": 5,
      "is_solution": false
    },
    {
      "code": "import Eto.Forms as ef\nimport Eto.Drawing as ed\nclass Txet_draw(ef.Drawable):\n    def __init__(self, Txet):\n        self.Width = 100\n        self.Height = 100\n        self._Txet = Txet\n        self._font = ed.Font(\"Arial\", 10)\n        self._color = ed.Colors.Black\n        self._darw_location = ed.PointF(0,0)\n    def txet(self,e):\n        e.Graphics.DrawText(self._font,self._color,self._darw_location,self._Txet)\nform = ef.Form()\nform.Width = 300\nform.Height = 300\n#---------\nclass_font = Txet_draw(Txet = \"123\")\na_class_font =class_font.txet()\n#---------\nLayout_0 = ef.DynamicLayout()\nLayout_0.AddRow(a_class_font)\nform.Content = Layout_0\nform.Show()",
      "language": "python",
      "author": "tom33",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "file-io",
    "geometry",
    "python"
  ],
  "has_accepted_answer": true,
  "category_id": 11,
  "posts_count": 6,
  "views": 120
}