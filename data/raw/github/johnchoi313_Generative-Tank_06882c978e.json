{
  "source_url": "https://github.com/johnchoi313/Generative-Tank/blob/a75baf75a749fdd2917197ff1a31bc3bbca46e6e/generateTank.py",
  "repo": "johnchoi313/Generative-Tank",
  "repo_stars": 0,
  "repo_description": "A Rhino Python Project that generates random tanks",
  "license": "unknown",
  "filepath": "generateTank.py",
  "instruction": "Generate tank",
  "code": "import rhinoscriptsyntax as rs\nimport random\nimport math\n\n#select nothing\nrs.Command(\"SelNone\")\n\n#helper to get and assign parts\ndef makePart(name,group):\n    obj = rs.ObjectsByName(name)[0]\n    group.append(obj)\n    return obj\n\n# turret parts:\nturretParts = []\nturretPoint = makePart(\"turretPoint\",turretParts)\nturretPivot = makePart(\"turretPivot\",turretParts)\nbarrelPivot = makePart(\"barrelPivot\",turretParts)\nbarrelStart = makePart(\"barrelStart\",turretParts)\nturretHull = makePart(\"turretHull\",turretParts)\ntopHatch = makePart(\"topHatch\",turretParts)\nbarrel = makePart(\"barrel\",turretParts)\n# hull parts:\nhullParts = []\nsidePort = makePart(\"sidePort\",hullParts)\nhull = makePart(\"hull\",hullParts)\n# track parts:\ntrackParts = []\ntrackPiece = makePart(\"trackPiece\",trackParts)\ntrackFront = makePart(\"trackFront\",trackParts)\ntrackBack = makePart(\"trackBack\",trackParts)\ntrackMid = makePart(\"trackMid\",trackParts)\nsprocketFrontParts = []\nsprocketBackParts = []\n#Sprocket Parts:\nspf = []\nfor i in range(0,5):\n    spf.append(makePart(\"spf\"+str(i),sprocketFrontParts))\nsprocketFront = makePart(\"sprocketFront\",sprocketFrontParts)\nsprocketFrontPoint = makePart(\"sprocketFrontPoint\",sprocketFrontParts)\nspb = []\nfor i in range(0,5):\n    spb.append(makePart(\"spb\"+str(i),sprocketBackParts))\nsprocketBack = makePart(\"sprocketBack\",sprocketBackParts)\nsprocketBackPoint = makePart(\"sprocketBackPoint\",sprocketBackParts)\n#Wheel Parts\nwheel = makePart(\"wheel\",trackParts)\nwheelPoint = makePart(\"wheelPoint\",trackParts)\n\n#randomize?\nrandomize = 0\nphase = 9;\n\n#turret variables:\nbarrelLength = 22.4 + random.uniform(-8,8)*randomize\nbarrelScale = 1.38 + random.uniform(-.5,1)*randomize\nbarrelCount = 1 + random.randrange(0,3)*randomize\nturretScale = 1.22 + random.uniform(-.2,.5)*randomize\n#hull variables:\nhullHeight = 14.1 + random.uniform(-4,6)*randomize\nhullWidth = 19.15 + random.uniform(-8,8)*randomize\nhullLength = 36.0 + random.uniform(-12,12)*randomize\nportsPerSide = 4 + random.randrange(0,4)*randomize\n#track variables:\nwheelCount = 4 + random.randrange(-1,5)*randomize\nwheelSprocketDistance = 5.36 + random.uniform(-4,4)*randomize\nwheelScale = 1.1 + random.uniform(-.5,1)*randomize\nsprocketScale = 0.67 + random.uniform(-.5,1)*randomize\nsuspension = 2.33 + random.uniform(-2,3)*randomize\ntrackHeight = .68 + random.uniform(-.4,.6)*randomize\ntrackLength = 1.0 + random.uniform(-.8,.8)*randomize\ntrackOffset = 0 + phase*.1 + random.uniform(0,trackLength)*randomize\ntrackCount = 50 + random.randrange(-10,20)*randomize\n#color variables\nr = 0+random.randrange(0,160)*randomize\ng = 45+random.randrange(0,160)*randomize\nb = 12+random.randrange(0,160)*randomize\nhullColor1 = [r,g,b]\nhullColor2 = [r*4/5,g*4/5,b*4/5]\nhullColor3 = [r*3/5,g*3/5,b*3/5]\nr1 = 12+random.randrange(0,60)*randomize\ng1 = 53+random.randrange(0,60)*randomize\nb1 = 17+random.randrange(0,60)*randomize\nwheelColor = [r1,g1,b1]\ntrackColor = [r1/2,g1/2,b1/2]\n\n#print variables?\nprintvars = True\nif (printvars):\n    #turret variables\n    print \"barrelLength = \"+str(barrelLength)\n    print \"barrelScale = \"+str(barrelScale)\n    print \"barrelCount = \"+str(barrelCount)\n    print \"turretScale = \"+str(turretScale)\n    #hull variables\n    print \"hullHeight = \"+str(hullHeight)\n    print \"hullWidth = \"+str(hullWidth)\n    print \"hullLength = \"+str(hullLength)\n    print \"portsPerSide = \"+str(portsPerSide)\n    #track variables\n    print \"wheelCount = \"+str(wheelCount)\n    print \"wheelSprocketDistance = \"+str(wheelSprocketDistance)\n    print \"wheelScale = \"+str(wheelScale)\n    print \"sprocketScale = \"+str(sprocketScale)\n    print \"suspension = \"+str(suspension)\n    print \"trackHeight = \"+str(trackHeight) \n    print \"trackLength = \"+str(trackLength)\n    print \"trackOffset = \"+str(trackOffset)\n    print \"trackCount = \"+str(trackCount)\n    #color variables\n    print \"(r,g,b) = \"+str(r)+\", \"+str(g)+\", \"+str(b)\n    print \"(r1,g1,b1) = \"+str(r1)+\", \"+str(g1)+\", \"+str(b1)\n\n# --- color objects --- #\n#hullColor1\nfor part in turretParts:\n    rs.ObjectColor(part,hullColor1)\nfor part in hullParts:\n    rs.ObjectColor(part,hullColor1)\n#hullColor2\nrs.ObjectColor(turretPivot,hullColor2)\nrs.ObjectColor(barrelPivot,hullColor2)\n#hullColor3\nfor part in trackParts:\n    rs.ObjectColor(part,hullColor3)\n#wheelColor\nrs.ObjectColor(sprocketFront,wheelColor)\nrs.ObjectColor(sprocketBack,wheelColor)\nrs.ObjectColor(wheel,wheelColor)\n#trackColor\nrs.ObjectColor(trackPiece,trackColor)\n\n\n# --- control hull --- #\n#resize hull (hullLength,hullWidth,hullHeight)\n(x,y,z) = [hullLength/36.0,hullWidth/20.0,hullHeight/10.0]\nrs.ScaleObject(hullParts,(0,0,0),[x,y,z])\nrs.ScaleObject(trackFront,(0,0,0),[x,1,z])\nrs.ScaleObject(trackBack,(0,0,0),[x,1,z])\nrs.ScaleObject(trackMid,(0,0,0),[x,1,z])\n#move track parts to accommodate\nrs.MoveObject(trackParts,[0,hullWidth/2.0-10.0,0])\nrs.MoveObject(sprocketFrontParts,[0,hullWidth/2.0-10.0,0])\nrs.MoveObject(sprocketBackParts,[0,hullWidth/2.0-10.0,0])\n#move turret parts to accommodate\nrs.MoveObject(turretParts,[0,0,hullHeight-10.0])\n#move sprockets to accomodate\nrs.MoveObject(sprocketFrontParts,[hullLength/2.0-18.0,0,0])\nrs.MoveObject(sprocketBackParts,[-hullLength/2.0+18.0,0,0])\n#make ports\nif(portsPerSide > 1):\n    rs.MoveObject(sidePort,[hullLength*.3,0,0])\n    for i in range(1,portsPerSide):\n        distance = (hullLength*.6)/(portsPerSide-1)*(-i) \n        rs.CopyObjects(sidePort,[distance,0,0]) \n\n# --- CONTROL WHEELS --- #\n#scale wheels (wheelScale, sprocketScale)\nrs.ScaleObject(sprocketFrontParts,sprocketFrontPoint,[sprocketScale,1,sprocketScale])\nrs.ScaleObject(sprocketBackParts,sprocketBackPoint,[sprocketScale,1,sprocketScale])\nrs.ScaleObject(wheel,wheelPoint,[wheelScale,1,wheelScale])\n\n#move wheels down (suspension)\nrs.MoveObject([wheel,wheelPoint],[0,0,-suspension])\n\n#create wheels and curve(wheelCount, wheelSprocketDistance)\ntrackPoints = []\ntrackPoints.extend(spf)\nsx = hullLength/2.0-wheelSprocketDistance\nsy = hullWidth/2.0+2.5\nsz = -wheelScale*2.5-suspension\ntrackPoints.append([sx+wheelSprocketDistance/4.0,sy,sz])\nrs.MoveObject([wheel,wheelPoint],[hullLength/2.0-wheelSprocketDistance,0,0])\nfor i in range(1,wheelCount):\n    distance = (hullLength-2.0*wheelSprocketDistance)/(wheelCount-1)*(-i)\n    rs.CopyObjects([wheel,wheelPoint],[distance,0,0])\n    trackPoints.append([sx + distance,sy,sz]) \ntrackPoints.append([-sx-wheelSprocketDistance/4.0,sy,sz])\ntrackPoints.extend(spb)\ntrackPoints.append(spf[0])\ntrackCurve = rs.AddCurve(trackPoints)\n\n# --- control turret --- #\n#scale turret\nrs.ScaleObject(turretParts,turretPoint,[turretScale,turretScale,turretScale])\n\n#barrel (barrelLength, barrelCount)\nrs.ScaleObject(barrel, barrelStart, [barrelLength/20.0,barrelScale,barrelScale])\n\n#make barrels (barrelCount)\nif(barrelCount > 1):\n    rs.MoveObject(barrel,[0,4,0])\n    for i in range(1,barrelCount):\n        distance = (8)/(barrelCount-1)*(-i) \n        rs.CopyObjects(barrel,[0,distance,0]) \n\n\n#create track pieces (trackCount, trackHeight, trackLength)\nrs.ScaleObject(trackPiece,(0,hullWidth/2.0,0), [trackLength,1,trackHeight])\nrs.MoveObject(trackPiece,[trackOffset,0,sprocketScale*2.5])\n\n#these commands are not in Rhino Python.\nrs.Command(\"ArrayCrv\") # make track along curve.\nrs.Command(\"RunScript\") # Set Material Render Colors.\nrs.Command(\"Mirror\") # mirror features.\n\n#select all and rotate\nrs.Command(\"SelAll\")\nall = rs.SelectedObjects()\nrs.RotateObjects(all,(0,0,0), math.cos(phase*2.0*math.pi / 10.0)*10, axis = [0,0,1])\n",
  "language": "python",
  "imports": [
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}