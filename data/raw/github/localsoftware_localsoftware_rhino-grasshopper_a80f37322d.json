{
  "source_url": "https://github.com/localsoftware/localsoftware_rhino-grasshopper/blob/4aafec57e33b9f09cce6fd73dcda12b17cf794a5/plugin_files/ShapeFile_Extract_User_Strings.py",
  "repo": "localsoftware/localsoftware_rhino-grasshopper",
  "repo_stars": 0,
  "repo_description": null,
  "license": "BSD-2-Clause",
  "filepath": "plugin_files/ShapeFile_Extract_User_Strings.py",
  "instruction": "Shape file extract user strings",
  "code": "ï»¿from ghpythonlib.componentbase import dotnetcompiledcomponent as component\nimport Grasshopper, GhPython, System, Rhino\nimport rhinoscriptsyntax as rs\nfrom Grasshopper.Kernel import GH_RuntimeMessageLevel as RML\n\nclass MyComponent(component):\n    def __new__(cls):\n        instance = Grasshopper.Kernel.GH_Component.__new__(cls,\n            \"SHPExtractUserStrings\", \"SHPExtractUserString\", \"\"\"Extracts object attribute names and attribute values from geometries imported from SHP files.\nExtracts the User Strings from geometries imported with the ReadShapefile component.\nSeparates the GIS Attributes into DataTrees for every GIS geometry from the shapefile.\nBased on the work of Jackie Berry.\n    Typical usage:\nConnect the output geometry from a ReadShapefile component into the geometry input.\nYou can plug a panel to the Attributes and Values outputs to browse their specific values.\nYou can select the values of specific geometries with any List Management component, such as List Item.\"\"\", \"Extra\", \"LocalCode\")\n        return instance\n    \n    def get_ComponentGuid(self):\n        return System.Guid(\"9e155ce4-692c-48f0-8a2e-efe279bb779b\")\n    \n    def SetUpParam(self, p, name, nickname, description):\n        p.Name = name\n        p.NickName = nickname\n        p.Description = description\n        p.Optional = True\n    \n    def RegisterInputParams(self, pManager):\n        p = Grasshopper.Kernel.Parameters.Param_Geometry()\n        self.SetUpParam(p, \"geometry\", \"geometry\", \"imported geometry from shapefile.\")\n        p.Access = Grasshopper.Kernel.GH_ParamAccess.item\n        self.Params.Input.Add(p)\n        \n    \n    def RegisterOutputParams(self, pManager):\n        p = Grasshopper.Kernel.Parameters.Param_GenericObject()\n        self.SetUpParam(p, \"Attributes\", \"Attributes\", \"Tree of attributes per object from shapefile\")\n        self.Params.Output.Add(p)\n        \n        p = Grasshopper.Kernel.Parameters.Param_GenericObject()\n        self.SetUpParam(p, \"Values\", \"Values\", \"Value per attribute per object from shapefile.\")\n        self.Params.Output.Add(p)\n        \n    \n    def SolveInstance(self, DA):\n        p0 = self.marshal.GetInput(DA, 0)\n        result = self.RunScript(p0)\n\n        if result is not None:\n            if not hasattr(result, '__getitem__'):\n                self.marshal.SetOutput(result, DA, 0, True)\n            else:\n                self.marshal.SetOutput(result[0], DA, 0, True)\n                self.marshal.SetOutput(result[1], DA, 1, True)\n        \n    def get_Internal_Icon_24x24(self):\n        o = \"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAHYcAAB2HAY/l8WUAAALbSURBVEhL5ZVrSJNRGMeX07m5DZNVbo285KQx3UYapYW7BfWlRCmKzMoun0IIP5iQmQVFVtLtQyCIH8Kii1LgBwmjBAkiCCzDNMgoKMigcs5Lrvb0f847cy9Kudq3/vDjvOe8z+19ztmZ4r9TCtisVCqbMR4Hal78V6WDCoMhsa140+Lhy+etNNBXSHduOcluTe7HuxJhFaUcoNqSqX+4u9w4fv1qLn0YWkdEPomQG6OXAl/cdKw2i/RJ8e2wXyE851Ac0AEPOJOfl9J7qDKd7nWspNHhonBQL1HQRfTdQ4GPWMNIoxi/YY3WU/+zAtpSsmQM/vVAA2SyKJVxr+tqsuh57xoKBbg6DoogkwjAgQJFFJryUE1VBpmMGmo4YZlJwpDk037TSU578kvELJVCh4VNK95aahyZ8MOJq/WHHaeZcFFwxE06rYpgTmnLtERTsBuLsEER7Dv+1U0Np7LJZtXfhe1qkSAsR45N92YQGyiSRCZggh5quWIjT5GB2lrtYi57z8n4q9Gyz8NuKttm5mK6pdAzMi81JT3pebAKhmhTZACGA4SQnMfpr+Q2sm3QS91d+bSzzDip16luIJYP8P7OklatTui4fc0hqpG1geFW8PhD6rv/k4tamnLI7TK8he9JYBFR/qwFTZcarVIS7IGo+FcbfPTqRQEdqVlO2ZakRzCuAHwSo1b94apMEVCAjb3fmUc7tqeOazSqVrx3SWbzV3x4jNSBveVmam7KpbWFhiHM+YrIFG+i1ELAZ9gmZnJtALvAXAXMW/uBH5wWM4UiFfA9lAY4OffYFJ7z+u9YBGbpMeDL6z3QgoOgEZyLEvbZA2TaCHoAV80XVx2IqXjTMqRHRSJwSo+xkxl0Aa6+mhdirXwwCI6CPpAAVID/sf4G9peJW8IJzoKngPeiElwEF6KEffYBmfgL3oFaMAD4qPFFxedeGSXsM+uS4zPOPySu2s4LsZFC8RMzO7R6gUkDrAAAAABJRU5ErkJggg==\"\n        return System.Drawing.Bitmap(System.IO.MemoryStream(System.Convert.FromBase64String(o)))\n\n\n    def RunScript(self, geometry):\n        Attributes, Values = None, None\n        if geometry == None: \n            self.AddRuntimeMessage(RML.Warning,\"add geometry.\")\n        else:\n            data = geometry.GetUserStrings()\n            d = {}\n            k = []\n            v = []\n            for u in data:\n                k.append(u)\n                d[u] = data[u]\n                v.append(d[u])\n            U = d\n            Attributes = k\n            Values = v\n        # return outputs if you have them; here I try it for you:\n        return (Attributes, Values)\n\n\nimport GhPython\nimport System\n\nclass AssemblyInfo(GhPython.Assemblies.PythonAssemblyInfo):\n    def get_AssemblyName(self):\n        return \"SHPExtractUserStrings\"\n    \n    def get_AssemblyDescription(self):\n        return \"\"\"\"\"\"\n\n    def get_AssemblyVersion(self):\n        return \"0.1\"\n\n    def get_AuthorName(self):\n        return \"\"\n    \n    def get_Id(self):\n        return System.Guid(\"9581a34a-e80f-4b59-ab15-0c7b382a8bfa\")",
  "language": "python",
  "imports": [
    "ghpythonlib",
    "rhinoscriptsyntax"
  ],
  "has_docstring": false
}