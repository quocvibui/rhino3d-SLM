{
  "source_url": "https://discourse.mcneel.com/t/python-set-layer-visibility-issue/81264",
  "topic_id": 81264,
  "title": "[python] set layer visibility issue",
  "question": "say you have this structure:\n\n\n\n\nand you want all layers with the name “Default” to be turned off\n\n\nScript 1 (using \nrs.LayerVisibility()\n):\n\n\nimport rhinoscriptsyntax as rs\nimport scriptcontext as sc\nimport time\n\n\ndef lights_out(layer_list=None):\n    if layer_list is None:\n        layers_to_hide = [\"Default\"]\n        layer_list = layers_to_hide\n    else:\n        pass\n    for l in sc.doc.Layers:\n        if l.Name in layer_list:\n            #print l.Index, l.Name\n            #l.IsVisible = False\n            rs.LayerVisible(l.Name,False)\n\nif __name__==\"__main__\":\n    ts = time.time()\n    \n    lights_out()\n    \n    te = time.time()\n    print \"Elapsed time is {:.2f}\".format(te-ts)\n\n\n\nResult:\n\n\n\n\nJust the first layer which matches the criteria is turned off \n\n\nScript 2 (using \nRhinoCommon\n through \nscriptcontext\n):\n\n\nimport rhinoscriptsyntax as rs\nimport scriptcontext as sc\nimport time\n\n\ndef lights_out(layer_list=None):\n    if layer_list is None:\n        layers_to_hide = [\"Default\"]\n        layer_list = layers_to_hide\n    else:\n        pass\n    for l in sc.doc.Layers:\n        if l.Name in layer_list:\n            #print l.Index, l.Name\n            l.IsVisible = False\n            #rs.LayerVisible(l.Name,False)\n\nif __name__==\"__main__\":\n    ts = time.time()\n    \n    lights_out()\n    \n    te = time.time()\n    print \"Elapsed time is {:.2f}\".format(te-ts)\n\n\n\nResult:\n\n\n\n\nHow do you even do that semi-turning off sublayers??? \n\n\nIs there a way to turn layers on/off using their index in the layer_table or the id?",
  "code_blocks": [
    {
      "code": "import rhinoscriptsyntax as rs\nimport scriptcontext as sc\nimport time\n\n\ndef lights_out(layer_list=None):\n    if layer_list is None:\n        layers_to_hide = [\"Default\"]\n        layer_list = layers_to_hide\n    else:\n        pass\n    for l in sc.doc.Layers:\n        if l.Name in layer_list:\n            #print l.Index, l.Name\n            #l.IsVisible = False\n            rs.LayerVisible(l.Name,False)\n\nif __name__==\"__main__\":\n    ts = time.time()\n    \n    lights_out()\n    \n    te = time.time()\n    print \"Elapsed time is {:.2f}\".format(te-ts)",
      "language": "python",
      "author": "ivelin.peychev",
      "post_number": 1,
      "is_solution": false
    },
    {
      "code": "import rhinoscriptsyntax as rs\nimport scriptcontext as sc\nimport time\n\n\ndef lights_out(layer_list=None):\n    if layer_list is None:\n        layers_to_hide = [\"Default\"]\n        layer_list = layers_to_hide\n    else:\n        pass\n    for l in sc.doc.Layers:\n        if l.Name in layer_list:\n            #print l.Index, l.Name\n            l.IsVisible = False\n            #rs.LayerVisible(l.Name,False)\n\nif __name__==\"__main__\":\n    ts = time.time()\n    \n    lights_out()\n    \n    te = time.time()\n    print \"Elapsed time is {:.2f}\".format(te-ts)",
      "language": "python",
      "author": "ivelin.peychev",
      "post_number": 1,
      "is_solution": false
    }
  ],
  "tags": [
    "csharp",
    "file-io",
    "layers",
    "python",
    "rhinocommon",
    "rhinoscriptsyntax"
  ],
  "has_accepted_answer": true,
  "category_id": 11,
  "posts_count": 11,
  "views": 1571
}